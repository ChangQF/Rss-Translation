<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>最近的问题 - 交叉验证</title>
    <link>https://stats.stackexchange.com/questions</link>
    <description>来自 stats.stackexchange.com 的最新 30 条</description>
    <lastBuildDate>Fri, 08 Nov 2024 15:17:40 GMT</lastBuildDate>
    <item>
      <title>需要帮助决定运行什么测试</title>
      <link>https://stats.stackexchange.com/questions/656957/need-help-with-what-test-to-run</link>
      <description><![CDATA[大家好，
我每个月都会监测 4 个不同地点的环境参数，持续一整年。我计算了这些参数的平均值及其标准差。我想看看地点、月份或两者的组合是否会影响我测量的值。我只是不知道要运行什么测试。
对于三月、四月、九月和十月，我只有 3 个地点的数据。我不确定这是否会改变任何事情。附件是我的一个参数（叶绿素）的图表。非常感谢任何帮助，统计不是我的强项 (:]]></description>
      <guid>https://stats.stackexchange.com/questions/656957/need-help-with-what-test-to-run</guid>
      <pubDate>Fri, 08 Nov 2024 15:10:25 GMT</pubDate>
    </item>
    <item>
      <title>与泊松和二项回归相比，负二项式下的低估</title>
      <link>https://stats.stackexchange.com/questions/656953/underestimation-under-negative-binomial-compared-to-poisson-and-binomial-regress</link>
      <description><![CDATA[我尝试使用下面的 R 代码，在一个包含两个组（第 1 组和第 2 组）的玩具数据集上比较泊松、负二项和二项回归模型。我观察到了一些有趣的结果。
我从第 1 组创建了 1000 个样本，它们是二项式（5，0.25）。然后，我从第 2 组创建了 10 个样本，它们是二项式（500，0.75）。请注意，我保持总观察次数（1000 * 5 vs 500 * 10）相同，但它们的分配不同。
我进行了两次测试：

首先，当我省略组变量时，泊松和二项回归给我的估计值约为 0.5（介于 0.25 和 0.75 之间）。这将是我期望回归返回的值。然而，负二项式似乎非常有利于第 1 组的结果，并返回 0.26。这是违反直觉的。
在我的第二个测试中，我添加了组变量，所有三个回归都一致。

任何关于为什么会出现这些差异的见解都将不胜感激。假设我无法访问实际数据中的组变量，我该如何论证一个模型优于另一个模型？
library(MASS)

# 设置参数
n1 &lt;- 5 # 第 1 组的每个样本总数
p1 &lt;- 0.25 # 第 1 组的概率
m1 &lt;- 1000 # 第 1 组的独立样本数

n2 &lt;- 500 # 第 2 组的每个样本总数
p2 &lt;- 0.75 # 第 2 组的概率
m2 &lt;- 10 # 第 2 组的独立样本数

# 为第 1 组生成二项式数据
set.seed(42) # 为了可重复性
outcome1 &lt;- rbinom(m1, size = n1, prob = p1)
total_count1 &lt;- rep(n1, m1)

# 生成第 2 组的二项式数据
outcome2 &lt;- rbinom(m2, size = n2, prob = p2)
total_count2 &lt;- rep(n2, m2)

# 合并为单个数据集
group &lt;- rep(c(&quot;Group1&quot;, &quot;Group2&quot;), times = c(m1, m2))
outcome &lt;- c(outcome1, consequence2)
total_count &lt;- c(total_count1, total_count2)
dataset &lt;- data.frame(group = factor(group), consequence = consequence, total_count = total_count)
dataset[&quot;failures&quot;] = dataset[&quot;total_count&quot;] - dataset[&quot;outcome&quot;]

# 泊松回归
poisson &lt;- glm(outcome ~ offset(log(total_count)), data = dataset, family = poisson(link = &quot;log&quot;))
summary(poisson)
exp(poisson$coefficients[1]) # 0.4925（在中间某处）

# NB 回归
nb &lt;- glm.nb(outcome ~offset(log(total_count)), data = dataset)
summary(nb)
exp(nb$coefficients[1]) # 0.264666（对较小的点赋予较大的权重）

# 二项回归
binom &lt;- glm(cbind(outcome, Failures) ~ 1, data = dataset, family = binomial(link=&quot;log&quot;))
summary(binom)
exp(binom$coefficients[1]) # 0.4925（在中间某处）

# 现在用组变量重复
# 泊松回归
poisson &lt;- glm(outcome ~ group + offset(log(total_count)), data = dataset, family = poisson(link = &quot;log&quot;))
summary(poisson)
exp(poisson$coefficients[1]) # 0.2424 (应该是这样的)
exp(poisson$coefficients[1] + poisson$coefficients[2]) # 0.7426 (应该是这样的)

# NB 回归
nb &lt;- glm.nb(outcome ~ group + offset(log(total_count)), data = dataset)
summary(nb)
exp(nb$coefficients[1]) # 0.2424 (应该是这样的)
exp(nb$coefficients[1] + nb$coefficients[2]) # 0.7426（应该是这样的）

# 二项式回归
binom &lt;- glm(cbind(outcome, Failures) ~ group, data = dataset, family = binomial(link=&quot;log&quot;))
summary(binom)
exp(binom$coefficients[1]) # 0.2424（应该是这样的）
exp(binom$coefficients[1] + binom$coefficients[2]) # 0.7426（应该是这样的）
]]></description>
      <guid>https://stats.stackexchange.com/questions/656953/underestimation-under-negative-binomial-compared-to-poisson-and-binomial-regress</guid>
      <pubDate>Fri, 08 Nov 2024 13:54:04 GMT</pubDate>
    </item>
    <item>
      <title>使用坐标（UTM）在 GAMLSS 中进行高斯马尔可夫随机场拟合</title>
      <link>https://stats.stackexchange.com/questions/656951/gaussian-markov-random-field-fitting-in-gamlss-with-coordinates-utms</link>
      <description><![CDATA[我正在 gamlss 中构建一个模型，该模型包含空间相关的存在/不存在生态数据（二进制）。看来我在 gamlss 中的主要选择是在 GAMLSS 模型中包含一个 MRF 加法项，但到目前为止我发现的所有插图/帖子都只提供了带有相邻多边形的示例。有人可以提供一些示例代码来说明如何使用与每个观察相关的坐标（UTM 或纬度/经度）构建 gmrf 项吗？或者这个函数只适用于多边形？
我最初尝试在 gamm 模型中指定相关结构，但最近发现其他帖子表明 PQL 在二进制数据中表现不佳。我也尝试过 sdmTMB，但我的几个协变量是非线性的，我发现 sdmTMB 中的平滑函数有限/难以可视化（特别是因为我想使用惩罚 b 样条）。虽然 gamm4 可以很好地处理二进制数据，但据我所知没有相关结构的选项。]]></description>
      <guid>https://stats.stackexchange.com/questions/656951/gaussian-markov-random-field-fitting-in-gamlss-with-coordinates-utms</guid>
      <pubDate>Fri, 08 Nov 2024 13:34:39 GMT</pubDate>
    </item>
    <item>
      <title>条件均值 $E(Y|X)$ 是否也能最小化测试集（在总体中）的二次损失？</title>
      <link>https://stats.stackexchange.com/questions/656950/does-the-conditional-mean-eyx-also-minimizes-the-quadratic-loss-on-testing</link>
      <description><![CDATA[我们知道条件均值$E(Y|X)$是所有平方可积$h(X)$中$E(Y-h(X))^2$的最小值。我对这个结果的确切含义有以下疑问：

这个说法是否仅适用于训练集（在总体中），原则上任何事情都可能发生在测试集（在总体中）上？也就是说，测试集$E_{test}(Y-h(X))^2$上的预期二次损失可能不会被$E(Y|X)$最小化（即使$E(Y|X)$最小化了$E(Y-h(X))^2$）。

如果问题 1 的答案是肯定的。似乎这个结果在机器学习中不是很有用，因为在机器学习中我们关心的是测试集（未见过的新数据）上最好的预测因子是什么。这是正确的吗？

“$E(Y|X)$ 是 $E(Y-h(X))^2$ 的最小化器”这一事实何时意味着 $E(Y|X)$ 也最小化 $E_{test}(Y-h(X))^2$？我能想到的简单情况是训练和测试集是相同分布的（这种简单情况在应用中通常会发生吗？如果是，我们如何获得相同分布的训练和测试数据？）。还有其他情况吗？或者有什么一般理论可以描述训练集上的最佳预测器何时也可能最适合未见过的新数据？


除了您的答案之外，如果您能推荐一些高质量的讲座幻灯片或教科书来链接、关联、比较和解释这些对象，那就太好了。]]></description>
      <guid>https://stats.stackexchange.com/questions/656950/does-the-conditional-mean-eyx-also-minimizes-the-quadratic-loss-on-testing</guid>
      <pubDate>Fri, 08 Nov 2024 12:57:34 GMT</pubDate>
    </item>
    <item>
      <title>标准差、对象内标准差和无偏标准差之间的差异</title>
      <link>https://stats.stackexchange.com/questions/656949/differences-bettween-standar-deviation-standar-deviation-within-subject-and-unb</link>
      <description><![CDATA[作为可重复性的测量，标准差、对象内标准差和无偏标准差之间有何区别？]]></description>
      <guid>https://stats.stackexchange.com/questions/656949/differences-bettween-standar-deviation-standar-deviation-within-subject-and-unb</guid>
      <pubDate>Fri, 08 Nov 2024 12:48:39 GMT</pubDate>
    </item>
    <item>
      <title>对于几何分布的似然函数是什么，是否存在任何疑问？</title>
      <link>https://stats.stackexchange.com/questions/656948/is-there-any-question-as-to-what-the-likelihood-function-for-a-geometric-distrib</link>
      <description><![CDATA[因为我读过它要么是

$g(x) = 
\prod_{i=1}^∞\ p(1-p)^{x_i}$

或者

$g(x) = 
\prod_{i=1}^∞\ p(1-p)^{x_i-1}$

所以我真的很困惑。
参考：https://math.stackexchange.com/questions/4429910/mle-of-the-geometric-distribution
编辑：我的 iid 观察来自 $x_1, x_2$ 等...]]></description>
      <guid>https://stats.stackexchange.com/questions/656948/is-there-any-question-as-to-what-the-likelihood-function-for-a-geometric-distrib</guid>
      <pubDate>Fri, 08 Nov 2024 12:24:02 GMT</pubDate>
    </item>
    <item>
      <title>不改变整体分布的抽样</title>
      <link>https://stats.stackexchange.com/questions/656945/sampling-without-changing-the-overall-distribution</link>
      <description><![CDATA[我有 $n$ 个向量，它们具有 2 个特征：ID 和地点：
| ID | 地点 |
| 1 | A |
| 1 | B |
| 1 | B |
| 1 | C |
| 2 | B |
| 2 | C |
| 2 | B |
| 3 | F |
| 4 | C |
| 4 | A |
我可以绘制地点分布图，假设它们按降序排列：A B C D E F ... 访问量最大的地方是 A。
如果我查看 ID 和地点对，我可以看到例如 ID 编号 7 已经去过地点 A 12 次，并且它是去过地点 A 的所有 ID 中最多的。
我想进行下采样/子采样（我不知道哪个术语更正确），以便我保留所有 ID 和相同的地点分布，但每个 ID 的地点最少。
我尝试了很多方法（设置每个 ID 的最大地点数，以每个 ID 较低的地点平均值进行采样 + 权衡整体分布或权衡每个 ID 的地点分布，在采样时设置一些阈值..）
我的排序标准是使用 pandas/scipy 计算 Kendall 相关系数（默认为 b 型系数），我得到的最大值是 0.4，所以订单未保留。
谢谢您的帮助！]]></description>
      <guid>https://stats.stackexchange.com/questions/656945/sampling-without-changing-the-overall-distribution</guid>
      <pubDate>Fri, 08 Nov 2024 10:15:00 GMT</pubDate>
    </item>
    <item>
      <title>逆概率加权与重要性抽样</title>
      <link>https://stats.stackexchange.com/questions/656942/inverse-probability-weighting-vs-importance-sampling</link>
      <description><![CDATA[逆概率加权和重要性抽样有什么区别？
摘自维基百科页面：

逆概率加权是一种统计技术，用于估计与数据收集来源以外的总体相关的数量。


重要性抽样是一种蒙特卡罗方法，用于评估特定分布的属性，同时仅从与感兴趣的分布不同的分布中生成样本。

它们不是一模一样的吗？有趣的是，它们从不在每个页面中互相引用。
从技术方面来看，我也看不出有什么区别。它们都通过将估计量除以被抽样的概率来校正抽样分布。]]></description>
      <guid>https://stats.stackexchange.com/questions/656942/inverse-probability-weighting-vs-importance-sampling</guid>
      <pubDate>Fri, 08 Nov 2024 09:38:19 GMT</pubDate>
    </item>
    <item>
      <title>纵向研究中的模拟与基于公式的功效计算：为什么差异这么大？</title>
      <link>https://stats.stackexchange.com/questions/656934/simulation-vs-formula-based-power-calculations-for-longitudinal-studies-why-the</link>
      <description><![CDATA[我想了解在纵向 RCT 的混合线性模型背景下，使用基于公式的方法与模拟进行功效计算所获得结果不同的原因。我相对无知，非常感激您提供一些见解。
让我们看一个示例小插图，它略微修改自“纵向数据线性模型的功效及其在阿尔茨海默病 II 期研究设计中的应用”1
考虑一项阿尔茨海默病 RCT，其中每三个月进行一次评估，持续 18 个月（7 次访问）。我们假设试验药物在阿尔茨海默病评估量表 (ADAS-Cog) 的认知部分上可检测到的最小效应大小为 0.75 分。假设受试者按 1:1 的比例分为安慰剂组和药物组。根据试点研究，我们假设随机截距的方差为 55，随机斜率的方差为 24，残差方差为 10。随机斜率项和随机截距项之间的相关性为 0.8。
为了构建此场景的混合线性模型，我们假设 ADAS-Cog 每年下降 10 分，并假设平均基线（截距）为 -10。
为简单起见，假设没有流失，并且 ADAS-Cog 随时间线性下降。假设随机斜率和截距来自二元正态分布。
首先使用 longpower 包中的 edland.linear.power 函数通过公式计算功率。让我们确定总共 100 个受试者的功效：
install.packages(&quot;longpower&quot;)
library(longpower)
sig2.i = 55
# 随机斜率的变量
sig2.s = 24
# 残差变量
sig2.e = 10
# 斜率和截距的协方差
cov.s.i &lt;- 0.8*sqrt(sig2.i)*sqrt(sig2.s)
t = seq(0,1.5,0.25)

out &lt;- edland.linear.power(delta=.75, t=t, sig2.int = sig2.i, sig.b0b1 = cov.s.i, sig2.s = sig2.s, sig2.e = sig2.e, sig.level=0.05, n = 50, lambda = 1)


输出：
power ~ 0.1
请注意，long power 包中基于 GEE 的 Diggle 公式产生的结果几乎相同。2
现在让我们尝试模拟：
install.packages(MASS)
install.packages(&quot;lmerTest&quot;)
library(MASS) # for MVRNORM
library(lmerTest)

nsim = 500
pval &lt;- numeric()

for (i in 1:nsim) {

# 受试者总数 
ni = 100

# 随机截距的变量
sig2.i = 55
# 随机斜率的变量
sig2.s = 24
# 残差变量
sig2.e = 10
# 截距和斜率之间的相关性
rho = .8
# 斜率和截距的协方差
cov.s.i &lt;- rho*sqrt(sig2.i)*sqrt(sig2.s)

psi = matrix(c(sig2.i,cov.s.i, cov.s.i, sig2.s), 2, 2)
RE = mvrnorm(ni, mu=c(0,0), psi)
colnames(RE) = c(&quot;ints&quot;,&quot;slopes&quot;); t(round(RE,2))
time = seq(0,1.5,0.25) # 访问
nj = as.numeric(length(time)) 

# 制作协变量和随机误差的数据框
df = data.frame(ID = rep(1:ni, each=nj, times = 1), 
time = (rep(time, times=ni)),
group = rep(gl(2, (ni*nj)/2, labels = c (&quot;placebo&quot;, &quot;drug&quot;))),
time.group &lt;- c(rep(0, each = (ni*nj)/2, 
times = 1),as.numeric(rep(1:nj, times=(ni/2)))),
RE.i = rep(RE[,1], each=nj),
RE.s = rep(RE[,2], each=nj)
)

colnames(df) = c(&#39;ID&#39;, &#39;time&#39; ,&#39;group&#39;,&#39;time.group&#39;,&#39;RE.i&#39;, &#39;RE.s&#39;)

e &lt;- rnorm(n=ni*nj, mean=0, sd=sqrt(sig2.e)) #残差
df$e = e

#生成 y
y = with(df, (-10 + RE.i) + (-10 + RE.s)*time + .75*(time.group) + e)
df$y = y

m1 &lt;- lmer(y ~ time*group + (time| ID), data = df, REML = F, control = lmerControl(optimizer =&quot;Nelder_Mead&quot;))

summary(m1)
out &lt;- anova(m1)
pval[i] &lt;- out$&#39;Pr(&gt;F)&#39;[3]

}

power &lt;- sum(pval &lt; 0.05)/nsim

功效约为 0.8。
问题是，为什么纵向 RCT 中基于公式和基于模拟的治疗效果功效计算之间存在巨大差异？
我在计算中犯了根本性错误吗？
这些分析在备选假设下的分布是否存在真正的差异？为什么？
任何见解都非常感谢。]]></description>
      <guid>https://stats.stackexchange.com/questions/656934/simulation-vs-formula-based-power-calculations-for-longitudinal-studies-why-the</guid>
      <pubDate>Fri, 08 Nov 2024 04:45:55 GMT</pubDate>
    </item>
    <item>
      <title>“方差效应”对任意分布都成立吗？</title>
      <link>https://stats.stackexchange.com/questions/656927/does-the-variance-effect-hold-for-any-arbitrary-distribution</link>
      <description><![CDATA[设$F(\mu,\sigma)$为某个二参数分布，参数分别为均值和标准差。以下所有 rv 都是独立的。
设 rv $X_0\sim F(0,\sigma)$ 和 $X_1\sim F(1,\sigma)$
设 $\sigma&#39;\geq \sigma$。
设 rv $X&#39;_0\sim F(0,\sigma&#39;)$ 和 $X&#39;_1\sim F(1,\sigma&#39;)$
这意味着所有这些分布都来自同一位置尺度系列。
是否真的$P(X_1&gt;X_0)\geq P(X&#39;_1&gt;X_0&#39;)$?
它显然适用于正态分布。我想知道它是否也适用于任何任意分布。这可能是一个简单的问题。]]></description>
      <guid>https://stats.stackexchange.com/questions/656927/does-the-variance-effect-hold-for-any-arbitrary-distribution</guid>
      <pubDate>Thu, 07 Nov 2024 23:43:10 GMT</pubDate>
    </item>
    <item>
      <title>您能在线性模型中添加主成分 (PC) 和其他预测因子之间的交互作用吗？</title>
      <link>https://stats.stackexchange.com/questions/656922/can-you-add-interactive-effects-between-principal-components-pcs-and-other-pre</link>
      <description><![CDATA[我正在构建一个 glmm，其中有 3 个 PC（主成分）作为模型中的预测因子。这些 PC 基于土壤变量（pH、CEC、营养物质），因此我有理由相信它们可能与模型中的其他环境预测因子（即土壤水分、冠层间隙指数）相互作用。以下内容是否有效：
$$
y = x_{1} + x_{2} + x_{3}PC_{1} + x_{4}PC_{2} + \epsilon
$$
其中，$x_{3}$ 和 $x_{4}$ 是土壤水分和冠层间隙指数，它们与主成分相互作用。]]></description>
      <guid>https://stats.stackexchange.com/questions/656922/can-you-add-interactive-effects-between-principal-components-pcs-and-other-pre</guid>
      <pubDate>Thu, 07 Nov 2024 21:26:29 GMT</pubDate>
    </item>
    <item>
      <title>线性混合模型的平行中介分析</title>
      <link>https://stats.stackexchange.com/questions/656876/parallel-mediation-analysis-with-linear-mixed-model</link>
      <description><![CDATA[我想用线性混合模型进行并行中介分析，因为我的数据是非正态的。
HAMA_psy 和 RRS_brood 是中介，Sadness 是 IV，Melankoli 是 DV。
我已经创建了一个模型，并使用引导函数计算了间接效应，但是当我不使用 lavaan 时，我没有考虑路径间依赖关系。这就是我认为它错误的原因。
如果您能帮助我使用 LME 进行并行调解，我将非常高兴。
我的模型是：
sadness_to_hama_psy &lt;- lmer(HAMA_psy ~ Sadness + 
(1 | PartID), data = df)
sadness_to_rrs_brood &lt;- lmer(RRS_brood ~ Sadness + 
(1 | PartID), data = df)
hama_psy_to_melankoli &lt;- lmer(Melankoli ~ HAMA_psy + Sadness + 
(1 | PartID), data = df)
rrs​​_brood_to_melankoli &lt;- lmer(Melankoli ~ RRS_brood + Sadness + 
(1 | PartID), data = df)
间接效应 hama_psy &lt;- fixef(sadness_to_hama_psy)[&quot;悲伤&quot;] * 
fixef(hama_psy_to_melankoli)[&quot;HAMA_psy&quot;]
间接效应 rrs_brood &lt;- fixef(sadness_to_rrs_brood)[&quot;悲伤&quot;] * 
fixef(rrs_brood_to_melankoli)[&quot;RRS_brood&quot;]

总间接效应 &lt;- indirect_effect_hama_psy + 
indirect_effect_rrs_brood

直接效应 &lt;- fixef(hama_psy_to_melankoli)[&quot;悲伤&quot;] + 
fixef(rrs_brood_to_melankoli)[&quot;悲伤&quot;]

total_effect &lt;- total_indirect_effect + direct_effect
boot_results &lt;- boot(data = df, 
statistic = function(data, indices) {
d &lt;- data[indices, ] # 重新采样数据

# 将模型重新拟合到引导样本
model_sadness_to_hama_psy &lt;- lmer(HAMA_psy ~ 
悲伤 + 阶段 + (1 | PartID), data = d)
model_sadness_hama_psy_to_melankoli &lt;- 
lmer(Melankoli ~ Sadness + HAMA_psy + Stage + 
(1 | PartID), data = d)
model_sadness_rrs_brood_to_melankoli &lt;- 
lmer(Melankoli ~ Sadness + RRS_brood + 
Stage + (1 | PartID), data = d)

# 从 
# 每个模型中提取系数（固定效应）
coefs_sadness_to_hama_psy &lt;- 
fixef(model_sadness_to_hama_psy)
coefs_sadness_hama_psy_to_melankoli &lt;- 
fixef(model_sadness_hama_psy_to_melankoli)
coefs_sadness_rrs_brood_to_melankoli &lt;- 
fixef(model_sadness_rrs_brood_to_melankoli)

# 计算直接和间接影响
direct_effect &lt;- 
coefs_sadness_hama_psy_to_melankoli[&quot;Sadness&quot;]

indirect_hama_psy &lt;- 
coefs_sadness_to_hama_psy[&quot;Sadness&quot;] * 
coefs_sadness_hama_psy_to_melankoli[&quot;HAMA_psy&quot;]

indirect_rrs_brood &lt;- 
coefs_sadness_rrs_brood_to_melankoli[&quot;Sadness&quot;] * 
coefs_sadness_rrs_brood_to_melankoli[&quot;RRS_brood&quot;]

total_indirect_effect &lt;- indirect_hama_psy + 
indirect_rrs_brood 
},
R = 1000)

boot.ci(boot.out = boot_results, type = &quot;perc&quot;)


传统的中介分析对正态分布很敏感。我使用后续数据进行研究。我认为你说集群时指的是分层的，但我的模型不是分层的。如果在中介分析中添加额外的路径，结果就会发生变化。换句话说，添加的变量会改变结果，但这不会发生在 LMM 中。更准确地说，我做不到。]]></description>
      <guid>https://stats.stackexchange.com/questions/656876/parallel-mediation-analysis-with-linear-mixed-model</guid>
      <pubDate>Thu, 07 Nov 2024 08:18:53 GMT</pubDate>
    </item>
    <item>
      <title>RCT 中的随机重复观察</title>
      <link>https://stats.stackexchange.com/questions/656869/random-repeated-observations-in-rct</link>
      <description><![CDATA[我的问题是关于 RCT 的，其中我们每个单元都会收到许多重复的观察结果，但我们不一定想将它们汇总在一起。下面是一个具体的例子。
假设我正在为现实世界中的学生运行一个学习工具的两个版本的 RCT。每个学生都会报告他们的家庭作业成绩，但我们事先不知道他们会报告多少观察结果。
假设是实验组的家庭作业分数会提高（比如从 70% 提高到 75%）。我在治疗分配时有学生协变量（例如，GPA、在校年份等），我计划在回归中使用这些协变量。



治疗
学生 ID
观察




1
1
90/100（主题 1），8/10（主题 3），7/10（主题 5）


1
2
80/100（主题2）


1
3
40/50（科目 4），15/20（科目 2）


0
4
70/100（科目 2）


0
5
7/10（科目 1），40/50（科目 3）


0
6
7/10（科目 5）



一些具体的问题：

一种方法是通过对分子和分母求和来将所有数据聚合在一起。现在每个学生都有一个观察值（对于学生 1，观察值是 105/120），但这似乎不会遗漏我所掌握的全部信息。有没有办法设计一个回归设置，帮助我在不聚合的情况下分析这些数据？除了学生协变量之外，我还应该使用学生随机效应吗？
假设学生还报告了家庭作业的科目。由于这些是在治疗分配后观察到的，因此不应将它们用作回归模型中的协变量。有没有办法使用这些信息？由于观察结果可以针对不同的科目，因此观察结果会有一些变化，我不确定如何处理。
]]></description>
      <guid>https://stats.stackexchange.com/questions/656869/random-repeated-observations-in-rct</guid>
      <pubDate>Thu, 07 Nov 2024 04:53:14 GMT</pubDate>
    </item>
    <item>
      <title>相关组：混合效应作为因子模型</title>
      <link>https://stats.stackexchange.com/questions/656851/correlated-groups-mixed-effects-as-a-factor-model</link>
      <description><![CDATA[这已发布在量化交易所中，但没有人感兴趣，所以我想我可以在这里重新发布它。
我正在尝试建立一个 Fama-French 风格的基本因子模型。我有 FF 因子以及我的资产所属的行业。对于不熟悉 FF 的人，您可以将其视为一些基本因素（与通货膨胀或 GDP 相同）
该模型指定为：
$$
\mathbf{Y} = \mathbf{X}\beta + \mathbf{Z}\gamma + \epsilon 
$$
其中，$\mathbf{Y}$ 是 $N$ 资产和 $T$ 每周回报的横截面时间序列矩阵； $\mathbf{X}$ 是 Fama-French 因子（HML、SMB、WML 和 Market-RF 投资组合的每周回报）；$\mathbf{Z}$ 是随机效应矩阵。我有一个简单的案例，其中只有随机截距而没有随机斜率，即$\mathbf{Z}$ 是一个由 1 和 0 组成的矩阵，表示资产所属的行业。 $\epsilon$ 是分布为 $N(0,1)$ 的残差，$\gamma$ 是随机截距 $N(0,\mathbf{G})$，而 $\beta$ 是本例中通常的固定斜率（和一个固定截距）。
我们可以使用 statsmodels&#39; 混合线性模型 来拟合该模型。
数据框如下所示：

我们只需通过以下方式拟合模型：
md = smf.mixedlm(&quot;y ~ MktRF + SMB + HML + WML&quot;, X, groups=X[&quot;sector&quot;])
res = md.fit()

摘要如下所示。然而，结果很糟糕。残差和拟合值之间几乎存在完美的线性关系。


我怀疑协方差矩阵$\mathbf{G}$出了问题，因为它接近奇异值。关于这个问题，我读到的常见方法之一是，随机效应可能过度参数化，并且可能存在多重共线性。因此，我计算了（出于必要，做了一些填充）行业之间的相关性 - 我们的随机截距。

嗯，是的，这些组是相互关联的（尤其是一些组）。
问题：

我们能做些什么？我可以重新分组一些相关的行业，但这似乎不是一个好主意。例如，“金融”和“工业”的相关性很高，但这些是完全不同的组，可能与其他组具有不同的相关性。

协方差真的是个问题吗？也可能是其他原因？我读过这篇帖子，其中讨论了零方差并不一定意味着模型有问题，即可能没有组变异，所有变异都被残差变异捕获 - 但这仍然不能解释数据和残差之间的线性关系。

]]></description>
      <guid>https://stats.stackexchange.com/questions/656851/correlated-groups-mixed-effects-as-a-factor-model</guid>
      <pubDate>Wed, 06 Nov 2024 18:28:13 GMT</pubDate>
    </item>
    <item>
      <title>样本量越大，错误拒绝原假设的风险是否会越大？</title>
      <link>https://stats.stackexchange.com/questions/656828/does-the-risk-of-incorrectly-rejecting-the-null-hypothesis-increase-with-a-large</link>
      <description><![CDATA[我经常看到类似这样的话：“如果样本量足够大，较小的效应量可以产生显著的结果”。我不太明白这一点。
对我来说，这听起来是这样的：增加样本量，你最终肯定会拒绝零假设（也就是说，如果你将样本量增加到一定大小，你 100% 肯定会拒绝 0 假设）。
重新阅读此主题。据我所知，鉴于我在统计学方面的经验，零假设被正确地拒绝了。
决定在 ttest_1samp 测试的代码中检查这一点，使 popmean=15.03 与样本 (mean=15) 的差异非常小。滑块选择 N - 样本，并实时重新绘制分布，垂直条是上限值（蓝色）和 p_value（橙色）。
更新 08.11.2024
由于数组的平均值与声明的平均值不同，为了准确起见，我通过向其添加一些值使值 mu_0 = mu_1 + value。mu_0 在图表上以绿色绘制，置信区间为洋红色。该图还显示 p 值本身、平均值和间隔（CI）。更改 N，图形将动态重新绘制。现在我还检查了均值差异很大，需要样本量来拒绝更小的样本。可以通过 value 设置差异。
import matplotlib.pyplot as plt
import numpy as np
from scipy.stats import t, norm, ttest_1samp
from matplotlib.widgets import Slider

fig, ax = plt.subplots()
fig.subplots_adjust(bottom=0.25)

ax_n = fig.add_axes([0.25, 0.15, 0.65, 0.03])
s_n = Slider(ax_n, &quot;N&quot;, valmin=7, valmax=30000,valinit=21, valstep=1)

value = 0.03

def update(val):
N = s_n.val
rvs = np.sort(norm.rvs(loc=15,比例=1，大小=N，random_state=1））
    mu, std = np.mean(rvs), np.std(rvs)
    mu_0 = mu + 值
    z_values = (rvs - mu) / std
    df = N - 1
    pdf = t.pdf(rvs, loc=mu, 比例=std, df=df)
    tst = ttest_1samp(rvs, popmean=mu_0)
    l、r = t.ppf(1 - 0.975, df=df), t.ppf(0.975, df=df)
    ci = tst.confidence_interval(confidence_level=0.95)
    ci_0, ci_1 = np.round(ci, 4)
    ci = (ci - mu) / std
ax.clear()
ax.plot(z_values, pdf, lw=2, color=&quot;red&quot;)
ax.axvline(x=(mu_0 - mu) / std, color=&quot;green&quot;, label=&quot;mean 0&quot;)# 0 假设的平均值
ax.axvline(x=ci[0], linestyle=&quot;--&quot;, color=&quot;magenta&quot;, label=&quot;CI&quot;)
ax.axvline(x=ci[1], linestyle=&quot;--&quot;, color=&quot;magenta&quot;)
ax.axvline(x=l, linestyle=&quot;--&quot;, color=&quot;blue&quot;, label=&quot;alfa&quot;)# alfa
ax.axvline(x=r, linestyle=&quot;--&quot;, color=&quot;blue&quot;)# alfa
ax.axvline(x=t.ppf(tst[1]/2, df=df), linestyle=&quot;--&quot;, color=&quot;orange&quot;, label=&quot;p-value&quot;)#p-value
ax.axvline(x=-t.ppf(tst[1]/2, df=df), linestyle=&quot;--&quot;, color=&quot;orange&quot;)#p-value
ax.text(0, (np.max(pdf) + np.min(pdf))/2, &quot;p_value =&quot; + str(round(tst[1], 4))
+ &quot;\n&quot; + &quot;mu_0 =&quot; + str(round(mu_0, 5)) + &quot;\n&quot; + &quot;mu_1 =&quot; + str(round(mu, 5)) +
&quot;\n&quot; + &quot;ci_0 =&quot; + str(ci_0) + &quot;\n&quot; + &quot;ci_1 =&quot; + str(ci_1), fontsize=12)
ax.legend()

s_n.on_changed(update)
update(0)

plt.show()
]]></description>
      <guid>https://stats.stackexchange.com/questions/656828/does-the-risk-of-incorrectly-rejecting-the-null-hypothesis-increase-with-a-large</guid>
      <pubDate>Wed, 06 Nov 2024 11:43:12 GMT</pubDate>
    </item>
    </channel>
</rss>