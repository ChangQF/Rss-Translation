<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>æœ€è¿‘çš„é—®é¢˜ - äº¤å‰éªŒè¯</title>
    <link>https://stats.stackexchange.com/questions</link>
    <description>æ¥è‡ª stats.stackexchange.com çš„æœ€æ–° 30 æ¡</description>
    <lastBuildDate>Thu, 07 Nov 2024 12:31:47 GMT</lastBuildDate>
    <item>
      <title>ä¸€ä¸ªç®€å•çš„éšé©¬å°”å¯å¤«æ¨¡å‹</title>
      <link>https://stats.stackexchange.com/questions/656887/a-simple-hidden-markov-model</link>
      <description><![CDATA[æˆ‘æ­£åœ¨é˜æ˜ç®€å•éšé©¬å°”å¯å¤«æ¨¡å‹çš„ EM ç®—æ³•çš„ç²¾ç¡®å…¬å¼ã€‚è¿™ä¸ªé—®é¢˜æ¥è‡ª Keener çš„æ•™ç§‘ä¹¦ã€Šç†è®ºç»Ÿè®¡å­¦ã€‹ç¬¬ 9 ç« ç¬¬ 25 ä¸ªé—®é¢˜ï¼Œå…¶ä¸­ä»‹ç»äº†å‡ ä¸ªç”¨äºè®¡ç®— MLE çš„ EM ç®—æ³•çš„å®é™…ç¤ºä¾‹ã€‚
è¿™ä¸ªé—®é¢˜å‡è®¾ä»¥ä¸‹ç®€å•é©¬å°”å¯å¤«è¿‡ç¨‹ã€‚ä»¤ $X_1, X_2, \cdots$ ä¸ºä¼¯åŠªåˆ©å˜é‡ï¼Œ$EX_1=1/2$ï¼Œè”åˆè´¨é‡å‡½æ•°ç”±é€’å½’ç¡®å®š
$$ P(X_{k+1}\ne x_k \vert X_1 =x_1, \cdots, X_k=x_k)=\theta, \quad n=, 1, 2, \cdots $$
ä¸” $X_n, n\ge 1$ åœ¨ $\left\{0, 1\right\}$ ä¸Šå½¢æˆé©¬å°”å¯å¤«é“¾ã€‚ç°åœ¨å‡è®¾æˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿåˆ°è¯¯å·®ï¼Œå› æ­¤é€šè¿‡$Y_1, Y_2, \cdots$ï¼Œå®ƒä»¬æ˜¯ç»™å®š$X_i$æ¡ä»¶ç‹¬ç«‹çš„ä¼¯åŠªåˆ©å˜é‡ï¼Œæ»¡è¶³
$$ P(Y_i \ne X_i\vert X_1, X_2, \cdots) = \gamma$$
å…¶ä¸­$\gamma$æ˜¯å·²çŸ¥å¸¸æ•°ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡ EM ç®—æ³•ä¼°è®¡$\theta\in(0, 1)$ã€‚
ä¸€æ—¦æˆ‘å¾—åˆ°$X$å’Œ$Y$ å»ºç«‹ E-stepï¼Œå³
$$
\begin{cases}
P_{\theta}(X, Y) &amp;= P_{\theta}(Y\vert X)P_{\theta}(X)\\
&amp;= \prod_{i=1}^{n} P_{\theta}(Y_i\vert X_i)P_{\theta}(X_i\vert X_{i-1}), 
\end{cases}
$$
ç›®å‰è¿˜æ²¡æœ‰åŠæ³•å°†è¿™ä¸ªè´¨é‡å‡½æ•°æ€»ç»“æˆä¸€ä¸ªå•ä¸€çš„é—­å¼å½¢å¼ã€‚æ­¤å¤–ï¼Œæœ€ç»ˆåº”è¯¥è®¡ç®—æœŸæœ›å€¼$E_{\theta}[X\vert Y]$ï¼Œå¼•å…¥ä¸€äº›æ–°å˜é‡ä½¿å…¬å¼æ›´ç®€å•çš„å·§å¦™æ–¹æ³•ä¼¼ä¹æ˜¯å¿…è¦çš„ã€‚
ä»»ä½•å»ºè®®éƒ½å°†ä¸èƒœæ„Ÿæ¿€ã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/656887/a-simple-hidden-markov-model</guid>
      <pubDate>Thu, 07 Nov 2024 11:36:54 GMT</pubDate>
    </item>
    <item>
      <title>ä½¿ç”¨å“ªç§ç±»å‹çš„æ¨¡å‹/åˆ†ææ¥é¢„æµ‹æ—¶é—´åºåˆ—æ•°æ®ä¸­çš„äº‹ä»¶</title>
      <link>https://stats.stackexchange.com/questions/656886/what-type-of-model-analysis-to-use-to-predict-events-in-time-series-data</link>
      <description><![CDATA[æˆ‘æœ‰ä¸€å †åŒ…å«å·²çŸ¥çœŸå®ä¸–ç•Œäº‹ä»¶çš„æ—¶é—´åºåˆ—ï¼ˆæ¯ä¸ª t/s ä¸€ä¸ªäº‹ä»¶ï¼‰ã€‚äº‹ä»¶ä¸ä¸€å®šæ˜¯ t/s ä¸­å¯è§çš„å˜åŒ–ï¼Œä½†å·²çŸ¥å®ƒå·²åœ¨ç°å®ä¸–ç•Œä¸­å‘ç”Ÿã€‚
æˆ‘æƒ³çŸ¥é“æˆ‘æ˜¯å¦å¯ä»¥è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ¥äº†è§£äº‹ä»¶ä¹‹å‰æ˜¯å¦å­˜åœ¨ä»»ä½•ç‰¹å¾æ¨¡å¼ï¼Œä»¥ç”¨äºé¢„æµ‹å…¶ä»– t/s æˆ–æœªæ¥ç›¸åŒ t/s ä¸­çš„ç±»ä¼¼äº‹ä»¶ã€‚
è¿™ä¸æ˜¯å¹²é¢„åˆ†æï¼Œå› ä¸ºæˆ‘ä»¬ä¸å…³å¿ƒäº‹ä»¶å‘ç”Ÿåå‘ç”Ÿäº†ä»€ä¹ˆã€‚è¿™ä¹Ÿä¸æ˜¯å˜ç‚¹åˆ†æï¼Œå› ä¸ºæˆ‘ä»¬ç¡®åˆ‡åœ°çŸ¥é“äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´ã€‚è¿™ä¹Ÿä¸æ˜¯å¼‚å¸¸æ£€æµ‹ï¼Œå› ä¸ºäº‹ä»¶ä¸ä¸€å®šä¼šå¯¹æ•°æ®äº§ç”Ÿå½±å“ã€‚
RNN æ˜¯å¦æ˜¯è¿™é¡¹ä»»åŠ¡çš„æ­£ç¡®æˆ–æœ€ä½³å·¥å…·ï¼Ÿè¿™ç§åˆ†ææœ‰é€šç”¨åç§°å—ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/656886/what-type-of-model-analysis-to-use-to-predict-events-in-time-series-data</guid>
      <pubDate>Thu, 07 Nov 2024 11:21:14 GMT</pubDate>
    </item>
    <item>
      <title>é€»è¾‘å›å½’ä½•æ—¶ä¼˜äºéšæœºæ£®æ—ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656884/when-does-logistic-regression-outperform-random-forests</link>
      <description><![CDATA[å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªäºŒå…ƒåˆ†ç±»é—®é¢˜ï¼Œé‚£ä¹ˆä¸¤ç§å¯èƒ½çš„ç»Ÿè®¡æ–¹æ³•æ˜¯é€»è¾‘å’Œéšæœºæ£®æ—ã€‚
ä»ç†è®ºçš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘å¾ˆæ¸…æ¥šï¼Œå¦‚æœå¯¹æ•°æ¦‚ç‡$log(\frac{q}{1-q})$å’Œç‰¹å¾$X_1, ... X_p$ä¹‹é—´æœ‰è¶³å¤Ÿçš„çº¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆé€»è¾‘åœ¨æ„é€ ä¸Šå°±æ˜¯æ›´å¼ºçš„å€™é€‰è€…ã€‚
ä½†æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•ä»¥å›¾å½¢æ–¹å¼æµ‹è¯•æˆ‘ä»¬æ˜¯å¦çœŸçš„æœ‰è¿™ç§çº¿æ€§å…³ç³»ï¼Ÿä¾‹å¦‚ï¼Œåœ¨çº¿æ€§å›å½’çš„æƒ…å†µä¸‹ï¼Œè¿™ç›¸å½“å®¹æ˜“åšåˆ°ï¼šæˆ‘ä»¬å¯ä»¥ç»˜åˆ¶ç›®æ ‡ä¸åå˜é‡çš„å…³ç³»ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯¹ç›®æ ‡å’Œåå˜é‡ä¹‹é—´çš„å…³ç³»çš„çº¿æ€§ç¨‹åº¦æœ‰åˆç†çš„ç†è§£ã€‚ä½†æ˜¯é€»è¾‘çš„æƒ…å†µå‘¢ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/656884/when-does-logistic-regression-outperform-random-forests</guid>
      <pubDate>Thu, 07 Nov 2024 11:12:01 GMT</pubDate>
    </item>
    <item>
      <title>ğ‘› ç›¸å…³éšæœºå˜é‡çš„åŠ æƒå¹³å‡å€¼çš„æ–¹å·®</title>
      <link>https://stats.stackexchange.com/questions/656883/variance-of-weighted-average-of-correlated-random-variables</link>
      <description><![CDATA[æ­¤ç­”æ¡ˆè§£é‡Šäº†å¦‚ä½•è®¡ç®— n ä¸ªç›¸å…³éšæœºå˜é‡çš„å¹³å‡å€¼çš„æ–¹å·®ã€‚å¦‚ä½•è®¡ç®— n ä¸ªç›¸å…³éšæœºå˜é‡çš„åŠ æƒå¹³å‡å€¼ï¼Ÿæˆ‘çš„éšæœºå˜é‡æ˜¯è”åˆå¤šå…ƒé«˜æ–¯åˆ†å¸ƒçš„ã€‚
æ­¤ç­”æ¡ˆè§£é‡Šäº†å¦‚ä½•è®¡ç®—å•ä¸ªéšæœºå˜é‡çš„ä¸åŒå®ç°çš„åŠ æƒå¹³å‡å€¼ï¼Œå…¶ä¸­æƒé‡ä¹Ÿæ˜¯éšæœºå˜é‡çš„å®ç°ã€‚æˆ‘çš„æƒé‡ä¸æ˜¯éšæœºå˜é‡ï¼Œè€Œæ˜¯å›ºå®šæ•°å­—ï¼Œæ‰€ä»¥é—®é¢˜ä¸åŒã€‚
æˆ‘çŸ¥é“è¿™å¾ˆå¯èƒ½æ˜¯çº¸ç¬”æ•°å­¦çš„é—®é¢˜ï¼Œä½†æˆ‘æ‹…å¿ƒè¿™ä¸ªé—®é¢˜è¶…å‡ºäº†æˆ‘çš„èƒ½åŠ›ã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/656883/variance-of-weighted-average-of-correlated-random-variables</guid>
      <pubDate>Thu, 07 Nov 2024 11:06:46 GMT</pubDate>
    </item>
    <item>
      <title>å½“å¢åŠ å¯¹æ•°æ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®æ—¶ï¼Œå®ƒæ˜¯å¦ä¼šè¶‹å‘äºæŒ‡æ•°åˆ†å¸ƒï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656881/does-a-log-normal-distribution-tend-to-an-exponential-distribution-when-increas</link>
      <description><![CDATA[å¯¹æ•°æ­£æ€åˆ†å¸ƒ exp(mu, sigma) ä¼šéšç€å…¶æ ‡å‡†å·® sigma çš„å¢åŠ è€Œå˜å¾—è¶Šæ¥è¶Šåæ–œã€‚
åŒæ ·ï¼ŒæŒ‡æ•°åˆ†å¸ƒ lognorm(lambda) ä¼šéšç€å…¶é€Ÿç‡ lambda çš„å¢åŠ è€Œå˜å¾—è¶Šæ¥è¶Šåæ–œã€‚
è¿™ä¸¤ä¸ªå‡½æ•°åŠå…¶å‚æ•°ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»å—ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/656881/does-a-log-normal-distribution-tend-to-an-exponential-distribution-when-increas</guid>
      <pubDate>Thu, 07 Nov 2024 10:59:27 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨ mgcv ä¸­é€‰æ‹© GAM çš„æƒ©ç½šï¼Œbs =â€œtsâ€æˆ– select = TRUE ä¹‹é—´çš„åŒºåˆ«ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656878/choosing-penalty-for-gam-in-mgcv-difference-between-bs-ts-or-select-true</link>
      <description><![CDATA[æˆ‘æ­£åœ¨ç ”ç©¶ä¸€äº›ç¯å¢ƒæ•°æ®ï¼Œä½¿ç”¨ GAM æ¨¡å‹æ¥äº†è§£åœŸå£¤ä¸­ DOC çš„æ§åˆ¶å› ç´ ã€‚æˆ‘åœ¨é€‰æ‹©åˆé€‚çš„ GAM æ¨¡å‹å’Œæƒ©ç½šæ–¹é¢é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚åœ¨ mgcv::gam ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å‘åå˜é‡å¼•å…¥é¢å¤–çš„æƒ©ç½šï¼š
*) bs = &quot;ts ç”¨äºè–„æ¿æ ·æ¡å‡½æ•°ï¼› bs = &quot;cs&quot; è¡¨ç¤ºä¸‰æ¬¡æ ·æ¡å‡½æ•°ï¼Œç”¨äºæƒ©ç½šé›¶ç©ºé—´ã€‚
*) select = TRUE è¡¨ç¤ºå¯¹æ¨¡å‹ä¸­çš„æ‰€æœ‰æ ·æ¡å‡½æ•°è¿›è¡ŒåŒé‡æƒ©ç½šï¼ŒåŒæ—¶æƒ©ç½šé›¶ç©ºé—´å’ŒèŒƒå›´ç©ºé—´ã€‚
æ›´å¤šä¿¡æ¯è¯·å‚è§ æ­¤å¤„ å’Œ æ­¤å¤„ã€‚
æˆ‘æœ‰è¿™å››ä¸ªæ¨¡å‹
mod1 &lt;- mgcv::gam(y ~ s(x1) + s(x2) + s(x3), select = TRUE)
mod2 &lt;- mgcv::gam(y ~ s(x1, bs = &quot;ts&quot;) + s(x2, bs = &quot;cs&quot;) + s(x3, bs = &quot;ts&quot;))
mod3 &lt;- mgcv::gam(y ~ s(x1) + s(x2, bs = &quot;cr&quot;) + s(x3), select = TRUE)
mod4 &lt;- mgcv::gam(y ~ s(x1, bs = &quot;ts&quot;) + s(x2, bs = &quot;cs&quot;) + s(x3), select = TRUE)
s(x1) å’Œs(x3) æ˜¯å…·æœ‰ä¸€å®šæ„ä¹‰çš„é¢„æµ‹å› å­ï¼Œè€Œ s(x2) æ˜¯æ—¶é—´ã€‚
æˆ‘åœ¨è¿™é‡Œå°è¯•åšçš„äº‹æƒ…ï¼šæˆ‘æƒ³é€šè¿‡é¢å¤–çš„æƒ©ç½šæ¥é€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼ŒåŒæ—¶è¿˜ä¸ºä¸€äº›å˜é‡é€‰æ‹©æ ·æ¡åŸºå‡½æ•°çš„ç±»å‹ï¼Œæˆ‘å¯¹æ”¶ç¼©æ–¹æ³•ä¸åŒé‡æƒ©ç½šæ–¹æ³•çš„ç”¨æ³•æ„Ÿåˆ°å›°æƒ‘ã€‚
å¯¹æˆ‘æ¥è¯´ï¼Œæ¨¡å‹ mod4 æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºå®ƒä¼šå¯¹åŸºæ ·æ¡çš„èŒƒå›´å’Œé›¶ç©ºé—´é€ æˆ select = TRUE çš„åŒé‡æƒ©ç½šï¼Œè€Œæ ·æ¡çš„é›¶ç©ºé—´å·²ç»å—åˆ° &quot;ts&quot; å’Œ &quot;cs&quot; æ”¶ç¼©ç‰ˆæœ¬çš„æƒ©ç½šã€‚
åŒæ—¶ï¼Œmod3 åœ¨æˆ‘çœ‹æ¥æ˜¯åœ¨æ‚¨æœ‰ä¸€ä¸ªæ—¶é—´å˜é‡éœ€è¦é€šè¿‡ bs = è¿›è¡Œå¹³æ»‘çš„æƒ…å†µä¸‹çš„æœ€ä½³é€‰æ‹©&quot;cr&quot; åŠ ä¸Šä¸€ä¸ªåå˜é‡ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›åœ¨é›¶ç©ºé—´å’ŒèŒƒå›´ç©ºé—´ä¸­æƒ©ç½šå¹³æ»‘é¡¹ä»¥è¿›è¡Œæ¨¡å‹é€‰æ‹©ã€‚
æ ¹æ®æˆ‘å¯¹æ­¤çš„åŸºæœ¬ç†è§£ï¼Œæœ€ä½³é€‰æ‹©æ˜¯ mod2 æˆ– mod3ï¼Œå› ä¸º mod1 åªä¼šå‡è®¾æ‰€æœ‰å¹³æ»‘çš„è–„æ¿åŸºå‡½æ•°ï¼Œè€Œæƒ…å†µå¹¶éå¦‚æ­¤ï¼Œå› ä¸º s(x2) æ˜¯æ—¶é—´ã€‚
æœ€åï¼Œå¦‚æœ mod4 è§„èŒƒå®Œå…¨é”™è¯¯ï¼Œmgcv::gam ä¸åº”è¯¥å¼¹å‡ºè­¦å‘Šæˆ–é”™è¯¯å—ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/656878/choosing-penalty-for-gam-in-mgcv-difference-between-bs-ts-or-select-true</guid>
      <pubDate>Thu, 07 Nov 2024 09:03:35 GMT</pubDate>
    </item>
    <item>
      <title>çº¿æ€§æ··åˆæ¨¡å‹çš„å¹³è¡Œä¸­ä»‹åˆ†æ</title>
      <link>https://stats.stackexchange.com/questions/656876/parallel-mediation-analysis-with-linear-mixed-model</link>
      <description><![CDATA[æˆ‘æƒ³ç”¨çº¿æ€§æ··åˆæ¨¡å‹è¿›è¡Œå¹¶è¡Œä¸­ä»‹åˆ†æï¼Œå› ä¸ºæˆ‘çš„æ•°æ®æ˜¯éæ­£æ€çš„ã€‚
HAMA_psy å’Œ RRS_brood æ˜¯ä¸­ä»‹ï¼ŒSadness æ˜¯ IVï¼ŒMelankoli æ˜¯ DVã€‚
æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å‹ï¼Œå¹¶ä½¿ç”¨å¼•å¯¼å‡½æ•°è®¡ç®—äº†é—´æ¥æ•ˆåº”ï¼Œä½†æ˜¯å½“æˆ‘ä¸ä½¿ç”¨ lavaan æ—¶ï¼Œæˆ‘æ²¡æœ‰è€ƒè™‘è·¯å¾„é—´ä¾èµ–å…³ç³»ã€‚è¿™å°±æ˜¯æˆ‘è®¤ä¸ºå®ƒé”™è¯¯çš„åŸå› ã€‚
å¦‚æœæ‚¨èƒ½å¸®åŠ©æˆ‘ä½¿ç”¨ LME è¿›è¡Œå¹¶è¡Œè°ƒè§£ï¼Œæˆ‘å°†éå¸¸é«˜å…´ã€‚
æˆ‘çš„æ¨¡å‹æ˜¯ï¼š

sadness_to_hama_psy &lt;- lmer(HAMA_psy ~ Sadness + (1 | PartID), data = df)
sadness_to_rrs_brood &lt;- lmer(RRS_brood ~ Sadness + (1 | PartID), data = df)
hama_psy_to_melankoli &lt;- lmer(Melankoli ~ HAMA_psy + Sadness + (1 | PartID), data = df)
rrsâ€‹â€‹_brood_to_melankoli &lt;- lmer(Melankoli ~ RRS_brood + Sadness + (1 | PartID), data = df)
indirect_effect_hama_psy &lt;- fixef(sadness_to_hama_psy)[&quot;æ‚²ä¼¤&quot;] * fixef(hama_psy_to_melankoli)[&quot;HAMA_psy&quot;]
indirect_effect_rrs_brood &lt;- fixef(sadness_to_rrs_brood)[&quot;æ‚²ä¼¤&quot;] *fixef(rrs_brood_to_melankoli)[&quot;RRS_brood&quot;]

total_indirect_effect &lt;- indirect_effect_hama_psy + indirect_effect_rrs_brood

direct_effect &lt;- fixef(hama_psy_to_melankoli)[&quot;æ‚²ä¼¤&quot;] + fixef(rrs_brood_to_melankoli)[&quot;æ‚²ä¼¤&quot;]

total_effect &lt;- total_indirect_effect + direct_effect
boot_results &lt;- boot(data = df, 
statistic = function(data, indices) {
d &lt;- data[indices, ] # é‡æ–°é‡‡æ ·æ•°æ®

# å°†æ¨¡å‹é‡æ–°æ‹Ÿåˆåˆ°å¼•å¯¼æ ·æœ¬
model_sadness_to_hama_psy &lt;- lmer(HAMA_psy ~ Sadness + Stage + (1 | PartID), data = d)
model_sadness_hama_psy_to_melankoli &lt;- lmer(Melankoli ~ Sadness + HAMA_psy + Stage + (1 | PartID), data = d)
model_sadness_rrs_brood_to_melankoli &lt;- lmer(Melankoli ~ Sadness + RRS_brood + Stage + (1 | PartID), data = d)

# ä»æ¯ä¸ªæ¨¡å‹ä¸­æå–ç³»æ•°ï¼ˆå›ºå®šæ•ˆåº”ï¼‰
coefs_sadness_to_hama_psy &lt;- fixef(model_sadness_to_hama_psy)
coefs_sadness_hama_psy_to_melankoli &lt;- fixef(model_sadness_hama_psy_to_melankoli)
coefs_sadness_rrs_brood_to_melankoli &lt;- fixef(model_sadness_rrs_brood_to_melankoli)

# è®¡ç®—ç›´æ¥å’Œé—´æ¥å½±å“
direct_effect &lt;- coefs_sadness_hama_psy_to_melankoli[&quot;Sadness&quot;]

indirect_hama_psy &lt;- coefs_sadness_to_hama_psy[&quot;Sadness&quot;] * coefs_sadness_hama_psy_to_melankoli[&quot;HAMA_psy&quot;]

indirect_rrs_brood &lt;- coefs_sadness_rrs_brood_to_melankoli[&quot;Sadness&quot;] * coefs_sadness_rrs_brood_to_melankoli[&quot;RRS_brood&quot;]

total_indirect_effect &lt;- indirect_hama_psy + indirect_rrs_brood

},
R = 1000)

boot.ci(boot.out = boot_results, type = &quot;perc&quot;)

]]></description>
      <guid>https://stats.stackexchange.com/questions/656876/parallel-mediation-analysis-with-linear-mixed-model</guid>
      <pubDate>Thu, 07 Nov 2024 08:18:53 GMT</pubDate>
    </item>
    <item>
      <title>Seber å’Œ Lee çš„â€œçº¿æ€§å›å½’åˆ†æâ€ä¸­çš„è¯æ˜</title>
      <link>https://stats.stackexchange.com/questions/656871/proof-in-linear-regression-analysis-by-seber-and-lee</link>
      <description><![CDATA[åœ¨é™„å½•ç»“æœ A.2.2 ä¸­ï¼Œä½œè€…æƒ³è¦è¯æ˜ï¼š
å¦‚æœ $A$ æ˜¯ä»»æ„çŸ©é˜µï¼Œå¹¶ä¸” $P$ å’Œ $Q$ æ˜¯ä»»æ„ä¸€è‡´çš„éå¥‡å¼‚çŸ©é˜µï¼Œåˆ™ $rank(PAQ) = rank(A)$
ä»–ä»¬é€šè¿‡ç»™å‡ºä»¥ä¸‹ä¸ç­‰å¼åºåˆ—å¼€å§‹è¯æ˜ï¼š
$rank(A) \leq rank (AQ) \leq rank(AQQ^{-1}) = rank(A)\quad\quad [1]$
æ­¤å‰ï¼Œåœ¨ A.2.1 ä¸­ï¼Œä»–ä»¬å·²ç»è¯æ˜å¦‚æœ $A$ å’Œ $B$ æ˜¯ä¸€è‡´çŸ©é˜µï¼Œé‚£ä¹ˆï¼Œ$rank(AB) \leq \min({rank(A),rank(B)})$
è™½ç„¶è¿™ä¸ªç»“æœå¯ä»¥ç”¨æ¥å»ºç«‹ $[1]$ åé¢çš„ä¸ç­‰å¼ï¼Œä½†æˆ‘ä¸æ¸…æ¥šç¬¬ä¸€ä¸ªä¸ç­‰å¼ $rank(A)\leq rank(AQ)$ æ˜¯å¦‚ä½•å»ºç«‹çš„ã€‚å¦‚æœ $Q$ æ˜¯éå¥‡å¼‚çš„ï¼Œé‚£ä¹ˆ $rank(A)\leq rank(AQ)$ æ˜¯å¦åœ¨å…¶ä»–åœ°æ–¹å·²çŸ¥ï¼Ÿä»»ä½•è¶³å¤Ÿç®€å•çš„è¯æ˜è¯¥ç»“æœæˆ–å±•ç¤ºè¯¥ç»“æœçš„åœ°æ–¹éƒ½å°†ä¸èƒœæ„Ÿæ¿€ã€‚
è¿™é‡Œæ˜¯ä»–ä»¬ä¹¦ä¸­å¯¹è¯¥ç»“æœçš„é™ˆè¿°å’Œè¯æ˜çš„ imgur é“¾æ¥ï¼Œåœ¨ä¸‹é¢å†…è”å¤åˆ¶ï¼š
]]></description>
      <guid>https://stats.stackexchange.com/questions/656871/proof-in-linear-regression-analysis-by-seber-and-lee</guid>
      <pubDate>Thu, 07 Nov 2024 05:18:35 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨å›å½’æ¨¡å‹ä¸­ä»…ä½¿ç”¨æ»åé¢„æµ‹å˜é‡è€Œä¸ä½¿ç”¨éæ»åé¢„æµ‹å˜é‡ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656870/only-using-a-lagged-predictor-in-a-regression-model-and-not-the-unlagged</link>
      <description><![CDATA[åœ¨ç»Ÿè®¡å›å½’æ¨¡å‹ä¸­ï¼Œä»…ä½¿ç”¨é¢„æµ‹å˜é‡çš„æ»åå€¼æ˜¯å¦å¾ˆå¸¸è§ï¼Ÿä¾‹å¦‚

é€‰é¡¹ 1

$$
s_{t} = f(i_{t}, i_{t-1}, u_{t}, u_{t-1})
$$

é€‰é¡¹ 2

$$
s_{t} = f(i_{t}, u_{t})
$$
å…¶ä¸­ $s_{t}$ æ˜¯æ—¶é—´ $t$ çš„é”€å”®é¢ï¼Œè€Œ $i_{t}$ å’Œ $u_{t}$ æ˜¯é€šè´§è†¨èƒ€ä»¥åŠ $t$ æ—¶åˆ»çš„å¤±ä¸šç‡ã€‚
æˆ‘çš„é€»è¾‘æ˜¯ï¼Œä¹Ÿè®¸å‰ä¸€ä¸ªæ—¶é—´æ®µçš„ä¿¡æ¯æ¯”å½“å‰æ—¶é—´æ®µçš„ä¿¡æ¯æ›´èƒ½æè¿°é”€å”®é¢ï¼Ÿé€‰é¡¹ 2 æ˜¯ç»Ÿè®¡åˆ†æå»ºæ¨¡ä¸­çš„å¸¸è§åšæ³•å—ï¼Ÿè¿˜æ˜¯éæ»åå˜é‡ä¹Ÿæ˜¯å¼ºåˆ¶æ€§çš„ï¼ˆé€‰é¡¹ 1ï¼‰ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/656870/only-using-a-lagged-predictor-in-a-regression-model-and-not-the-unlagged</guid>
      <pubDate>Thu, 07 Nov 2024 05:02:57 GMT</pubDate>
    </item>
    <item>
      <title>RCT ä¸­çš„éšæœºé‡å¤è§‚å¯Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656869/random-repeated-observations-in-rct</link>
      <description><![CDATA[æˆ‘çš„é—®é¢˜æ˜¯å…³äº RCTï¼Œå…¶ä¸­æˆ‘ä»¬æ¯ä¸ªå•å…ƒæ”¶åˆ°è®¸å¤šé‡å¤çš„è§‚å¯Ÿç»“æœï¼Œä½†æˆ‘ä»¬ä¸ä¸€å®šæƒ³å°†å®ƒä»¬æ±‡æ€»åœ¨ä¸€èµ·ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚å‡è®¾æˆ‘æ­£åœ¨ä¸ºå­¦ç”Ÿå­¦ä¹ å·¥å…·çš„ä¸¤ä¸ªç‰ˆæœ¬è¿è¡Œ RCTã€‚å‡è®¾æˆ‘ä»¬ä¸çŸ¥é“å­¦ç”Ÿçš„å®¶åº­ä½œä¸šã€‚æ¯ä¸ªå­¦ç”Ÿéƒ½ä¼šæŠ¥å‘Šä»–ä»¬çš„å®¶åº­ä½œä¸šæˆç»©ï¼Œä½†ä½œä¸šæ•°é‡æ˜¯éšæœºçš„ã€‚ä¾‹å¦‚ï¼š



æ²»ç–—
å­¦ç”Ÿ ID
è§‚å¯Ÿ




1
1
90/100ï¼ˆç§‘ç›® 1ï¼‰ã€8/10ï¼ˆç§‘ç›® 3ï¼‰ã€7/10ï¼ˆç§‘ç›® 5ï¼‰


1
2
80/100ï¼ˆç§‘ç›® 2ï¼‰


1
3
40/50ï¼ˆç§‘ç›® 4ï¼‰ï¼Œ 15/20ï¼ˆç§‘ç›® 2ï¼‰


0
4
70/100ï¼ˆç§‘ç›® 2ï¼‰


0
5
7/10ï¼ˆç§‘ç›® 1ï¼‰ï¼Œ40/50ï¼ˆç§‘ç›® 3ï¼‰


0
6
7/10ï¼ˆç§‘ç›® 5ï¼‰



ç›´è§‚åœ°è¯´ï¼Œæˆ‘æƒ³è¯´æ¯ä¸ªå­¦ç”Ÿéƒ½æœ‰ä¸€å®šçš„æ¦‚ç‡ $p$ æ­£ç¡®å›ç­”é—®é¢˜ã€‚åœ¨åˆ†é…æ²»ç–—æ—¶ï¼Œæˆ‘æœ‰å­¦ç”Ÿåå˜é‡ï¼ˆä¾‹å¦‚ï¼ŒGPAã€åœ¨æ ¡å¹´ä»½ç­‰ï¼‰ï¼Œæˆ‘è®¡åˆ’åœ¨å›å½’ä¸­ä½¿ç”¨å®ƒã€‚
å‡ ä¸ªå…·ä½“é—®é¢˜ï¼š

ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡å¯¹åˆ†å­å’Œåˆ†æ¯æ±‚å’Œæ¥æ±‡æ€»æ‰€æœ‰æ•°æ®ã€‚ç°åœ¨æ¯ä¸ªå­¦ç”Ÿéƒ½æœ‰ä¸€ä¸ªè§‚å¯Ÿå€¼ï¼ˆå¯¹äºå­¦ç”Ÿ 1ï¼Œå®ƒå°†æ˜¯ 105/120ï¼‰ï¼Œä½†è¿™ä¼¼ä¹ä¸ä¼šé—æ¼æˆ‘æ‹¥æœ‰çš„å…¨éƒ¨ä¿¡æ¯ã€‚æœ‰æ²¡æœ‰åŠæ³•è®¾è®¡ä¸€ä¸ªå›å½’è®¾ç½®ï¼Œå¯ä»¥å¸®åŠ©æˆ‘åœ¨ä¸è¿›è¡Œæ±‡æ€»çš„æƒ…å†µä¸‹åˆ†æè¿™äº›æ•°æ®ï¼Ÿé™¤äº†å­¦ç”Ÿåå˜é‡ä¹‹å¤–ï¼Œæˆ‘è¿˜åº”è¯¥ä½¿ç”¨å­¦ç”Ÿéšæœºæ•ˆåº”å—ï¼Ÿ
å‡è®¾å­¦ç”Ÿè¿˜æŠ¥å‘Šäº†å®¶åº­ä½œä¸šçš„ç§‘ç›®ã€‚ç”±äºè¿™äº›æ˜¯åœ¨åˆ†é…æ²»ç–—åè§‚å¯Ÿåˆ°çš„ï¼Œå› æ­¤ä¸åº”å°†å®ƒä»¬ç”¨ä½œå›å½’æ¨¡å‹ä¸­çš„åå˜é‡ã€‚æœ‰æ²¡æœ‰åŠæ³•ä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Ÿç”±äºè§‚å¯Ÿå¯¹è±¡å¯èƒ½ä¸åŒï¼Œå› æ­¤è§‚å¯Ÿç»“æœä¼šå­˜åœ¨ä¸€äº›å·®å¼‚ï¼Œæˆ‘ä¸ç¡®å®šè¯¥å¦‚ä½•å¤„ç†ã€‚
]]></description>
      <guid>https://stats.stackexchange.com/questions/656869/random-repeated-observations-in-rct</guid>
      <pubDate>Thu, 07 Nov 2024 04:53:14 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•å°† 2 ä¸ªæ–¹å·®ä¸è§‚å¯Ÿåˆ°çš„æ–¹å·®åˆ†å¼€ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656846/how-to-separate-2-variances-from-observed-variance</link>
      <description><![CDATA[æˆ‘å°†å…¶åˆ†è§£ä¸ºä»¥ä¸‹å†…å®¹ï¼š
var(predicted_conc) = actual_conc*var1 + var2
è¯·æ³¨æ„ï¼Œéšæœºå˜é‡ç”Ÿæˆå™¨æ˜¯ç‹¬ç«‹çš„ï¼Œå› æ­¤æ·»åŠ çš„æ˜¯æ–¹å·®è€Œä¸æ˜¯æ ‡å‡†å·®ã€‚
æˆ‘é¦–å…ˆè¿è¡Œæ¨¡æ‹Ÿæ¥é‡æ–°ç”Ÿæˆè¯¥ä¿¡æ¯ã€‚
actual_conc &lt;- c(0,3, 5, 10, 20, 30,50,80,90, 100, 150, 180)

predicted_conc &lt;- c()
for(i in actual_conc){
predicted_conc &lt;- c(predicted_conc, i + rnorm(1000, mean =0, sd = (0.05*i)) + rnorm(1000, mean = 0, sd = 0.1))
}

å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘å¿…é¡»å°†éšæœºå˜é‡ç”Ÿæˆä¸æŒ‰æµ“åº¦ç¼©æ”¾æˆ–åªæ˜¯å¸¸æ•°åˆ†å¼€ã€‚
ä½†æ˜¯ï¼Œè¿™ç§å…³ç³»ä¸æ˜¯çº¿æ€§çš„ã€‚ç„¶åæˆ‘è®¡ç®—æ–¹å·®ï¼Œéçº¿æ€§å…³ç³»å˜å¾—éå¸¸æ˜æ˜¾ï¼Œå¦‚æœæˆ‘æ‹Ÿåˆçº¿æ€§æˆ–äºŒæ¬¡å›å½’ï¼Œæˆ‘ä¼šå¾—åˆ°è´Ÿæˆªè·ï¼Œå…¶ä¸­å®é™…å¸¸æ•°æ–¹å·®ä¸º 0.01ã€‚
å°½ç®¡æˆ‘åœ¨è¿™ä¸ªæ¨¡æ‹Ÿä¸­æ¥è¿‘çœŸå®å€¼ï¼Œå¦‚æœæˆ‘ä½¿ç”¨ sd è€Œä¸æ˜¯ varï¼Œå¹¶ä¸”å°† sd~conc å»ºæ¨¡ä¸ºå¸¸æ•°æ–¹å·®å¾ˆå°ï¼Œä½†æˆ‘è®¤ä¸ºè¿™åº”è¯¥æ˜¯æ›´æ­£ç¡®çš„å»ºæ¨¡æ–¹æ³•ã€‚
æ¬¢è¿æå‡ºæƒ³æ³•ã€‚
è°¢è°¢ï¼
ç¼–è¾‘
æˆ‘çŒœè¿™ä¸æ–¹å·®æœ‰å…³ï¼Œå› ä¸ºé›¶ä¼šå¯¼è‡´é›¶ç»“æœï¼æˆ‘å½“ç„¶æœ‰åšå®šçš„å‡è®¾ï¼Œå³æµ“åº¦åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šä¸ºè´Ÿã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/656846/how-to-separate-2-variances-from-observed-variance</guid>
      <pubDate>Wed, 06 Nov 2024 16:42:32 GMT</pubDate>
    </item>
    <item>
      <title>éš¾é“é¢„æœŸ Sarsa æ˜¯ç¦»ç­–ç•¥çš„ï¼Œè€Œ SARSA åªæ˜¯é¢„æœŸ SARSA çš„ MC ä¼°è®¡ï¼Œä¸ºä»€ä¹ˆå®ƒæ˜¯åœ¨ç­–ç•¥çš„å‘¢ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656843/is-expected-sarsa-is-off-policy-and-sarsa-is-just-an-mc-estimate-of-expected-sa</link>
      <description><![CDATA[å› æ­¤ï¼Œé¢„æœŸ SARSA å°†æ›´æ–°å®šä¹‰ä¸ºï¼š
$$
Q(s,a) = Q(s,a) +\alpha (R+ \mathbb{E}_{a\sim\pi(s&#39;)}[Q(s&#39;, a)] - Q(s,a))
$$
å…¶ä¸­ SARSA å°†æ›´æ–°å®šä¹‰ä¸º $a&#39;\sim\pi(s&#39;)$ï¼š
$$
Q(s,a) = Q(s,a) +\alpha (R+ Q(s&#39;, a&#39;) - Q(s,a))
$$
é‚£ä¹ˆ SARSA æ€ä¹ˆä¼šä¸ä»…ä»…æ˜¯ ExpSARSA çš„ MC ä¼°è®¡å‘¢ï¼Ÿæ—¢ç„¶ MC æ˜¯æ— åçš„ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ SARSA ä¸åº”è¯¥æ˜¯ä¸€ç§ç¦»ç­–ç•¥ç®—æ³•å‘¢ï¼Ÿ

ç¼–è¾‘ï¼šç”±äºæˆ‘æŒ‡çš„ MC ä¼°è®¡å€¼ä¼¼ä¹å¾ˆæ¸…æ¥šï¼Œå‡ºäºæŸç§åŸå› ï¼Œæˆ‘çš„é—®é¢˜æ˜¯ï¼š

è¿™ä¸¤ä¸ªæ›´æ–°ä»…åœ¨é¢„æœŸå€¼å’Œ $Q(s&#39;, a&#39;\sim\pi(s&#39;)) \approx \mathbb{E}_{a\sim\pi(s&#39;)}[Q(s&#39;, a)]$ ä¸Šæœ‰æ‰€ä¸åŒï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ ·æœ¬è’™ç‰¹å¡ç½—ä¼°è®¡ï¼Œæ˜¯ä¸€ä¸ªæ— åä¼°è®¡ï¼Œæ‰€ä»¥æ²¡æœ‰ç†ç”±ä¸€ä¸ªåº”è¯¥æ˜¯åœ¨ç­–ç•¥ä¸Šè€Œå¦ä¸€ä¸ªåº”è¯¥æ˜¯åœ¨ç­–ç•¥å¤–ï¼Œå› ä¸ºåœ¨é¢„æœŸä¸­å®ƒä»¬ä¼šå¯¼è‡´ç›¸åŒçš„æ›´æ–°
]]></description>
      <guid>https://stats.stackexchange.com/questions/656843/is-expected-sarsa-is-off-policy-and-sarsa-is-just-an-mc-estimate-of-expected-sa</guid>
      <pubDate>Wed, 06 Nov 2024 15:53:03 GMT</pubDate>
    </item>
    <item>
      <title>R ä¸­å¤šä¸ªç»„ä¹‹é—´çš„è®¡æ•°/æ¯”ä¾‹çš„ç»Ÿè®¡æ¯”è¾ƒï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/656837/statistical-comparison-of-counts-proportions-between-multiple-groups-in-r</link>
      <description><![CDATA[æˆ‘æ­£åœ¨åŠªåŠ›ä¸ºä¸€ä¸ªæ•°æ®é›†é€‰æ‹©é€‚å½“çš„ç»Ÿè®¡åˆ†æï¼Œè¯¥æ•°æ®é›†ä¸­æœ‰å¤šä¸ªç»„ï¼ˆgroupA-groupEï¼‰ï¼Œæ¯ä¸ªç»„åœ¨ä¸¤ä¸ªç±»åˆ«ï¼ˆå¥åº·æˆ–æ‚£ç—…ï¼‰ä¸­éƒ½æœ‰ä¸€å®šæ•°é‡çš„è®¡æ•°ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºæ¯”ä¾‹ï¼ˆæ‚£ç—…/[æ‚£ç—…+å¥åº·]ï¼‰ï¼š
df &lt;- data.frame(group = c(&quot;groupA&quot;,&quot;groupB&quot;,&quot;groupC&quot;,&quot;groupD&quot;,&quot;groupE&quot;),
n_sick = c(12, 32, 99, 37, 48),
n_healthy = c(36, 250, 120, 68, 93))
df %&lt;&gt;% mutate(tot = n_sick + n_healthy, prop = n_sick / tot)

æˆ‘æƒ³æ‰¾å‡ºå“ªäº›ç»„åœ¨ç»Ÿè®¡ä¸Šçš„æ¯”ä¾‹ä¸åŒï¼Œç±»ä¼¼äºåœ¨é‡å¤æƒ…å†µä¸‹åœ¨æ–¹å·®åˆ†æ/Kruskal-Wallis+äº‹åæ£€éªŒä¸­æ‰€åšçš„æ“ä½œã€‚ä½†æ˜¯ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å”¯ä¸€å¯ç”¨çš„æ•°æ®æ˜¯æ¯ä¸ªç»„ä¸­æ‚£ç—…å’Œå¥åº·ä¸ªä½“çš„æ•°é‡ã€‚æˆ‘çŸ¥é“æˆ‘å¯ä»¥ä½¿ç”¨å¡æ–¹æ£€éªŒæ¥å‘ç°æ¯”ä¾‹å’Œç»„ä¹‹é—´æ˜¯å¦å­˜åœ¨å…³ç³»ï¼Œä½†æ®æˆ‘æ‰€çŸ¥ï¼Œæ²¡æœ‰æ ‡å‡†åŒ–çš„äº‹åæ£€éªŒæ¥æµ‹è¯•ç»„é—´å·®å¼‚ï¼ˆå¦‚æœæˆ‘é”™äº†è¯·çº æ­£æˆ‘ï¼ï¼‰ã€‚
æˆ‘å‘ç°statsåŒ…åŒ…å«ä¸€ä¸ªåä¸ºpairwise_prop_testçš„å‡½æ•°ï¼Œå®ƒçœ‹èµ·æ¥å°±åƒæ˜¯æˆ‘æƒ³è¦å®ƒåšçš„äº‹æƒ…ï¼š
t &lt;- as.table(rbind(
c(12, 32, 99, 37, 48),
c(36, 250, 120, 68, 93)))
dimnames(t) &lt;- list(
condition = c(&quot;n_sick&quot;, &quot;n_healthy&quot;),
group = c(&quot;groupA&quot;,&quot;groupB&quot;,&quot;groupC&quot;,&quot;groupD&quot;,&quot;groupE&quot;))

pairwise_prop_test(t, p.adjust.method = &quot;bonferroni&quot;)

... å®ƒä¼šé’ˆå¯¹ç»„é—´æ¯æ¬¡æ¯”è¾ƒå¾—å‡ºä¸€ä¸ª p.adj å€¼ï¼ˆä¾‹å¦‚ï¼ŒgroupB ä¸ groupC ä¸åŒï¼‰ã€‚è¿™æ˜¯æ­£ç¡®çš„æ–¹æ³•å—ï¼Œè¿˜æ˜¯æˆ‘å¿½ç•¥äº†ä»€ä¹ˆï¼Ÿæ„Ÿè°¢æ‚¨æŠ½å‡ºæ—¶é—´æ¥æä¾›å¸®åŠ©ï¼]]></description>
      <guid>https://stats.stackexchange.com/questions/656837/statistical-comparison-of-counts-proportions-between-multiple-groups-in-r</guid>
      <pubDate>Wed, 06 Nov 2024 14:33:01 GMT</pubDate>
    </item>
    <item>
      <title>Pymc-BART ç´¢å¼•é”™è¯¯</title>
      <link>https://stats.stackexchange.com/questions/656835/pymc-bart-index-error</link>
      <description><![CDATA[æˆ‘å°è¯•æŒ‰ç…§æ­¤å¤„çš„ç¤ºä¾‹ç¬”è®°æœ¬è¿›è¡Œæ“ä½œï¼Œä½†åœ¨æ‰§è¡Œä»£ç æ—¶é‡åˆ°äº†ä¸€äº› IndexErrorã€‚
è¿™æ˜¯ä¸€ä¸ªæœ€å°çš„å·¥ä½œç¤ºä¾‹ï¼š
import numpy as np
import pandas as pd
import pymc as pm
import pymc_bart as pmb
import pytensor.tensor as pt
from scipy.special import logit

# è¯»å–æ ·æœ¬æ•°æ®
data_df = pd.read_csv(
&quot;https://raw.githubusercontent.com/juanitorduz/website_projects/master/data/retention_data.csv&quot;,
parse_dates=[&quot;cohort&quot;, &quot;period&quot;],
)

# å¤„ç†æ•°æ®
eps = np.finfo(float).eps
train_data_red_df = data_df.query(&quot;cohort_age &gt; 0&quot;).reset_index(drop=True)
train_obs_idx = train_data_red_df.index.to_numpy()
train_n_users = train_data_red_df[&quot;n_users&quot;].to_numpy()
train_n_active_users = train_data_red_df[&quot;n_active_users&quot;].to_numpy()
train_retention = train_data_red_df[&quot;retention&quot;].to_numpy()
train_retention_logit = logit(train_retention + eps)
train_data_red_df[&quot;month&quot;] = train_data_red_df[&quot;period&quot;].dt.strftime(&quot;%m&quot;).astype(int)
features: list[str] = [&quot;age&quot;, &quot;cohort_age&quot;, &quot;month&quot;]
x_train = train_data_red_df[features]

# æ¨¡å‹
with pm.Model(coords={&quot;feature&quot;: features}) as model:
# --- æ•°æ® ---
model.add_coord(name=&quot;obs&quot;, values=train_obs_idx, mutable=True)
x = pm.MutableData(name=&quot;x&quot;, value=x_train, dims=(&quot;obs&quot;, &quot;feature&quot;))
n_users = pm.MutableData(name=&quot;n_users&quot;, value=train_n_users, dims=&quot;obs&quot;)
n_active_users = pm.MutableData(name=&quot;n_active_users&quot;, value=train_n_active_users, dims=&quot;obs&quot;)

# --- å‚æ•°åŒ– ---
# BART ç»„ä»¶åœ¨
# logit å˜æ¢ä¸‹å¯¹ä¿ç•™ç‡çš„å›¾åƒè¿›è¡Œå»ºæ¨¡ï¼Œå› æ­¤èŒƒå›´ä¸é™åˆ¶åœ¨ [0, 1]ã€‚
mu = pmb.BART(
name=&quot;mu&quot;,
X=x,
Y=train_retention_logit,
dims=&quot;obs&quot;,
)
# æˆ‘ä»¬ä½¿ç”¨é€† logit å˜æ¢å°†ä¿ç•™ç‡æ¢å¤åˆ° [0, 1]ã€‚
p = pm.Deterministic(name=&quot;p&quot;, var=pm.math.invlogit(mu), dims=&quot;obs&quot;)
# æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå°çš„ epsilon ä»¥é¿å…æ•°å€¼é—®é¢˜ã€‚
p = pt.switch(pt.eq(p, 0), eps, p)
p = pt.switch(pt.eq(p, 1), 1 - eps, p)

# --- å¯èƒ½æ€§ ---
n_active_users_estimated = pm.Binomial(
name=&quot;n_active_users_estimated&quot;,
n=n_users,
p=p,
perceived=n_active_users,
dims=&quot;obs&quot;,
)

pm.model_to_graphviz(model=model)

# æ‹Ÿåˆæ¨¡å‹
ä½¿ç”¨æ¨¡å‹ï¼š
idata = pm.sample(draws=100, chains=1)
posterior_predictive = pm.sample_posterior_predictive(trace=idata)

æˆ‘å·²æ£€æŸ¥ x_train å’Œ train_retention_logit çš„å½¢çŠ¶ä¼ é€’ç»™ BART æ–¹æ³•ï¼Œå®ƒä»¬ä¼¼ä¹å…·æœ‰æ­£ç¡®çš„å½¢çŠ¶ï¼Œåˆ†åˆ«ä¸º (1128,3) å’Œ (1128,)ã€‚
ç„¶è€Œï¼ŒåéªŒé‡‡æ ·è¿”å›äº†ä¸€ä¸ªæˆ‘æ— æ³•è¿½æº¯åˆ°å…¶æ¥æºçš„é”™è¯¯ï¼š
IndexErrorï¼šå…ƒç»„ç´¢å¼•è¶…å‡ºèŒƒå›´
å¯¼è‡´é”™è¯¯çš„åº”ç”¨èŠ‚ç‚¹ï¼šBART_rv{&quot;(i00,i01),(i10),(),(),(),(i50)-&gt;(o00)&quot;}(RNG(&lt;Generator(PCG64) at 0x1721017E0&gt;), [], x, [-1.609437 ... .51268651], 100, 0.95, 2.0, [])
Toposort ç´¢å¼•ï¼š0
è¾“å…¥ç±»å‹ï¼š[RandomGeneratorType, TensorType(int64, shape=(0,)), TensorType(float64, shape=(None, None)), TensorType(float64, shape=(1128,)), TensorType(int8, shape=()), TensorType(float64, shape=()), TensorType(float32, shape=()), TensorType(float64, shape=(0,))]
è¾“å…¥å½¢çŠ¶ï¼š[&#39;æ— å½¢çŠ¶&#39;, (0,), (1128, 3), (1128,), (), (), (), (0,)]
è¾“å…¥æ­¥å¹…ï¼š[&#39;æ— æ­¥å¹…&#39;, (0,), (8, 9024), (8,), (), (), (), (0,)]
è¾“å…¥å€¼ï¼š[Generator(PCG64) at 0x1721017E0, array([], dtype=int64), &#39;æœªæ˜¾ç¤º&#39;, &#39;æœªæ˜¾ç¤º&#39;, array(100, dtype=int8), array(0.95), array(2., dtype=float32), array([], dtype=float64)]
è¾“å‡ºå®¢æˆ·ç«¯ï¼š[[output[1](BART_rv{&quot;(i00,i01),(i10),(),(),(),(i50)-&gt;(o00)&quot;}.0)], [Second(mu, [-3.09309984])]]

ç›¸å…³åº“çš„ç‰ˆæœ¬ä¸ºï¼š
python 3.10.15
pymc 5.16.2
pymc-bart 0.7.0

ä»¥é˜²å®ƒä¸è½¯ä»¶åŒ…ç‰ˆæœ¬ä¹‹é—´çš„è¡Œä¸ºå·®â€‹â€‹å¼‚æœ‰å…³ã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/656835/pymc-bart-index-error</guid>
      <pubDate>Wed, 06 Nov 2024 14:10:28 GMT</pubDate>
    </item>
    <item>
      <title>â€œæœ€å¥½çš„æµ‹è¯•æ˜¯æ— åè§çš„â€è¿™ä¸€è¯´æ³•çš„è¯æ˜</title>
      <link>https://stats.stackexchange.com/questions/656832/proof-of-the-statement-the-best-test-is-unbiased</link>
      <description><![CDATA[]]></description>
      <guid>https://stats.stackexchange.com/questions/656832/proof-of-the-statement-the-best-test-is-unbiased</guid>
      <pubDate>Wed, 06 Nov 2024 12:41:53 GMT</pubDate>
    </item>
    </channel>
</rss>