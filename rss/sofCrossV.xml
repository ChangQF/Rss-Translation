<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>æœ€è¿‘çš„é—®é¢˜ - äº¤å‰éªŒè¯</title>
    <link>https://stats.stackexchange.com/questions</link>
    <description>æ¥è‡ª stats.stackexchange.com çš„æœ€æ–° 30 æ¡</description>
    <lastBuildDate>Wed, 28 Aug 2024 09:17:17 GMT</lastBuildDate>
    <item>
      <title>GAM æ¯”è¾ƒçš„ä¼°è®¡è‡ªç”±åº¦</title>
      <link>https://stats.stackexchange.com/questions/653474/estimated-degrees-of-freedom-of-a-gam-comparison</link>
      <description><![CDATA[æˆ‘æƒ³é€šè¿‡å°†è¯¥æ¨¡å‹ä¸ä¸åŒ…å«è¿™äº›é¢„æµ‹å› å­çš„åŸºçº¿æ¨¡å‹è¿›è¡Œæ¯”è¾ƒæ¥è¯„ä¼°åœ¨ GAM ä¸­åŒ…å«ä¸¤ä¸ªå¹³æ»‘é¡¹çš„é‡è¦æ€§ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç é‡ç°è¿™ç§æƒ…å†µçš„æ¨¡æ‹Ÿï¼š
library(mgcv)
dat &lt;- gamSim(1,n=1000,dist=&quot;normal&quot;,scale=.1)

model &lt;- gam(y ~ s(x0, bs = &quot;cr&quot;, k = 20) + s(x1, bs = &quot;cr&quot;, k = 20) + te(x2, x3, bs = &quot;cr&quot;), data = dat)
baseline &lt;- gam(y ~ te(x2, x3, bs = &quot;cr&quot;), data = dat)
anova(baseline, model)

ä½†æ˜¯ï¼Œæˆ‘æƒ³ä½¿ç”¨äº¤å‰éªŒè¯æ–¹æ¡ˆè¿›è¡Œæ­¤è¯„ä¼°ã€‚å¯¹éƒ¨åˆ†æ•°æ®è¿›è¡Œæ¨¡å‹æ‹Ÿåˆï¼Œå¹¶è¯„ä¼°å·¦ä¾§æŠ˜å çš„å¯¹æ•°ä¼¼ç„¶ã€‚ä¸ºæ­¤ï¼Œæˆ‘å°†æ‰‹åŠ¨è®¡ç®—å·¦ä¾§æŠ˜å çš„å¯¹æ•°ä¼¼ç„¶ã€‚è¦è®¡ç®—ä¸å¯¹æ•°ä¼¼ç„¶å·®å¼‚ç›¸å…³çš„ p å€¼ï¼Œæˆ‘éœ€è¦è‡ªç”±åº¦ã€‚ å¦‚ä½•ç¡®å®šæ­¤æ¯”è¾ƒçš„æ­£ç¡®è‡ªç”±åº¦ï¼Ÿ
set.seed(123) 
nfolds &lt;- 5
dat$folds &lt;- sample(1:nfolds, size = nrow(dat), replace = TRUE)

train_data &lt;- dat[dat$folds != 1, ]
test_data &lt;- dat[dat$folds == 1, ]
test_y &lt;- test_data$y

model &lt;- gam(y ~ s(x0, bs = &quot;cr&quot;, k = 20) + s(x1, bs = &quot;cr&quot;, k = 20) + te(x2, x3, bs = &quot;cr&quot;), data = train_data)
baseline &lt;- gam(y ~ te(x2, x3, bs = &quot;cr&quot;), data = train_data)

pred_model &lt;- predict(model, test_data)
pred_baseline &lt;- predict(baseline, test_data)

stdev_model &lt;- sigma(model)
stdev_baseline &lt;- sigma(baseline)

loglik_model &lt;- sum(dnorm(test_y, pred_model, stdev_model, log=TRUE))
loglik_baseline &lt;- sum(dnorm(test_y, pred_baseline, stdev_baseline, log=TRUE))

delta &lt;- loglik_model - loglik_baseline
teststat &lt;- -2 * delta
pval &lt;- pchisq(teststat, df = , lower.tail =é”™è¯¯ï¼‰
]]></description>
      <guid>https://stats.stackexchange.com/questions/653474/estimated-degrees-of-freedom-of-a-gam-comparison</guid>
      <pubDate>Wed, 28 Aug 2024 08:00:38 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•è¿›è¡Œæ•°æ®é©±åŠ¨çš„æ ·æœ¬é‡é€‰æ‹©</title>
      <link>https://stats.stackexchange.com/questions/653472/how-to-perform-data-driven-choice-of-sample-size</link>
      <description><![CDATA[å‡è®¾æˆ‘æƒ³æ¯”è¾ƒä¸¤ä¸ªå›å½’æ¨¡å‹çš„ç»“æœã€‚ä¸€ä¸ªæ˜¯å‚è€ƒæ¨¡å‹ï¼Œå¦ä¸€ä¸ªæ˜¯æ–°æ¨¡å‹ï¼Œæˆ‘æƒ³çŸ¥é“æ–°æ¨¡å‹æ˜¯å¦è¡¨ç°æ›´å¥½ã€‚æ¯ä¸ªæ¨¡å‹éƒ½ç”¨çš®å°”é€Šç›¸å…³æ€§è¿›è¡Œè¯„ä¼°ï¼Œå‡è®¾æ•°æ®é›†æ˜¯ä¾èµ–çš„ï¼Œå¹¶ä¸”æµ‹è¯•æ•°æ®ç›¸åŒï¼Œæˆ‘æƒ³å¾—åˆ°é…å¯¹å·®å¼‚çš„ç½®ä¿¡åŒºé—´ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦åŒ…å«é›¶ã€‚
ä½†æˆ‘äº‹å…ˆä¸çŸ¥é“å·®å¼‚çš„æ–¹å·®ï¼Œä¹Ÿä¸çŸ¥é“æ­£ç¡®çš„æ ·æœ¬é‡æ˜¯å¤šå°‘ï¼Œæ‰€ä»¥æˆ‘æƒ³åˆ°äº†ä»¥ä¸‹æ–¹æ³•ï¼š
min_diff_to_detect
all_pearsons_ref = []
all_pearsons_new = []
alpha = 0.05

å¾ªç¯ç›´åˆ°å¾ªç¯ä¸­æ–­ -&gt;å¯¹äºå½“å‰å¾ªç¯ nï¼š
train_refã€train_newã€test_data = get_new_data_split()

ref_model = train_ref_model(train_ref)
pearson_ref = assess( ref_model(test_data) )
all_pearsons_ref.append(pearson_ref)

new_model = train_new_model(train_new)
pearson_new = assess( new_model(test_data) )
all_pearsons_new.append(pearson_new)

Differences = all_pearsons_new - all_pearsons_ref # æˆå¯¹å·®å¼‚
confidence_interval = compute_CI(0, np.std(differences), n, alpha)

å¦‚æœ min_diff_to_detect ä¸åœ¨ confidence_interval ä¸­ï¼š
å¦‚æœ np.mean(differences) ä¸åœ¨ confidence_interval ä¸­ï¼š
è¿”å› are_different
è¿”å›are_not_different

train_data æ˜¯ä¾èµ–çš„ï¼Œè€Œ test_data å¯¹äºä¸¤ä¸ªæ¨¡å‹æ˜¯ç›¸åŒçš„ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯ä½¿ç”¨æ•°æ®æ¥å¯»æ‰¾æœ€ä½³å¾ªç¯æ•° Nã€‚å¦åˆ™ N å°†è¢«çŒœæµ‹ï¼Œå¹¶ä¸”å¯èƒ½å¤ªå°è€Œæ²¡æœ‰è¶³å¤Ÿçš„ç»Ÿè®¡èƒ½åŠ›ï¼Œæˆ–è€…å¤ªå¤§è€Œéœ€è¦å¤ªé•¿æ—¶é—´è¿›è¡Œè®­ç»ƒã€‚
ä½†æ˜¯ï¼Œæ–¹å·®åœ¨æ—©æœŸå¾ªç¯ä¸­ä¹Ÿæœ‰å¯èƒ½æ³¢åŠ¨å¾ˆå¤§ï¼Œä»è€Œå¯¼è‡´ min_diff_to_detect å¯èƒ½è¢«é”™è¯¯æ£€æµ‹ã€‚åä¸€ç‚¹å¯ä»¥é€šè¿‡åœ¨è¯„ä¼° if æ¡ä»¶ä¹‹å‰å¼•å…¥æœ€å°å¾ªç¯æ•°æ¥ç¼“è§£ï¼Œä½†è¿™æ„Ÿè§‰å¾ˆæ­¦æ–­ï¼Œæœ€ç»ˆï¼Œæˆ‘ä¸çŸ¥é“è¿™ç§æ–¹æ³•æ˜¯å¦æœ‰æ•ˆã€‚
æˆ‘ä¹ŸçŸ¥é“ bootstrappingï¼Œä½†å®ƒéœ€è¦å¤§é‡çš„è®­ç»ƒæ‰èƒ½æœ‰æ•ˆã€‚
é‚£ä¹ˆï¼Œç¬¬ä¸€ä¸ª if æ¡ä»¶å¯ä»¥æ”¹è¿›ä»¥é¿å…é”™è¯¯å—ï¼Ÿæœ€ç»ˆï¼Œè¿™æ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•å—ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/653472/how-to-perform-data-driven-choice-of-sample-size</guid>
      <pubDate>Wed, 28 Aug 2024 07:32:11 GMT</pubDate>
    </item>
    <item>
      <title>ä»å¤´å¼€å§‹çš„éƒ¨åˆ†ä¾èµ–å›¾ - XgBoost æ·±åº¦ 1</title>
      <link>https://stats.stackexchange.com/questions/653471/partial-dependence-plot-from-scratch-xgboost-depth-1</link>
      <description><![CDATA[æœ‰å‡ ä¸ªè½¯ä»¶åŒ…å¯ä»¥ä¸º XGBoost ç­‰ ML æ¨¡å‹å¼•å…¥å¢å¼ºçš„å¯è§£é‡Šæ€§ï¼Œä¾‹å¦‚ PiMLã€‚ç½‘ä¸Šè¿˜æœ‰å¾ˆå¤šå…³äºå¯è§£é‡Šæ€§ä¸åŒæ–¹é¢çš„èµ„æºï¼Œä¾‹å¦‚éƒ¨åˆ†ä¾èµ–å›¾ã€‚
https://selfexplainml.github.io/PiML-Toolbox/_build/html/guides/models/xgb1.html
https://medium.com/dataman-in-ai/how-is-the-partial-dependent-plot-computed-8d2001a0e556
æˆ‘å¸Œæœ›ä»å¤´å¼€å§‹æ„å»ºå¯è§£é‡Šæ€§æ·±åº¦ä¸º 1 çš„ XGBoost æ¨¡å‹ã€‚
æ ¹æ®ä¸Šé¢çš„ PiMl é“¾æ¥ï¼Œç¬¬ä¸€æ­¥æ˜¯ï¼šâ€œè®¡ç®—ç”±å”¯ä¸€åˆ†å‰²ç”Ÿæˆçš„æ¯ä¸ª bin çš„ç´¯ç§¯å¶èŠ‚ç‚¹å€¼â€ã€‚
import pandas as pd
import numpy as np
import xgboost as xgb
from xgboost import XGBClassifier
from sklearn import datasets
from sklearn.model_selection import train_test_split
iris = datasets.load_iris() 
X = iris.data 
y = iris.target 

X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

y_train = np.array([0 if i==2 else 1 for i in y_train])
y_test = np.array([0 if i==2 else 1 for i in y_test])

train = xgb.DMatrix(X_train, label=y_train)

test = xgb.DMatrix(X_test, label=y_test)

params = {&#39;objective&#39;: &#39;binary:logistic&#39;, 
&#39;eval_metric&#39;: &#39;auc&#39;,
&#39;seed&#39;:10,
&#39;max_depth&#39;: 1
}

model = xgb.train(params, train, num_boost_round=10)

dump = model.get_dump()

dump å¯¹è±¡ä¿å­˜æœ‰å…³æ‹†åˆ†å’Œå¶å€¼çš„ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œæˆ‘å¾ˆéš¾ç†è§£â€œç´¯ç§¯å¶å€¼â€çš„å«ä¹‰ã€‚å¦‚æœæœ‰äººèƒ½å¸®åŠ©æˆ‘ç†è§£è¿™ä¸€ç‚¹æˆ–æŒ‡å¯¼æˆ‘è·å–èµ„æºï¼Œæˆ‘å°†ä¸èƒœæ„Ÿæ¿€ã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/653471/partial-dependence-plot-from-scratch-xgboost-depth-1</guid>
      <pubDate>Wed, 28 Aug 2024 06:34:30 GMT</pubDate>
    </item>
    <item>
      <title>æ§åˆ¶ä¸€ä¸ªæ¸ é“ï¼ˆä¸­ä»‹ï¼‰æ¥æ£€æŸ¥å¦ä¸€ä¸ªæ¸ é“çš„å½±å“æ˜¯å¦æ­£ç¡®ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/653470/is-it-right-to-control-one-channel-mediator-to-examine-the-impact-of-another-c</link>
      <description><![CDATA[å‡è®¾å†²å‡» X é€šè¿‡ä¸¤ä¸ªä»‹è´¨/é€šé“ï¼ˆA å’Œ Bï¼‰å½±å“ Yã€‚
è®©æˆ‘ä»¬æƒ³è±¡ä»¥ä¸‹æœ‰å‘æ— ç¯å›¾ (DAG)ï¼š
Xâ†’ğ´â†’Y å’Œ Xâ†’ğµâ†’Yã€‚å¹¶ä¸” A å’Œ B ä¸ç›¸å…³ã€‚
å¦‚æœæˆ‘åªæƒ³æ£€æŸ¥ç¬¬äºŒä¸ªé€šé“ (B)ã€‚åœ¨å›å½’ä¸­æ§åˆ¶ A ä»¥ç ”ç©¶ X é€šè¿‡é€šé“ B å¯¹ Y çš„å½±å“æ˜¯å¦æ­£ç¡®ï¼š
Y=ğ›¼+ğ›½X+ğºA+ğ´
æˆ‘è¯»è¿‡è®¨è®ºâ€œä¸è‰¯æ§åˆ¶â€çš„è®ºæ–‡ï¼Œä½†å®ƒä»¬æ²¡æœ‰è®¨è®ºè¿™æ ·çš„æ¡ˆä¾‹ã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/653470/is-it-right-to-control-one-channel-mediator-to-examine-the-impact-of-another-c</guid>
      <pubDate>Wed, 28 Aug 2024 04:00:39 GMT</pubDate>
    </item>
    <item>
      <title>R ä¸­ä½¿ç”¨å¤šé‡æ’è¡¥æ•°æ®é›† (mids) çš„çº¿æ€§æ··åˆæ¨¡å‹ EMMEANS ä¸ºå› å­å˜é‡æ·»åŠ äº†çº§åˆ«</title>
      <link>https://stats.stackexchange.com/questions/653467/linear-mixed-model-emmeans-using-multiply-imputed-datasets-mids-in-r-adds-leve</link>
      <description><![CDATA[æˆ‘ä½¿ç”¨å¤šé‡æ’è¡¥æ•°æ®é›† (mids) åœ¨ R ä¸­è¿è¡Œæ··åˆçº¿æ€§æ¨¡å‹ï¼Œç„¶åå°è¯•ä½¿ç”¨ emmeans åŒ…è·å–å¸¦æœ‰ p å€¼çš„ emmeansã€‚
fit_BAIPsy1 &lt;- 
with(data = df.mids, 
exp = lme4::lmer(
BAI_time ~ factor(Temps) + factor(Groupe) + 
factor(Psychotrope_T1) + T0_Age + factor(T0_Sexe) + 
factor(Temps) * factor(Groupe) + 
factor(Temps) * factor(Psychotrope_T1) + 
factor(Temps) * factor(Groupe) * factor(Psychotrope_T1) + 
ADIS_T0_Score_Dx_principale + (1| Subj)),
reml=TRUE
)

æˆ‘ä½¿ç”¨ summary(pool(fit_BAIPsy1)) ä» mice åŒ…ä¸­è·å–æ¨¡å‹ç³»æ•° + ç›¸å…³ç»Ÿè®¡æ•°æ®æ—¶æ²¡æœ‰é‡åˆ°ä»»ä½•é—®é¢˜ã€‚ä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆå¥½ã€‚
æˆ‘ç”¨æˆ‘çš„ Large Mira å¯¹è±¡ï¼ˆä½¿ç”¨ä¹‹å‰çš„æ¨¡å‹è·å¾—ï¼‰è¿è¡Œäº†è¿™ä¸ªæ¥è·å¾—æˆ‘çš„ emmeansï¼š
emmeans(fit_BAIpsy1, pairwise ~ Groupe|Psychotrope_T1|Temps)
é—®é¢˜ï¼š
è™½ç„¶ Psychotrope_T1 æ˜¯ä¸€ä¸ªå› å­ (0, 1)ï¼Œä½† emmeans ç»™äº†æˆ‘é¢å¤–çš„ çº§åˆ« (0, 0.44, 0.48, 0.52, 0.54, [...], 1)ã€‚ 
è¿™ä¸ªå˜é‡æ˜¯ä¼°ç®—çš„ï¼Œä½†æˆ‘æ£€æŸ¥äº†æˆ‘çš„ 25 ä¸ªä¼°ç®—æ•°æ®é›† (df.mids)ï¼Œçœ‹ä¸åˆ°è¿™äº›å€¼ã€‚æˆ‘è¿˜æ£€æŸ¥äº†æˆ‘çš„ Mira æ¨¡å‹å…ƒç´ ä¸­çš„ 25 ä¸ªå¸§ï¼Œæˆ‘çœ‹åˆ°çš„åªæœ‰ 0 å’Œ 1ã€‚æ··åˆçº¿æ€§æ¨¡å‹è¾“å‡ºåªç»™äº†æˆ‘ 2 ä¸ªçº§åˆ«ã€‚
æˆ‘æ£€æŸ¥äº† emmGridï¼Œæˆ‘å¯ä»¥çœ‹åˆ°é™¤äº† Psychotrope_T1 å’Œ Groupe ä¹‹å¤–ï¼Œæˆ‘çš„ç½‘æ ¼ä¸­è¿˜æ·»åŠ äº†ä¸€ä¸ª .wgtã€‚
æˆ‘å°†å…¶ä¸å¦ä¸€ä¸ªæœªä¼°ç®—çš„å˜é‡ (Psychotrope_T0ï¼Œè¿™æ˜¯æˆ‘çš„åŸºçº¿å€¼) è¿›è¡Œäº†æ¯”è¾ƒï¼Œæˆ‘æ²¡æœ‰è¿™ä¸ª .wgtã€‚å…ƒç´ ï¼Œemmeans è¾“å‡ºçœ‹èµ·æ¥å¾ˆæ­£å¸¸ã€‚
ä½ èƒ½å‘Šè¯‰æˆ‘å“ªé‡Œå‡ºäº†é”™ä»¥åŠå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/653467/linear-mixed-model-emmeans-using-multiply-imputed-datasets-mids-in-r-adds-leve</guid>
      <pubDate>Wed, 28 Aug 2024 02:51:25 GMT</pubDate>
    </item>
    <item>
      <title>è§£é‡Š R ä¸­é€»è¾‘å›å½’çš„è¿ç»­é¢„æµ‹å˜é‡</title>
      <link>https://stats.stackexchange.com/questions/653466/interpreting-continuous-predictors-for-logistic-regression-in-r</link>
      <description><![CDATA[æˆ‘å°† GLM æ‹Ÿåˆåˆ°æˆ‘çš„æ•°æ®é›†ï¼Œä½†æ— æ³•å°†ç³»æ•°è§£é‡Šä¸ºæ¦‚ç‡ã€‚é€šè´§è†¨èƒ€å˜åŒ–çš„è§£é‡Šæ˜¯å¦å¦‚ä¸‹ï¼šé€šè´§è†¨èƒ€å˜åŒ–å¢åŠ  100% ä¼šå¯¼è‡´å“åº”å˜é‡çš„å¯èƒ½æ€§å¢åŠ  99.9%ï¼Ÿ
]]></description>
      <guid>https://stats.stackexchange.com/questions/653466/interpreting-continuous-predictors-for-logistic-regression-in-r</guid>
      <pubDate>Wed, 28 Aug 2024 02:47:05 GMT</pubDate>
    </item>
    <item>
      <title>ä¸¤ä¸ª AR(1) è¿‡ç¨‹ä¹‹å’Œçš„æŒä¹…æ€§</title>
      <link>https://stats.stackexchange.com/questions/653465/persistence-of-the-sum-of-two-ar1-processes</link>
      <description><![CDATA[è€ƒè™‘ä¸€ä¸ªæ—¶é—´åºåˆ— $y_t$ï¼Œå®ƒå¯ä»¥åˆ†è§£ä¸ºä¸¤ä¸ªç»„æˆéƒ¨åˆ†çš„æ€»å’Œï¼š
$$y_t = x_{1,t} + x_{2,t} $$
å‡è®¾æ¯ä¸ªç»„æˆéƒ¨åˆ†éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶éµå¾ªå¹³ç¨³ AR(1) è¿‡ç¨‹ï¼š
$$\begin{align*} 
x_{1,t} &amp;= \phi_1 x_{1,t-1} + \varepsilon_{1,t} \\
x_{2,t} &amp;= \phi_2 x_{2,t-1} + \varepsilon_{2,t} \\
\end{align*}$$
å…¶ä¸­ï¼š
$$\begin{align*} 
\varepsilon_{1,t} &amp;\sim N \left (0,\sigma_1^2 \right ) \\
\varepsilon_{2,t} &amp;\sim N \left (0,\sigma_2^2 \right ) \\
\end{align*}$$
æˆ‘ä½¿ç”¨æ¨¡æ‹Ÿæ¥ç”Ÿæˆä¸€ç³»åˆ—é•¿åºåˆ— $X_1$ã€$X_2$ ä»¥åŠå®ƒä»¬çš„å’Œ $Y$ã€‚ç„¶åï¼Œæˆ‘ä¼°è®¡ $y_t$ çš„ AR(1) æ¨¡å‹
$$y_t = \phi_y y_{t-1} + \varepsilon_{y,t}$$
åœ¨æˆ‘çš„æ¨¡æ‹Ÿ/ä¼°è®¡ä¸­ï¼Œæˆ‘å‘ç° $\phi_y$ çš„ä¼°è®¡å€¼æ˜¯ $\phi_1$ å’Œ $\phi_2$ çš„åŠ æƒå¹³å‡å€¼ï¼Œå…¶ä¸­æ¯ä¸ªæˆåˆ†çš„ $\phi_i$ çš„æƒé‡ç”±å…¶æ— æ¡ä»¶æ–¹å·®çš„æ¯”ä¾‹å†³å®šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘å‘ç°ï¼š
$$
\hat{\phi}_y \approx \left ( \frac{\frac{\sigma_1^2}{1-\phi_1^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_1 + \left ( \frac{\frac{\sigma_2^2}{1-\phi_2^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_2
$$
æˆ‘çŸ¥é“LÃ¼tkepohl (1984)ï¼ˆè™½ç„¶æˆ‘è¿˜æ²¡æœ‰è·å¾—å‰¯æœ¬ï¼‰ï¼Œæ®ç§°è¯æ˜äº†$y_t$éµå¾ªå¹³ç¨³ ARMA è¿‡ç¨‹ã€‚
æ˜¯å¦æœ‰äººçŸ¥é“ä»¥ä¸‹ä»»ä¸€è¯æ˜ï¼ˆæˆ–èƒ½å¤Ÿæ¨å¯¼å‡ºè¯æ˜ï¼‰ï¼š

$y_t$éµå¾ª AR(1) è¿‡ç¨‹ã€‚
$\phi_y \equiv \left ( \frac{\frac{\sigma_1^2}{1-\phi_1^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_1 + \left ( \frac{\frac{\sigma_2^2}{1-\phi_2^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_2$

æœ€åï¼Œæœ‰è°çŸ¥é“ä»»ä½•ç›¸å…³çš„è¯æ˜æ¶‰åŠæ›´ä¸€èˆ¬çš„æƒ…å†µï¼Œå½“$\varepsilon_{1,t}$å’Œ$\varepsilon_{2,t}$ æ˜¯ç›¸å…³çš„å—ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/653465/persistence-of-the-sum-of-two-ar1-processes</guid>
      <pubDate>Wed, 28 Aug 2024 02:09:13 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•è®¡ç®—äº¤äº’é¡¹çš„é£é™©æ¯”å’Œ 95ï¼… ç½®ä¿¡åŒºé—´ï¼ˆä½¿ç”¨ Rï¼‰</title>
      <link>https://stats.stackexchange.com/questions/653462/how-to-calculate-the-risk-ratio-and-95-confidence-interval-of-an-interaction-te</link>
      <description><![CDATA[æˆ‘çš„ç›®æ ‡æ˜¯è®¡ç®—äº¤äº’é¡¹çš„é£é™©æ¯”å’Œ 95% ç½®ä¿¡åŒºé—´ã€‚
ä¾‹å¦‚ï¼Œæœ‰ä¸¤ä¸ªå˜é‡ age å’Œ sex (y ~ age * sex)ï¼Œæˆ‘æƒ³åˆ†åˆ«è®¡ç®—ç”·æ€§å’Œå¥³æ€§å¹´é¾„å¢é‡çš„é£é™©æ¯”å’Œ 95% ç½®ä¿¡åŒºé—´ã€‚
è¿™æ˜¯æˆ‘ä½¿ç”¨ rms åŒ…åˆ¶ä½œçš„ä¸€ä¸ªä¾‹å­ã€‚å¦‚æœæˆ‘çš„ç†è§£æ²¡æœ‰é”™çš„è¯ï¼Œrms åŒ…ä¸­çš„ summary.rms å¯ä»¥å¾ˆæ–¹ä¾¿åœ°é€šè¿‡ summary(f, age = ..., sex = &quot;Female/Male&quot;) è¾“å‡ºäº¤äº’é¡¹çš„é£é™©æ¯”ã€‚
å¹´é¾„äº¤äº’ä½œç”¨çš„æ•ˆåº”å¯ä»¥è®¡ç®—ä¸ºç¬¬ä¸€çº§ï¼ˆæœ¬ä¾‹ä¸­ä¸ºå¥³æ€§ï¼‰coefage çš„æŒ‡æ•°å˜æ¢ï¼Œcoefage + coefage:Male çš„æŒ‡æ•°å˜æ¢ï¼ˆç”·æ€§ï¼‰ï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–çº§åˆ«ï¼Œåˆ™ coefage + coefage:otherã€‚
è‡³äºæ ‡å‡†è¯¯å·®ï¼Œæˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°äº†ä»¥ä¸‹è®¡ç®—å…¬å¼ï¼š$\sqrt{\text{var}(b_1) + \text{var}(b_2) + 2\text{cov}(b_1,b_2)}$ã€‚
è¿™ä¸ªå…¬å¼çš„ç»“æœå’ŒrmsåŒ…çš„è¾“å‡ºä¸€è‡´ï¼Œä½†æ˜¯å¥½åƒæœ‰äººæŒ‡å‡ºè¿™ä¸ªå…¬å¼æ²¡æœ‰ä¾æ®ï¼ˆè§è¿™ä¸ªï¼‰ï¼Ÿ
æˆ‘çš„é—®é¢˜æ˜¯ï¼Œ

æˆ‘æè¿°çš„è®¡ç®—æ–¹æ³•å’Œå…¬å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ

è¿™ä¸ªè®¡ç®—æ–¹æ³•å’Œå…¬å¼æ˜¯å¦é€‚ç”¨äºä¸€èˆ¬çº¿æ€§å›å½’ã€é€»è¾‘å›å½’å’Œcoxå›å½’ï¼Ÿï¼ˆæ˜¯é€šç”¨æ–¹æ³•å—ï¼Ÿï¼‰

ç›¸äº’ä½œç”¨å¾ˆå¸¸è§ã€‚å¾ˆå¤šäººä¼šæŠŠæ•°æ®æŒ‰ç…§åˆ†ç±»å˜é‡åˆ†æˆå‡ ä¸ªå­ç»„ï¼Œç„¶ååˆ†åˆ«è®¡ç®—è¿ç»­å€¼çš„å½±å“ã€‚ä½†è¿™ç§æ–¹æ³•åº”è¯¥æ˜¯é”™è¯¯çš„ï¼Œå¯¹å§ï¼Ÿåº”è¯¥åœ¨å…¨æ ·æœ¬ä¸­è®¡ç®—äº¤äº’ä½œç”¨ï¼Œç„¶åæŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•è®¡ç®—ä¸åŒå±‚æ¬¡è¿ç»­å€¼çš„æ•ˆåº”ï¼ˆæœ‰ç‚¹è·‘é¢˜ï¼Œæƒ³ç¡®è®¤ä¸€ä¸‹æˆ‘çš„è¿™ä¸ªç†è§£æ˜¯å¦æ­£ç¡®ï¼‰ã€‚


require(survival)
require(rms)
n &lt;- 1000
set.seed(1)

sex &lt;- factor(sample(c(&#39;Male&#39;,&#39;Female&#39;), n, 
rep=TRUE, prob=c(.6, .4)))
age &lt;- 40 + 11*rnorm(n) + as.numeric(sex) *rnorm(n)
cens &lt;- 14*runif(n)
h &lt;- .12*exp(.04*(age-40)+.72*(sex==&#39;Female&#39;))
dt &lt;- -log(runif(n))/h
e &lt;- ifelse(dt &lt;= cens,1,0)
dt &lt;- pmin(dt, cens)
dd &lt;- datadist(age, sex)
options(datadist=&#39;dd&#39;)
S &lt;- Surv(dt,e)

f &lt;- cph(S ~ age * sex, x=TRUE, y=TRUE)
f
# ç³»æ•° S.E. Wald Z Pr(&gt;|Z|)
# å¹´é¾„ 0.0273 0.0053 5.15 &lt;0.0001 
# æ€§åˆ«=ç”·æ€§ -1.4011 0.3025 -4.63 &lt;0.0001 
# å¹´é¾„ * æ€§åˆ«=ç”·æ€§ 0.0174 0.0070 2.48 0.0130 

summary(f, å¹´é¾„ = c(40,41), æ€§åˆ« = &quot;å¥³æ€§&quot;)

summary(f, å¹´é¾„ = c(40,41), æ€§åˆ« = &quot;ç”·æ€§&quot;)
# æ•ˆåº” å“åº”ï¼šS 
# 
# å› ç´  ä½ é«˜ å·®å¼‚ æ•ˆåº” S.E.ä¸‹é™ 0.95 ä¸Šé™ 0.95
# å¹´é¾„ 40 41 1 0.04471 0.0046908 0.035516 0.053903 
# é£é™©æ¯” 40 41 1 1.04570 NA 1.036200 1.055400 
# æ€§åˆ« - å¥³æ€§:ç”·æ€§ 2 1 NA 0.71319 0.0831390 0.550240 0.876140 
# é£é™©æ¯” 2 1 NA 2.04050 NA 1.733700 2.401600 

f$coefficients[1] + f$coefficients[3] 
# 0.04470962

v &lt;- vcov(f)
sqrt(v[&quot;å¹´é¾„&quot;, &quot;å¹´é¾„&quot;] + v[&quot;å¹´é¾„ * æ€§åˆ«=ç”·æ€§&quot;, &quot;å¹´é¾„ * æ€§åˆ«=ç”·æ€§&quot;] + 2*v[&quot;å¹´é¾„&quot;, &quot;å¹´é¾„ * æ€§åˆ«=ç”·æ€§&quot;])
# 0.004690838

]]></description>
      <guid>https://stats.stackexchange.com/questions/653462/how-to-calculate-the-risk-ratio-and-95-confidence-interval-of-an-interaction-te</guid>
      <pubDate>Wed, 28 Aug 2024 01:27:09 GMT</pubDate>
    </item>
    <item>
      <title>æˆ‘éœ€è¦åšäº›ä»€ä¹ˆæ¥æ”¹è¿›æˆ‘çš„å›å½’æ¨¡å‹</title>
      <link>https://stats.stackexchange.com/questions/653461/what-i-have-to-do-more-to-improve-my-regression-model-in-r</link>
      <description><![CDATA[æˆ‘æƒ³åˆ¶ä½œé¥®æ–™é”€å”®é¢„æµ‹æ¨¡å‹ã€‚æˆ‘æ­£åœ¨åšå›å½’åˆ†æã€‚æ‰€æœ‰åˆ—ç±»å‹éƒ½æ˜¯æ•´æ•°ã€‚æ•°æ®çš„ç»´åº¦æ˜¯ 15375 è¡Œ x 400 åˆ—ã€‚å› å˜é‡ $y$ æ˜¯é¥®æ–™é”€å”®æ¯”ä¾‹ã€‚
æ•°æ®å¦‚ä¸‹ã€‚

ç»è¿‡å‘åæ¶ˆé™¤å’Œæ”¹å˜$y$ä»¥ç¬¦åˆæ­£åˆ™åŒ–å‡è®¾åï¼Œæˆ‘ä½¿ç”¨äº†è¿™ä¸ªæ¨¡å‹ã€‚
reg&lt;-lm(I(log(y+1)^0.4650181) ~ x1 + I(x2^2) + I(x3^2) + x4 + I(x5^2)...x17 ,data = train)

æˆ‘è®¤ä¸ºå›å½’æ¨¡å‹å¯ä»¥æ”¹è¿›ï¼Œä½†æˆ‘ä¸çŸ¥é“æˆ‘è¿˜èƒ½åšäº›ä»€ä¹ˆã€‚çœ‹åˆ° plot(reg) è¾“å‡ºåï¼Œè¯·ç»™æˆ‘ä¸€äº›å»ºè®®ã€‚

æˆ‘å·²ç»å¯¹ $y$ è¿›è¡Œäº†å¯¹æ•°å˜æ¢å’Œå¹³æ–¹æ ¹å˜æ¢ã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/653461/what-i-have-to-do-more-to-improve-my-regression-model-in-r</guid>
      <pubDate>Wed, 28 Aug 2024 01:24:32 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•å¯¹ $\mathbb R^2$ ä¸­ä¸å¹³è¡Œçš„ä¸¤æ¡çº¿è¿›è¡ŒåŒå˜é‡é«˜æ–¯æ¡ä»¶åŒ–ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/653455/how-to-condition-a-bivariate-gaussian-on-two-lines-in-mathbb-r2-that-are-not</link>
      <description><![CDATA[å¦‚ä½•å¯¹ $\mathbb{R}^2$ ä¸­ä¸¤æ¡ä¸å¹³è¡Œ/ç›¸äº¤çš„çº¿ $\{(x,y):a_1x+b_1y+c_1=0\}\cup\{(x,y):a_2x+b_2y+c_2=0\}$ ä¸Šçš„å‡å€¼ä¸º $\mu$ å’Œ $\Sigma$ï¼ˆä¾‹å¦‚ $\sigma=\sigma^2I$ï¼‰çš„åŒå˜é‡é«˜æ–¯è¿›è¡Œæ¡ä»¶åŒ–ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/653455/how-to-condition-a-bivariate-gaussian-on-two-lines-in-mathbb-r2-that-are-not</guid>
      <pubDate>Tue, 27 Aug 2024 23:31:11 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨å¤æ‚æŠ½æ ·ä¸‹ï¼Œæ•ˆåº”å¤§å°é€šå¸¸å¦‚ä½•å®šä¹‰ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/653452/how-are-effect-sizes-typically-defined-under-complex-sampling</link>
      <description><![CDATA[åœ¨æŸäº›é¢†åŸŸï¼Œå¼•ç”¨æ ‡å‡†åŒ–æ•ˆåº”å¤§å°çš„æ¯”è¾ƒæ˜¯å¾ˆå¸¸è§çš„ã€‚ä¾‹å¦‚ï¼Œå‡å€¼å·®å¼‚é€šè¿‡æ ·æœ¬æ ‡å‡†å·®è¿›è¡Œç¼©æ”¾ä»¥å¾—å‡ºæ•ˆåº”å¤§å°ã€‚
è¿™è¿›è€Œå¯¼è‡´è®¡ç®—å…¬å¼ä»å…¶ä»–è¾“å…¥ä¸­æå–æ ‡å‡†å·®ï¼Œä¾‹å¦‚ï¼Œ$t$ç»Ÿè®¡é‡ä¹˜ä»¥å…¶è‡ªç”±åº¦çš„å¹³æ–¹æ ¹å¤§çº¦ç­‰äºç¼©æ”¾åçš„å‡å€¼å·®å¼‚ã€‚è¿™äº›è®¡ç®—å…¬å¼åœ¨å¤æ‚æŠ½æ ·ä¸‹æ— æ•ˆï¼šå‡å€¼çš„æ ‡å‡†è¯¯å·®ä¸æ ‡å‡†å·®ä¹‹é—´çš„å…³ç³»æ›´ä¸ºå¤æ‚ã€‚å³ä½¿æ˜¯â€œå‡å€¼å·®é™¤ä»¥æ ‡å‡†å·®â€è¿™ä¸€ç®€å•å®šä¹‰ï¼Œä¹Ÿä¼šå¼•å‘ä¸€ä¸ªé—®é¢˜ï¼šå“ªä¸ªæ ‡å‡†å·®â€”â€”ä¼°è®¡çš„æ€»ä½“æ ‡å‡†å·®ï¼Ÿ
é‚£ä¹ˆï¼Œé—®é¢˜æ˜¯ï¼šæ˜¯å¦å­˜åœ¨æ ‡å‡†çš„ã€å¹¿æ³›ä½¿ç”¨çš„æ ‡å‡†åŒ–æ•ˆåº”å¤§å°å…¬å¼ï¼Œå¯ä»¥è§£é‡Šå¤æ‚æŠ½æ ·ï¼Ÿ
[æˆ‘å¹¶ä¸çœŸæ­£å…³å¿ƒæ ‡å‡†åŒ–æ•ˆåº”å¤§å°æ˜¯å¥½æ˜¯åï¼Œç”šè‡³ä¸å…³å¿ƒåœ¨å¤æ‚æŠ½æ ·ä¸‹å¦‚ä½•æœ€å¥½åœ°è®¡ç®—å®ƒä»¬â€”â€”æˆ‘åªæ˜¯è¯•å›¾æ‰¾å‡ºç°æœ‰çš„æ ‡å‡†]]]></description>
      <guid>https://stats.stackexchange.com/questions/653452/how-are-effect-sizes-typically-defined-under-complex-sampling</guid>
      <pubDate>Tue, 27 Aug 2024 23:09:45 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•è®¡ç®—ä¸¤ä¸ªæˆåŠŸç‡çš„ p å€¼ï¼Œå…¶ä¸­ä¸€ä¸ªæµ‹è¯•é›†æ˜¯å¦ä¸€ä¸ªæµ‹è¯•é›†çš„å­é›†ï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/653468/how-do-i-calculate-the-p-value-for-two-success-rates-where-one-of-the-test-sets</link>
      <description><![CDATA[æˆ‘çŸ¥é“è¿™æ ·çš„é—®é¢˜å·²ç»è¢«é—®äº†ä¸€ç™¾æ¬¡ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä¸å¤Ÿèªæ˜ï¼Œæ— æ³•æ‰¾å‡ºå“ªä¸ªç­”æ¡ˆé€‚ç”¨äºæˆ‘çš„é—®é¢˜ã€‚
èƒŒæ™¯ï¼šæˆ‘æœ‰ä¸€ä¸ªå›¾åƒåˆ†ç±»æ¨¡å‹ï¼Œåœ¨æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡ä¸º 95.89%ã€‚ç°åœ¨ï¼Œä¸å¹¸çš„æ˜¯ï¼Œåœ¨è®­ç»ƒæœŸé—´å·²ç»çœ‹åˆ°äº†ä¸€äº›æµ‹è¯•é›†ã€‚æˆ‘æƒ³çŸ¥é“çš„æ˜¯æ¨¡å‹æ˜¯å¦ä»ä¸­å—ç›Šï¼Œä»è€Œä½¿ç»“æœå…·æœ‰è¯¯å¯¼æ€§ã€‚æˆ‘ä¸ºæµ‹è¯•è¿™ä¸€ç‚¹æ‰€åšçš„æ˜¯åˆ›å»ºä¸€ä¸ªæµ‹è¯•é›†çš„å­é›†ï¼Œå…¶ä¸­åªæœ‰æ¨¡å‹ä»æœªè§è¿‡çš„å›¾åƒï¼Œå› æ­¤æ˜¯ä¸€ä¸ªæœªå—æ±¡æŸ“çš„æµ‹è¯•é›†ã€‚åœ¨è¯¥å­é›†ä¸Šï¼Œè¯¥æ¨¡å‹çš„å‡†ç¡®ç‡ä¸º 95.32%ï¼Œå› æ­¤æ­£å¦‚é¢„æœŸçš„é‚£æ ·ï¼Œæ¨¡å‹çš„è¡¨ç°æ›´å·®ï¼Œä½†æˆ‘ä¸çŸ¥é“è¿™æ˜¯å¦ä¸æ±¡æŸ“æœ‰å…³ï¼Œæˆ–è€…å­é›†æ˜¯å¦åªæ˜¯è¿æ°”ä¸å¥½ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºæˆ‘çš„é›¶å‡è®¾æ˜¯æ±¡æŸ“å¯¹æ¨¡å‹çš„æ€§èƒ½æ²¡æœ‰å½±å“ã€‚ç°åœ¨æˆ‘å¿…é¡»å¼„æ¸…æ¥šè¯¥å¤§å°çš„éšæœºå­é›†æ‰§è¡Œè¯¥æ“ä½œçš„æ¦‚ç‡æœ‰å¤šé«˜ã€‚æˆ‘å½“ç„¶æœ‰é›†åˆå¤§å°ï¼Œå¯ä»¥æä¾›å®ƒä»¬ï¼Œä½†è€å®è¯´ï¼Œæˆ‘åªæ˜¯æƒ³è¦ä¸€äº›å…³äºæˆ‘çš„åœºæ™¯å«ä»€ä¹ˆä»¥åŠæœ‰å“ªäº›æ–¹æ³•çš„æŒ‡é’ˆã€‚æˆ‘å¯ä»¥è‡ªå·±åšè®¡ç®—ã€‚
æˆ‘å‘ç°äº†ä¸€ä¸ªæ‰€è°“çš„ R æµ‹è¯•ï¼Œå¬èµ·æ¥æœ‰ç‚¹åƒæˆ‘æƒ³è¦çš„ï¼Œä½†æˆ‘ä¸ç¡®å®šï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ•°æ®é›†å¹¶ä¸ç›¸äº’ç‹¬ç«‹ã€‚ä¸€ä¸ªåŒ…å«å¦ä¸€ä¸ªçš„å…¨éƒ¨ã€‚
æˆ‘è¿˜è®­ç»ƒäº†ä¸‰ä¸ªæ¶æ„ç­‰æ•ˆçš„æ¨¡å‹ï¼ˆè¿™æ˜¯æœºå™¨å­¦ä¹ ä¸­å¯é‡å¤æ€§çš„è‰¯å¥½åšæ³•ï¼‰ï¼Œæ‰€ä»¥æˆ‘å®é™…ä¸Šå¯¹æ¯ä¸ªé›†åˆéƒ½æœ‰ä¸‰ä¸ªéå¸¸ç›¸ä¼¼çš„å‡†ç¡®åº¦ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºæ¯ä¸ªé›†åˆè¿‘ä¼¼ä¸€ä¸ªæ ‡å‡†å·®ï¼Œä½†æˆ‘ä¸çŸ¥é“æ˜¯å¦ä»¥åŠå¦‚ä½•ç¼–ç»‡å®ƒã€‚
æ­£å¦‚æˆ‘æ‰€è¯´ - æˆ‘å¯¹å¯»æ‰¾çš„æ­£ç¡®æœ¯è¯­æˆ–é“¾æ¥æ„Ÿåˆ°æ»¡æ„ï¼Œå…¶ä½™çš„æˆ‘å¯ä»¥è‡ªå·±å¼„æ¸…æ¥šã€‚
æ„Ÿè°¢é˜…è¯»ï¼]]></description>
      <guid>https://stats.stackexchange.com/questions/653468/how-do-i-calculate-the-p-value-for-two-success-rates-where-one-of-the-test-sets</guid>
      <pubDate>Tue, 27 Aug 2024 21:16:49 GMT</pubDate>
    </item>
    <item>
      <title>æœ‰æˆ–æ²¡æœ‰èšåˆçš„æ··åˆè®¾è®¡æ–¹å·®åˆ†æï¼Ÿ</title>
      <link>https://stats.stackexchange.com/questions/653439/mixed-design-anova-with-or-without-aggregation</link>
      <description><![CDATA[æˆ‘è¿›è¡Œäº†ä¸€ä¸ªååº”æ—¶é—´å®éªŒï¼Œç°åœ¨æƒ³å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚è¿™æ˜¯ä¸€ä¸ªé‡å¤æµ‹é‡å®éªŒï¼Œæœ‰ä¸¤ä¸ªæ¡ä»¶ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºæ¡ä»¶ A å’Œæ¡ä»¶ Bï¼‰ã€‚è¿˜æœ‰ä¸¤ä¸ªç»„ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºç»„ 1 å’Œç»„ 2ï¼‰ã€‚æ¯ä¸ªå‚ä¸è€…åœ¨æ¡ä»¶ 1 ä¸­å®Œæˆäº† 60 æ¬¡è¯•éªŒï¼Œåœ¨æ¡ä»¶ 2 ä¸­å®Œæˆäº† 60 æ¬¡è¯•éªŒï¼Œå› æ­¤æ¯ä¸ªç”¨æˆ·æœ‰ 120 ä¸ªæ•°æ®ç‚¹ã€‚æˆ‘ç°åœ¨æƒ³åšä¸€ä¸ªæ··åˆæ–¹å·®åˆ†æï¼Œæˆ‘æƒ³çŸ¥é“æˆ‘æ˜¯å¦åº”è¯¥ä½¿ç”¨æ¯ä¸ªå‚ä¸è€…çš„è¯•éªŒå¹³å‡å€¼ï¼Œæˆ–è€…æˆ‘æ˜¯å¦åº”è¯¥ä½¿ç”¨æ¯ä¸ªå‚ä¸è€…çš„æ¯ä¸ªæ•°æ®ç‚¹ã€‚æˆ‘æ›¾å°è¯•åœ¨ R ä¸­ä½¿ç”¨ ezANOVA å’Œ afex å°†æ¯ä¸ªæ•°æ®ç‚¹å¼•å…¥ ANOVAï¼Œä½†ä¸¤ä¸ªè½¯ä»¶åŒ…éƒ½è¿”å›äº†èšåˆåˆ°å‡å€¼çš„è­¦å‘Šã€‚
è¿™æ˜¯æˆ‘çš„æ•°æ®çš„æ ·å­ï¼š



ID
Group
Conditon
RT




1
Group 1
A
345


1
Group 1
A
746


1
ç¬¬ 1 ç»„
A
824


1
ç¬¬ 1 ç»„
B
542


1
ç¬¬ 1 ç»„
B
235


1
ç»„1
B
654


2
ç¬¬ 2 ç»„
A
324


2
ç¬¬ 2 ç»„
A
345


2
ç¬¬ 2 ç»„
A
123


2
ç»„2
B
623


2
ç¬¬ 2 ç»„
B
235


2
ç¬¬ 2 ç»„
B
654



æˆ‘å°è¯•è¿™æ ·è®¡ç®—ï¼š
afex::aov_car(RT ~ Group*Condition+ Error (ID/Condition), data = df_long)

ç„¶åæˆ‘æ”¶åˆ°è­¦å‘Šï¼š
æ¯ä¸ªè®¾è®¡å•å…ƒæœ‰å¤šä¸ªè§‚å¯Ÿå€¼ï¼Œä½¿ç”¨èšåˆæ•°æ®`fun_aggregate = mean`ã€‚

è¦å…³é—­æ­¤è­¦å‘Šï¼Œè¯·æ˜ç¡®ä¼ é€’ fun_aggregate = meanã€‚]]></description>
      <guid>https://stats.stackexchange.com/questions/653439/mixed-design-anova-with-or-without-aggregation</guid>
      <pubDate>Tue, 27 Aug 2024 19:11:53 GMT</pubDate>
    </item>
    <item>
      <title>é¢æ¿æ•°æ®ä¸­çš„å•ä½ä¸å˜å¤„ç†</title>
      <link>https://stats.stackexchange.com/questions/653438/unit-invariant-treatments-in-panel-data</link>
      <description><![CDATA[åˆå­¦è€…ï¼Œæƒ³é—®ä¸€ä¸ªå…³äºåŒå‘å›ºå®šæ•ˆåº”çš„åˆå­¦è€…é—®é¢˜ã€‚å¦‚æœç›¸å…³çš„è¯ï¼Œæˆ‘æ­£åœ¨ä½¿ç”¨ Rã€‚
ä¸è¿™ä¸ªé—®é¢˜ä¸­çš„ç”¨æˆ·ä¸€æ ·ï¼Œæˆ‘æ„Ÿå…´è¶£çš„æ˜¯ä¼°è®¡éšæ—¶é—´å˜åŒ–ï¼ˆä½†å•ä½ä¸å˜ï¼‰çš„å®è§‚æ¡ä»¶å¦‚ä½•å½±å“å…¬å¸æƒ…ç»ªï¼›å°±æˆ‘è€Œè¨€ï¼Œæ˜¯åœ¨è¡Œä¸šå±‚é¢ã€‚ä½†æ˜¯ï¼Œæˆ‘çš„é—®é¢˜ç•¥æœ‰ä¸åŒã€‚ è¿™ä¸ªç­”æ¡ˆä¹Ÿå¯èƒ½éƒ¨åˆ†å›ç­”äº†æˆ‘çš„é—®é¢˜ï¼Œå°½ç®¡æˆ‘å‘ç°é—®é¢˜å’Œç­”æ¡ˆéƒ½ä»¤äººå›°æƒ‘ã€‚
å°±æˆ‘è€Œè¨€ï¼Œæˆ‘æœ‰ä»¥ä¸‹æ•°æ®ï¼š(1) å„ä¸ªå…¬å¸çš„ IDï¼Œ(2) æ¯ä¸ªå…¬å¸æ‰€å±çš„è¡Œä¸šï¼Œ(3) æ—¥æœŸ (YYYY-MM-DD)ï¼Œ(4) å®è§‚æ¡ä»¶ï¼Œ(5) å…¬å¸æƒ…ç»ªï¼Œä»¥åŠ (6) æƒ…ç»ªæ‰€æŒ‡çš„ä¸»é¢˜ã€‚

â€œå¤„ç†â€[å®è§‚æ¡ä»¶] å’Œå“åº” [æƒ…ç»ª] éƒ½æ˜¯è¿ç»­çš„ï¼ŒèŒƒå›´ä»è´Ÿåˆ°æ­£ã€‚
è¡Œä¸šã€ä¸»é¢˜å’Œå…¬å¸æ˜¯åˆ†ç±»çš„ã€‚

é¦–å…ˆï¼Œæˆ‘å…³å¿ƒç¬¦å·ä»¥åŠå¤„ç†çš„å¹…åº¦å¦‚ä½•å½±å“å“â€‹â€‹åº”ã€‚å…¶æ¬¡ï¼Œè§‚å¯ŸæŸäº›è¡Œä¸šååº”çš„å·®å¼‚ä¹Ÿå¾ˆé‡è¦ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªäº¤äº’é¡¹ã€‚æˆ‘æƒ³è±¡æˆ‘æƒ³è¦ä¼°è®¡çš„å…³ç³»æ˜¯è¿™æ ·çš„ï¼š
$$ Sentiment_{ijt} = Macro_{jt} + Sector_i + Macro_{jt} * Sector_i $$
å…¶ä¸­ $i$ æ˜¯å…¬å¸ï¼Œ$j$ æ˜¯ä¸»é¢˜ï¼Œ$t$ æ˜¯å¹´åº¦æ±‡æ€»ã€‚é€šå¸¸ï¼Œæˆ‘çœ‹åˆ°äººä»¬å°†å…¬å¸å’Œå¹´ä»½ä½œä¸ºå›ºå®šæ•ˆåº”ã€‚ä½†æˆ‘æ€€ç–‘æ•™ç§‘ä¹¦å¼çš„æ–¹æ³•æ˜¯å¦é€‚ç”¨äºæ­¤ï¼š

é¦–å…ˆï¼Œç”±äºæ¯ä¸ªå…¬å¸åªèƒ½è¢«åˆ†é…åˆ°ä¸€ä¸ªéƒ¨é—¨ï¼Œå¹¶ä¸”è¿™ä¸ªéƒ¨é—¨ä¸ä¼šéšæ—¶é—´è€Œå˜åŒ–ï¼Œ$Sector$ åº”è¯¥ä¸å…¬å¸ FE å®Œå…¨å…±çº¿ã€‚
å…¶æ¬¡ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œé‡ç‚¹æ˜¯ä¼°è®¡ä¸åŒå…¬å¸å“åº”çš„å·®å¼‚ï¼Œå› æ­¤æˆ‘è®¤ä¸ºæˆ‘ä¸æƒ³åŒ…å«å…¬å¸ FEã€‚

æˆ‘æƒ³æˆ‘å¯ä»¥ä½¿ç”¨ topic FE è€Œä¸æ˜¯å…¬å¸ FEã€‚ä½†æˆ‘ä»æœªè§è¿‡è¿™æ ·åšï¼›å•ä½ï¼ˆæ ¹æ®æˆ‘çš„ç»éªŒï¼‰é€šå¸¸æ˜¯åŸºäºç©ºé—´æˆ–å®ä½“çš„ã€‚å› æ­¤ï¼Œä»æ¦‚å¿µä¸Šè®²ï¼Œæˆ‘å¾ˆéš¾ç†è§£åˆ†æå•ä½ï¼ˆä¸»é¢˜å¹´ä»½ï¼Ÿï¼‰ç”šè‡³ä»£è¡¨ä»€ä¹ˆï¼Œæˆ–è€…å®ƒæ˜¯å¦ä¸æˆ‘çš„å®é™…ç ”ç©¶é—®é¢˜ä¸€è‡´ã€‚
æˆ‘è¿˜è¯»åˆ°ï¼Œæœ‰ 3WFE è§£å†³æ–¹æ¡ˆå¯ä»¥è§£é‡Š $Y$ ä¸Šçš„æ‰€æœ‰ä¸‹æ ‡ï¼Œä½†æˆ‘è§‰å¾—è¿™å¯èƒ½æ˜¯é”™è¯¯çš„æ–¹å‘ï¼Œå› ä¸ºæˆ‘çš„ç›®æ ‡æ˜¯è§‚å¯Ÿè¡Œä¸šçº§åˆ«çš„å·®å¼‚ï¼ˆä»¥åŠæˆ‘çš„é¢„æµ‹å˜é‡ä¸Šçš„ä¸‹æ ‡ä¸ $Y$ ä¸Šçš„ä¸‹æ ‡ä¸åŒ¹é…ï¼‰ã€‚
å°† $Sentiment_{ijt}$ å»ºæ¨¡ä¸º $Macro_{jt} * Sector_i$ ä¸ä¸»é¢˜ ($i$) / å¹´ä»½ ($t$) 2WFE æ˜¯å¦æ˜¯ä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œè€ƒè™‘åˆ°æˆ‘çš„ç ”ç©¶é—®é¢˜ï¼Ÿæˆ–è€…æ˜¯å¦åº”è¯¥é‡æ„æˆ‘çš„æ•°æ®ä»¥å‡å°‘$Sentiment$å¯èƒ½å˜åŒ–çš„ç»´åº¦æ•°é‡ï¼Ÿ]]></description>
      <guid>https://stats.stackexchange.com/questions/653438/unit-invariant-treatments-in-panel-data</guid>
      <pubDate>Tue, 27 Aug 2024 19:05:11 GMT</pubDate>
    </item>
    <item>
      <title>ä½¿ç”¨ Python statsmodels è®¡ç®—æ··åˆçº¿æ€§æ¨¡å‹ R2 å’Œ ICC</title>
      <link>https://stats.stackexchange.com/questions/653403/mixed-linear-model-r2-and-icc-calculation-using-python-statsmodels</link>
      <description><![CDATA[æˆ‘å¯¹æ··åˆçº¿æ€§æ¨¡å‹è¿˜ä¸ç†Ÿæ‚‰ã€‚æˆ‘å»ºç«‹äº†ä¸€ä¸ªæ¨¡å‹ï¼Œè¯¥æ¨¡å‹å…·æœ‰ä¸¤ä¸ªéšæœºæ•ˆåº”ï¼ˆStudent_id å’Œ Subjectï¼‰å’Œä¸€ä¸ªå›ºå®šæ•ˆåº”ï¼ˆMAIï¼‰ï¼Œé¢„æµ‹å˜é‡ä¸º SRLã€‚
model = combinedlm(&quot;SRL ~ MAI&quot;, data=df, groups=df[&quot;Student_id&quot;], re_formula=&quot;~1&quot;, vc_formula={&quot;Subject&quot;: &quot;0 + C(Subject)&quot;})
result = model.fit()

æˆ‘æƒ³åˆ†è§£æ–¹å·®ï¼Œä»¥è®¡ç®—æ¯ä¸ªæ•ˆåº”è§£é‡Šçš„æ–¹å·®é‡ã€‚å³ï¼š

è¾¹é™…$R^2$ï¼ˆå³$R^2_M$ï¼Œæ–¹å·®ç”±å›ºå®šæ•ˆåº”è§£é‡Šï¼‰
æ¡ä»¶$R^2$ï¼ˆå³$R^2_C$æ–¹å·®ç”±å›ºå®š+éšæœºæ•ˆåº”è§£é‡Šï¼‰
Student_id çš„ ICCï¼ˆå³$ICC_1$ï¼Œéšæœºæ•ˆåº”çš„ä¸€éƒ¨åˆ†ï¼‰
Subject çš„ ICCï¼ˆå³$ICC_2$ï¼Œéšæœºæ•ˆåº”çš„ä¸€éƒ¨åˆ†ï¼‰

åœ¨ç ”ç©¶å’ŒæŸ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å‘ç°ä»¥ä¸‹äº”ä¸ªè®¡ç®—æ˜¯ç›¸å…³çš„ï¼š
var_f_r = result.fittedvalues.var() # å›ºå®šå’Œéšæœºæ•ˆåº”æ–¹å·®ï¼Ÿ0.26061471675794606
var_f = result.predict(result_df).var() # å›ºå®šæ•ˆåº”ï¼Ÿ 0.11
var_e = result.scale # æ®‹å·®æ–¹å·®ï¼Œ0.09
var_r1 = result.cov_re.iloc[0, 0] # Student_id çš„éšæœºæ•ˆåº”ï¼Œ0.129
var_r2 = result.vcomp[0] # Subject çš„éšæœºæ•ˆåº”ï¼Œ0.079

æˆ‘ä¼šåšè¿™æ ·çš„äº‹æƒ…ï¼Œä½†ä¼¼ä¹ä¸æ­£ç¡®ï¼š
$total\_var = var\_f + var\_e + var\_{r1} + var\_{r2}$
$R^2_M = \frac{var\_f}{total\_var}$
$R^2_C = \frac{var\_f\_r}{total\_var}$
$ICC_1 = \frac{var\_r1}{total\_var}$
$ICC_2 = \frac{var\_r2}{total\_var}$
é—®é¢˜ï¼š

æ‚¨èƒ½æŒ‡å‡ºæˆ‘çš„ç†è§£å¯èƒ½ä¸æ­£ç¡®çš„åœ°æ–¹å—ï¼Œå¹¶å‘Šè¯‰æˆ‘å¦‚ä½•æ­£ç¡®è®¡ç®—ï¼Ÿ
å¦‚æœæˆ‘ä»¬å°†å…¶æ›´æ”¹ä¸ºç©ºæ¨¡å‹mixedlm(&quot;SRL ~ 1&quot;, data=df, groups=df[&quot;Student_id&quot;], re_formula=&quot;~1&quot;, vc_formula={&quot;Subject&quot;: &quot;0 + C(Subject)&quot;})ã€‚æˆ‘ä»¬èƒ½ç”¨åŒæ ·çš„æ–¹å¼è¿›è¡Œè®¡ç®—å—ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ var_f ä¸º 0ï¼‰

æ„Ÿè°¢æ‚¨çš„å¸®åŠ©ï¼]]></description>
      <guid>https://stats.stackexchange.com/questions/653403/mixed-linear-model-r2-and-icc-calculation-using-python-statsmodels</guid>
      <pubDate>Tue, 27 Aug 2024 11:17:07 GMT</pubDate>
    </item>
    </channel>
</rss>