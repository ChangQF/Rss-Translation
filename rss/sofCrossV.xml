<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>最近的问题 - 交叉验证</title>
    <link>https://stats.stackexchange.com/questions</link>
    <description>来自 stats.stackexchange.com 的最新 30 条</description>
    <lastBuildDate>Wed, 28 Aug 2024 03:18:49 GMT</lastBuildDate>
    <item>
      <title>R 中使用多重插补数据集 (mids) 的线性混合模型 EMMEANS 为因子变量添加了级别</title>
      <link>https://stats.stackexchange.com/questions/653467/linear-mixed-model-emmeans-using-multiply-imputed-datasets-mids-in-r-adds-leve</link>
      <description><![CDATA[这是我第一次发帖；希望您能帮助我，并让我的问题清楚！我在论坛中搜索了很久，但找不到问题的详细答案。我正在使用多重插补数据集 (mids) 在 R 中运行混合线性模型，然后尝试使用 emmeans 包获取具有 p 值的 emmeans。
fit_BAIPsy1 &lt;- with(data = df.mids, exp = lme4::lmer(BAI_time ~ factor(Temps) + factor(Groupe) + factor(Psychotrope_T1) + T0_Age + factor(T0_Sexe) + factor(Temps)*factor(Groupe) + factor(Temps)*factor(Psychotrope_T1) + factor(Temps)*factor(Groupe)*factor(Psychotrope_T1) + ADIS_T0_Score_Dx_principale + (1| Subj)),reml=TRUE)
我使用 mice 包获取模型系数 + 相关统计数据没有任何问题summary(pool(fit_BAIPsy1))。一切看起来都很好。
我用我的 Large Mira 对象（使用之前的模型获得）运行了这个程序来获得我的 emmeans：
emmeans(fit_BAIpsy1，成对 ~ Groupe|Psychotrope_T1|Temps)
问题：虽然 Psychotrope_T1 是一个因子 (0, 1)，但 emmeans 给了我额外的级别 (0, 0.44, 0.48, 0.52, 0.54, [...], 1)。
这个变量是估算的，但我检查了我的 25 个估算数据集 (df.mids)，看不到这些值。我还检查了 Mira 模型元素中的 25 个单独帧，我看到的只有 0 和 1。混合线性模型输出仅给我 2 个级别。
我检查了 emmGrid，发现除了 Psychotrope_T1 和 Groupe 之外，我的网格中还添加了 .wgt。
我将其与另一个未估算的变量（Psychotrope_T0，这是我的基线值）进行了比较，我没有这个 .wgt。元素，emmeans 输出看起来很正常。
你能告诉我哪里出错了以及如何修复吗？我是 R 新手。]]></description>
      <guid>https://stats.stackexchange.com/questions/653467/linear-mixed-model-emmeans-using-multiply-imputed-datasets-mids-in-r-adds-leve</guid>
      <pubDate>Wed, 28 Aug 2024 02:51:25 GMT</pubDate>
    </item>
    <item>
      <title>解释 R 中逻辑回归的连续预测变量</title>
      <link>https://stats.stackexchange.com/questions/653466/interpreting-continuous-predictors-for-logistic-regression-in-r</link>
      <description><![CDATA[我将 GLM 拟合到我的数据集，但无法将系数解释为概率。通货膨胀变化的解释是否如下：通货膨胀变化增加 100% 会导致响应变量的可能性增加 99.9%？
]]></description>
      <guid>https://stats.stackexchange.com/questions/653466/interpreting-continuous-predictors-for-logistic-regression-in-r</guid>
      <pubDate>Wed, 28 Aug 2024 02:47:05 GMT</pubDate>
    </item>
    <item>
      <title>两个 AR(1) 过程之和的持久性</title>
      <link>https://stats.stackexchange.com/questions/653465/persistence-of-the-sum-of-two-ar1-processes</link>
      <description><![CDATA[考虑一个时间序列 $y_t$，它可以分解为两个组成部分的总和：
$$y_t = x_{1,t} + x_{2,t} $$
假设每个组成部分都是独立的，并遵循平稳 AR(1) 过程：
$$\begin{align*} 
x_{1,t} &amp;= \phi_1 x_{1,t-1} + \varepsilon_{1,t} \\
x_{2,t} &amp;= \phi_2 x_{2,t-1} + \varepsilon_{2,t} \\
\end{align*}$$
其中：
$$\begin{align*} 
\varepsilon_{1,t} &amp;\sim N \left (0,\sigma_1^2 \right ) \\
\varepsilon_{2,t} &amp;\sim N \left (0,\sigma_2^2 \right ) \\
\end{align*}$$
我使用模拟来生成一系列长序列 $X_1$、$X_2$ 以及它们的和 $Y$。然后，我估计 $y_t$ 的 AR(1) 模型
$$y_t = \phi_y y_{t-1} + \varepsilon_{y,t}$$
在我的模拟/估计中，我发现 $\phi_y$ 的估计值是 $\phi_1$ 和 $\phi_2$ 的加权平均值，其中每个成分的 $\phi_i$ 的权重由其无条件方差的比例决定。也就是说，我发现：
$$
\hat{\phi}_y \approx \left ( \frac{\frac{\sigma_1^2}{1-\phi_1^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_1 + \left ( \frac{\frac{\sigma_2^2}{1-\phi_2^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_2
$$
我知道Lütkepohl (1984)（虽然我还没有获得副本），据称证明了$y_t$遵循平稳 ARMA 过程。
是否有人知道以下任一证明（或能够推导出证明）：

$y_t$遵循 AR(1) 过程。
$\phi_y \equiv \left ( \frac{\frac{\sigma_1^2}{1-\phi_1^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_1 + \left ( \frac{\frac{\sigma_2^2}{1-\phi_2^2}}{\frac{\sigma_1^2}{1-\phi_1^2} +\frac{\sigma_2^2}{1-\phi_2^2}} \right ) \phi_2$

最后，有谁知道任何相关的证明涉及更一般的情况，当$\varepsilon_{1,t}$和$\varepsilon_{2,t}$ 是相关的吗？]]></description>
      <guid>https://stats.stackexchange.com/questions/653465/persistence-of-the-sum-of-two-ar1-processes</guid>
      <pubDate>Wed, 28 Aug 2024 02:09:13 GMT</pubDate>
    </item>
    <item>
      <title>如何计算交互项的风险比和 95％ 置信区间（使用 R）</title>
      <link>https://stats.stackexchange.com/questions/653462/how-to-calculate-the-risk-ratio-and-95-confidence-interval-of-an-interaction-te</link>
      <description><![CDATA[我的目标是计算交互项的风险比和 95% 置信区间。
例如，有两个变量 age 和 sex (y ~ age * sex)，我想分别计算男性和女性年龄增量的风险比和 95% 置信区间。
这是我使用 rms 包制作的一个例子。如果我的理解没有错的话，rms 包中的 summary.rms 可以很方便地通过 summary(f, age = ..., sex = &quot;Female/Male&quot;) 输出交互项的风险比。
年龄交互作用的效应可以计算为第一级（本例中为女性）coefage 的指数变换，coefage + coefage:Male 的指数变换（男性），如果还有其他级别，则 coefage + coefage:other。
至于标准误差，我在网上看到了以下计算公式：$\sqrt{\text{var}(b_1) + \text{var}(b_2) + 2\text{cov}(b_1,b_2)}$。
这个公式的结果和rms包的输出一致，但是好像有人指出这个公式没有依据（见这个）？
我的问题是，

我描述的计算方法和公式是否正确？

这个计算方法和公式是否适用于一般线性回归、逻辑回归和cox回归？（是通用方法吗？）

相互作用很常见。很多人会把数据按照分类变量分成几个子组，然后分别计算连续值的影响。但这种方法应该是错误的，对吧？应该在全样本中计算交互作用，然后按照上面的方法计算不同层次连续值的效应（有点跑题，想确认一下我的这个理解是否正确）。


require(survival)
require(rms)
n &lt;- 1000
set.seed(1)

sex &lt;- factor(sample(c(&#39;Male&#39;,&#39;Female&#39;), n, 
rep=TRUE, prob=c(.6, .4)))
age &lt;- 40 + 11*rnorm(n) + as.numeric(sex) *rnorm(n)
cens &lt;- 14*runif(n)
h &lt;- .12*exp(.04*(age-40)+.72*(sex==&#39;Female&#39;))
dt &lt;- -log(runif(n))/h
e &lt;- ifelse(dt &lt;= cens,1,0)
dt &lt;- pmin(dt, cens)
dd &lt;- datadist(age, sex)
options(datadist=&#39;dd&#39;)
S &lt;- Surv(dt,e)

f &lt;- cph(S ~ age * sex, x=TRUE, y=TRUE)
f
# 系数 S.E. Wald Z Pr(&gt;|Z|)
# 年龄 0.0273 0.0053 5.15 &lt;0.0001 
# 性别=男性 -1.4011 0.3025 -4.63 &lt;0.0001 
# 年龄 * 性别=男性 0.0174 0.0070 2.48 0.0130 

summary(f, 年龄 = c(40,41), 性别 = &quot;女性&quot;)

summary(f, 年龄 = c(40,41), 性别 = &quot;男性&quot;)
# 效应 响应：S 
# 
# 因素 低 高 差异 效应 S.E.下限 0.95 上限 0.95
# 年龄 40 41 1 0.04471 0.0046908 0.035516 0.053903 
# 风险比 40 41 1 1.04570 NA 1.036200 1.055400 
# 性别 - 女性:男性 2 1 NA 0.71319 0.0831390 0.550240 0.876140 
# 风险比 2 1 NA 2.04050 NA 1.733700 2.401600 

f$coefficients[1] + f$coefficients[3] 
# 0.04470962

v &lt;- vcov(f)
sqrt(v[&quot;年龄&quot;, &quot;年龄&quot;] + v[&quot;年龄 * 性别=男性&quot;, &quot;年龄 * 性别=男性&quot;] + 2*v[&quot;年龄&quot;, &quot;年龄 * 性别=男性&quot;])
# 0.004690838

]]></description>
      <guid>https://stats.stackexchange.com/questions/653462/how-to-calculate-the-risk-ratio-and-95-confidence-interval-of-an-interaction-te</guid>
      <pubDate>Wed, 28 Aug 2024 01:27:09 GMT</pubDate>
    </item>
    <item>
      <title>我需要做些什么来改进我的回归模型</title>
      <link>https://stats.stackexchange.com/questions/653461/what-i-have-to-do-more-to-improve-my-regression-model-in-r</link>
      <description><![CDATA[我想制作饮料销售预测模型。我正在做回归分析。所有列类型都是整数。数据的维度是 15375 行 x 400 列。因变量 $y$ 是饮料销售比例。
数据如下。

经过向后消除和改变$y$以符合正则化假设后，我使用了这个模型。
reg&lt;-lm(I(log(y+1)^0.4650181) ~ x1 + I(x2^2) + I(x3^2) + x4 + I(x5^2)...x17 ,data = train)

我认为回归模型可以改进，但我不知道我还能做些什么。看到 plot(reg) 输出后，请给我一些建议。

我已经对 $y$ 进行了对数变换和平方根变换。]]></description>
      <guid>https://stats.stackexchange.com/questions/653461/what-i-have-to-do-more-to-improve-my-regression-model-in-r</guid>
      <pubDate>Wed, 28 Aug 2024 01:24:32 GMT</pubDate>
    </item>
    <item>
      <title>稀疏的 RBF 核一定是 PSD 吗？</title>
      <link>https://stats.stackexchange.com/questions/653458/is-sparse-rbf-kernel-necessarily-psd</link>
      <description><![CDATA[我们知道 RBF 核是 PSD，现在，假设不是计算 $\exp\frac{|x_i-x_j|^2}{\sigma^2}$所有对，而是只计算相似的数据点，以实现稀疏核矩阵。
假设我正在做这样的事情：
$K(i,j)=
\begin{cases}
\exp\frac{|x_i-x_j|^2}{\sigma^2}&amp;\text{if}\, |x_i-x_j|\leq c_0\\
0&amp;\text{otherwise}
\end{cases}$
这样我就可以得到一个稀疏的$K$ 对于固定阈值 $c_0$，问题是 $K$ 在这种情况下是否一定是多余的？我的代码实验表明并非如此，但我不确定这是因为我的代码中有错误还是这只是理论上的问题。如果它仍然是 PSD，你能给我展示一个代码片段吗？]]></description>
      <guid>https://stats.stackexchange.com/questions/653458/is-sparse-rbf-kernel-necessarily-psd</guid>
      <pubDate>Wed, 28 Aug 2024 00:33:57 GMT</pubDate>
    </item>
    <item>
      <title>在 Metropolis-Hastings 算法的这种特殊情况下应该使用哪个提议函数？</title>
      <link>https://stats.stackexchange.com/questions/653457/which-proposal-function-should-be-used-in-this-particular-case-of-the-metropolis</link>
      <description><![CDATA[作为我研究的一部分，我想应用 Metropolis-Hastings 来从某些后验分布中抽样。更准确地说，数据来自存在审查制度的多元正态分布，而先验具有正态-逆威沙特分布（协方差矩阵具有逆威沙特分布，而以协方差矩阵为条件的均值具有正态分布）。Metropolis-Hastings 算法的一个可能的提议分布是使用先验分布本身，因为从中抽样很容易。然而，接受率通常很低，算法发展得相当慢。话虽如此，我想知道是否有人可以就这个问题为我提供一些指导，也就是说，我有兴趣知道先验分布的选择是否可接受，以及是否存在另一种更有效的提议分布。
任何帮助都值得赞赏。]]></description>
      <guid>https://stats.stackexchange.com/questions/653457/which-proposal-function-should-be-used-in-this-particular-case-of-the-metropolis</guid>
      <pubDate>Tue, 27 Aug 2024 23:45:06 GMT</pubDate>
    </item>
    <item>
      <title>在多级模式下设置 3 级预测变量</title>
      <link>https://stats.stackexchange.com/questions/653456/setting-predictor-variables-with-3-levels-in-multilevel-mode</link>
      <description><![CDATA[我正在使用随机截距多级建模。
我想根据调查数据预测总体健康状况。调查使用三个级别的嵌套数据集：个人、县和州。
我正在使用所有三个级别的预测变量。我想确保让模型知道每个变量的级别
age 和 diet 是个人级别
altitude 是县级
pol.party 和 minimum.wage 是州级
这是我的基线模型：
model1 &lt;- lmer(health.outcome ~ 1 + age + diet + elevation + pol.party + minimum.wage +
(altitude|state:county) +
(altitude + pol.party + minimum.wage|state),
REML=FALSE,
data = df)
]]></description>
      <guid>https://stats.stackexchange.com/questions/653456/setting-predictor-variables-with-3-levels-in-multilevel-mode</guid>
      <pubDate>Tue, 27 Aug 2024 23:37:45 GMT</pubDate>
    </item>
    <item>
      <title>如何对 R^2 中两条不平行的线进行双变量高斯条件分析？</title>
      <link>https://stats.stackexchange.com/questions/653455/how-to-condition-a-bivariate-gaussian-on-two-lines-in-r2-that-are-not-parallel</link>
      <description><![CDATA[如何对 $\mathbb{R}^2$ 中两条不平行/相交的线 $\{(x,y):a_1x+b_1y+c_1=0\}\cup\{(x,y):a_2x+b_2y+c_2=0\}$ 上的均值为 $\mu$ 和 $\Sigma$（例如 $\sigma=\sigma^2I$）的双变量高斯进行条件化？]]></description>
      <guid>https://stats.stackexchange.com/questions/653455/how-to-condition-a-bivariate-gaussian-on-two-lines-in-r2-that-are-not-parallel</guid>
      <pubDate>Tue, 27 Aug 2024 23:31:11 GMT</pubDate>
    </item>
    <item>
      <title>在复杂抽样下，效应大小通常如何定义？</title>
      <link>https://stats.stackexchange.com/questions/653452/how-are-effect-sizes-typically-defined-under-complex-sampling</link>
      <description><![CDATA[在某些领域，引用标准化效应大小的比较是很常见的。例如，均值差异通过样本标准差进行缩放以得出效应大小。
这进而导致计算公式从其他输入中提取标准差，例如，$t$统计量乘以其自由度的平方根大约等于缩放后的均值差异。这些计算公式在复杂抽样下无效：均值的标准误差与标准差之间的关系更为复杂。即使是“均值差除以标准差”这一简单定义，也会引发一个问题：哪个标准差——估计的总体标准差？
那么，问题是：是否存在标准的、广泛使用的标准化效应大小公式，可以解释复杂抽样？
[我并不真正关心标准化效应大小是好是坏，甚至不关心在复杂抽样下如何最好地计算它们——我只是试图找出现有的标准]]]></description>
      <guid>https://stats.stackexchange.com/questions/653452/how-are-effect-sizes-typically-defined-under-complex-sampling</guid>
      <pubDate>Tue, 27 Aug 2024 23:09:45 GMT</pubDate>
    </item>
    <item>
      <title>如何计算两个成功率的 p 值，其中一个测试集是另一个测试集的子集？</title>
      <link>https://stats.stackexchange.com/questions/653468/how-do-i-calculate-the-p-value-for-two-success-rates-where-one-of-the-test-sets</link>
      <description><![CDATA[我知道这样的问题已经被问了一百次，但不幸的是，我不够聪明，无法找出哪个答案适用于我的问题。
背景：我有一个图像分类模型，在测试集上的准确率为 95.89%。现在，不幸的是，在训练期间已经看到了一些测试集。我想知道的是模型是否从中受益，从而使结果具有误导性。我为测试这一点所做的是创建一个测试集的子集，其中只有模型从未见过的图像，因此是一个未受污染的测试集。在该子集上，该模型的准确率为 95.32%，因此正如预期的那样，模型的表现更差，但我不知道这是否与污染有关，或者子集是否只是运气不好。所以我认为我的零假设是污染对模型的性能没有影响。现在我必须弄清楚该大小的随机子集执行该操作的概率有多高。我当然有集合大小，可以提供它们，但老实说，我只是想要一些关于我的场景叫什么以及有哪些方法的指针。我可以自己做计算。
我发现了一个所谓的 R 测试，听起来有点像我想要的，但我不确定，因为这两个数据集并不相互独立。一个包含另一个的全部。
我还训练了三个架构等效的模型（这是机器学习中可重复性的良好做法），所以我实际上对每个集合都有三个非常相似的准确度，并且可以为每个集合近似一个标准差，但我不知道是否以及如何编织它。
正如我所说 - 我对寻找的正确术语或链接感到满意，其余的我可以自己弄清楚。
感谢阅读！]]></description>
      <guid>https://stats.stackexchange.com/questions/653468/how-do-i-calculate-the-p-value-for-two-success-rates-where-one-of-the-test-sets</guid>
      <pubDate>Tue, 27 Aug 2024 21:16:49 GMT</pubDate>
    </item>
    <item>
      <title>当结果不是分类时，校准意味着什么？</title>
      <link>https://stats.stackexchange.com/questions/653444/what-does-calibration-mean-when-the-outcome-is-not-categorical</link>
      <description><![CDATA[在对二元变量感兴趣并且我们想要预测任一事件（例如，狗与猫）的概率的情况下，如果预测的概率值与事件发生的现实相符，通常会讨论预测的校准。毕竟，如果我们继续预测事件发生的概率为$0.9$，那么只有$60\%$的情况下，我们的预测才会受到现实的质疑。
在涉及三个或更多类别（例如，狗、猫和马）的情况下，我们可以应用类似的逻辑。如果我们一直以 $0.9$ 的概率预测一只狗，而其中 $60\%$ 的情况中，结果却是一只狗，那么我们的预测就与现实不符了。
这是针对分类结果而言的。当结果不是分类的而是连续的时，概括或类比是什么？我们如何评估校准和误校准？连续随机变量对所有值都具有零概率。]]></description>
      <guid>https://stats.stackexchange.com/questions/653444/what-does-calibration-mean-when-the-outcome-is-not-categorical</guid>
      <pubDate>Tue, 27 Aug 2024 20:54:36 GMT</pubDate>
    </item>
    <item>
      <title>当预测风险低于观察风险时，如何使用和解释 R 中的 glmer() 的结果</title>
      <link>https://stats.stackexchange.com/questions/653420/how-to-use-and-interpret-results-from-glmer-in-r-when-the-predicted-risks-are</link>
      <description><![CDATA[我之前在 stack overflow 上问过这个问题，但被重定向到这里。
我有一个患者数据框，其中标记了癌症结果，还有其他变量用作协变量（其中大约 20 个）。数据框由多个队列组成，这些队列在单个列中用数字标记以指示队列成员身份。



患者 ID
癌症
年龄
性别
吸烟状况
体重指数猫
群组




00001
0
56
1
2
1
1


00002
0
54
1
1
2
1


00003
0
70
2
1
2



等
至允许与年龄进行不同的交互，我有一个热编码的队列变量，就像在单队列模型中一样，发现有些变量与年龄有交互作用。
我的模型形式如下：
glmer(cancer~ns(age_idate,df=3)+ns(age_idate,df=3):(cohort_6,cohort_4,cohort_9)+cohort_6+cohort_4+cohort_1+cohort_2+sex+bmi_cat+smoking_status+fatigue...etc.
+(1|patid),
family=binomial,
data=model_data,
nAGQ=0,
control=glmerControl(calc.derivs=FALSE)

当我使用 predict() 获取原始 model_data 中的癌症预测风险时，我根据我的个人模型和临床知识的结果实现了合理的预测。
但是，我需要针对每个队列在每个年龄（30-100）和性别（男性、女性）组合中获取预测风险，而不是在单个患者层面获取预测风险。
我创建了一个包含所有年龄和性别组合的数据框，然后将所有其他变量附加到它们的基值（即 2 级因子中的 0），除了我感兴趣的队列，我将其设置为 1。



年龄
性别
吸烟状况
bmi_cat
群组 1
群组 2




30
1
0
0
1
0


31
1
0
0
1
0


32
1
0
0
1
0



等等
我用来预测的代码是：
model_pred_cohort_1 &lt;- 
marginaleffects::predictions(
model=mixed_effects_mod,
newdata=grouped_data,
re.form=NA,
type=&#39;response&#39;
)

当我对这个数据框进行预测时，每个年龄段的预测风险都比预期的要低得多。我还尝试添加具有不同随机值的 patid 变量，因为我不确定是否需要这样做，但似乎没有任何区别。
我的问题是：这是此模型类型的正确用法吗？我的模型输出的风险比观察到的风险低得多，这有什么原因吗？
如果我只是查看我的 model_data，按特定群组进行过滤，并查看患有癌症的患者与未患癌症的患者的比例，它会给出比相同预测值组合更高的值，但仅限于预测每个特定年龄和性别组合时，而不是在我只是获得人群中每个患者的预测风险时。
有人向我指出了有关 emmeans() 函数的文档，但不确定如何将其应用于我的用例。这能解决我的低预测值问题吗？
如果问题不清楚或需要更多信息，请见谅。]]></description>
      <guid>https://stats.stackexchange.com/questions/653420/how-to-use-and-interpret-results-from-glmer-in-r-when-the-predicted-risks-are</guid>
      <pubDate>Tue, 27 Aug 2024 14:47:34 GMT</pubDate>
    </item>
    <item>
      <title>使用 Python statsmodels 计算混合线性模型 R2 和 ICC</title>
      <link>https://stats.stackexchange.com/questions/653403/mixed-linear-model-r2-and-icc-calculation-using-python-statsmodels</link>
      <description><![CDATA[我对混合线性模型还不熟悉。我建立了一个模型，该模型具有两个随机效应（Student_id 和 Subject）和一个固定效应（MAI），预测变量为 SRL。
model = combinedlm(&quot;SRL ~ MAI&quot;, data=df, groups=df[&quot;Student_id&quot;], re_formula=&quot;~1&quot;, vc_formula={&quot;Subject&quot;: &quot;0 + C(Subject)&quot;})
result = model.fit()

我想分解方差，以计算每个效应解释的方差量。即：

边际$R^2$（即$R^2_M$，方差由固定效应解释）
条件$R^2$（即$R^2_C$方差由固定+随机效应解释）
Student_id 的 ICC（即$ICC_1$，随机效应的一部分）
Subject 的 ICC（即$ICC_2$，随机效应的一部分）

在研究和查看这个问题，我发现以下五个计算是相关的：
var_f_r = result.fittedvalues.var() # 固定和随机效应方差？0.26061471675794606
var_f = result.predict(result_df).var() # 固定效应？ 0.11
var_e = result.scale # 残差方差，0.09
var_r1 = result.cov_re.iloc[0, 0] # Student_id 的随机效应，0.129
var_r2 = result.vcomp[0] # Subject 的随机效应，0.079

我会做这样的事情，但似乎不正确：
$total\_var = var\_f + var\_e + var\_{r1} + var\_{r2}$
$R^2_M = \frac{var\_f}{total\_var}$
$R^2_C = \frac{var\_f\_r}{total\_var}$
$ICC_1 = \frac{var\_r1}{total\_var}$
$ICC_2 = \frac{var\_r2}{total\_var}$
问题：

您能指出我的理解可能不正确的地方吗，并告诉我如何正确计算？
如果我们将其更改为空模型mixedlm(&quot;SRL ~ 1&quot;, data=df, groups=df[&quot;Student_id&quot;], re_formula=&quot;~1&quot;, vc_formula={&quot;Subject&quot;: &quot;0 + C(Subject)&quot;})。我们能用同样的方式进行计算吗（在这种情况下 var_f 为 0）

感谢您的帮助！]]></description>
      <guid>https://stats.stackexchange.com/questions/653403/mixed-linear-model-r2-and-icc-calculation-using-python-statsmodels</guid>
      <pubDate>Tue, 27 Aug 2024 11:17:07 GMT</pubDate>
    </item>
    <item>
      <title>如何用两个或多个“组件”来建模不连续的时间序列？</title>
      <link>https://stats.stackexchange.com/questions/653380/how-to-model-a-discontinuous-time-series-with-two-or-more-components</link>
      <description><![CDATA[假设一个时间序列显然有两个或多个“分量”，例如一个“零”分量和另一个看起来像连续序列的分量。示例：

假设我们找不到可以解释为什么它下降到零、停留在那里然后反弹的协变量，所以我们只能使用这个序列。我推测传统的线性模型（ARIMA、指数平滑）不适用于此。您会推荐哪种方法（最好有 R 或 Python 包）来进行预测？]]></description>
      <guid>https://stats.stackexchange.com/questions/653380/how-to-model-a-discontinuous-time-series-with-two-or-more-components</guid>
      <pubDate>Tue, 27 Aug 2024 04:53:53 GMT</pubDate>
    </item>
    </channel>
</rss>