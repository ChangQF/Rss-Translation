<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>最近的问题 - 交叉验证</title>
    <link>https://stats.stackexchange.com/questions</link>
    <description>最近 30 个来自 stats.stackexchange.com</description>
    <lastBuildDate>Sat, 02 Dec 2023 03:14:26 GMT</lastBuildDate>
    <item>
      <title>随机接纳人们进入夜总会时，群体凝聚力的概率是多少？</title>
      <link>https://stats.stackexchange.com/questions/632863/what-is-the-probability-of-group-cohesion-while-admitting-people-into-a-nightclu</link>
      <description><![CDATA[俱乐部外规模$N$的人群由$N/G$组成一群朋友，为了争论，例如$G = 5$。
这是一个虚构的设置…夜总会之外的团体通常大小不同…但请忽略这一点并假设所有团体的大小相同：即 $G$。 
保镖随机选择人们进入夜总会，不考虑群体凝聚力。
在接纳人群中的 $n$ 个人后，保镖停止接纳人员。
在俱乐部内，各小组重新集合。完全被接纳的团体被称为具有“高凝聚力”，而没有被接纳的团体被称为具有“无凝聚力”。我将现在在夜总会内的团体的残余部分称为“残余团体”。与一开始大小均匀的群体不同，在夜总会内部，这些残余群体的大小会有所不同。
给定变量$N, G, n$，夜总会内剩余群体规模的分布是什么？
我已经尝试过的
我通常不使用这种统计数据，所以我首先尝试通过查看一个更简单的问题来调查上述问题：大小的组 $G = 2$&lt; /跨度&gt;。在这种情况下，多项式公式就派上用场了：
$\frac{2^{n-2K}\frac{N}{2}！ }{(n-2K)!克！ (\frac{N}{2}-n+K)!}$
但是，在处理比夫妻更大的团体时，我不知道如何概括上述内容。
任何帮助将不胜感激。
我收到了上述想法来自另一个问题（链接）下的答案。]]></description>
      <guid>https://stats.stackexchange.com/questions/632863/what-is-the-probability-of-group-cohesion-while-admitting-people-into-a-nightclu</guid>
      <pubDate>Sat, 02 Dec 2023 02:22:54 GMT</pubDate>
    </item>
    <item>
      <title>当步长太小时，延迟非线性最小二乘优化中“中断”的方法？</title>
      <link>https://stats.stackexchange.com/questions/632862/methods-for-delaying-the-break-in-non-linear-least-squares-optimisation-when-t</link>
      <description><![CDATA[我使用 Levenberg-Marquardt 方法进行校准。通常，我的校准的 RMSE 如下所示：

当算法逐步更新开始减慢时，即 RMSE 平坦于 $\approx 150$ 时，我想打破算法。但问题是从 $\approx 1$ 到 $5$ 开始，增量步骤也有很大小，然后速度加快。因此，当步骤为小也会在开始时破坏校准。是否有一个类似于 $\lVert\frac{\Delta \theta_{t+t}}{\theta_t}\rVert &lt;\epsilon$ 如果迭代的稳健方法, $I &gt;n$。但是 $n$ 必须针对每个不同的校准进行更改，因为校准收敛 $\approx 150 并不是什么大问题$.]]></description>
      <guid>https://stats.stackexchange.com/questions/632862/methods-for-delaying-the-break-in-non-linear-least-squares-optimisation-when-t</guid>
      <pubDate>Sat, 02 Dec 2023 01:12:52 GMT</pubDate>
    </item>
    <item>
      <title>贷款数据：桶回收一维数组</title>
      <link>https://stats.stackexchange.com/questions/632861/loan-data-bucket-recoveries-1-d-array</link>
      <description><![CDATA[一些背景：当有人拖欠贷款时，我们会以风险敞口（贷款金额）的百分比来跟踪追偿金额，我们有有限的时间 T（合法）来收取追偿金额，这些追偿金额会随着时间的推移而累积，通常它们只会上升，但有时在某些特定情况下也会下降。尽管存在异常值，但回收率应在 0 到 1 之间。
使用已结案件的历史数据（这意味着我们已经过了有限时间 T，我的任务是获得称为因子的估计，这些因子的计算如下：

然后，我们计算我们拥有的每个案例（贷款）的这些因素，并对它们进行平均，我们使用它们通过以下公式推断回收率：


第二个公式为我们提供了一种根据 t 时的回收率和计算出的平均系数推断 T 时的回收率的方法，我们使用此公式来推断未决案件在 T 时的回收率（我们仍处于法律程序中，因此我们仍然期望恢复）。
我的问题：如果回收率下降（这种情况经常发生），并且 t 时的回收率接近 1，我们会得到一个非常高的因子值，这会扭曲平均值并导致 T 时的回收率出现荒谬的值。
我在下面的 XL 屏幕截图中说明了该问题。下表包含没有任何意义的推断值。

当然，这只是一个例子，我还有很多数据需要处理，但我被迫采用这种方法，如果它不起作用，我必须找到一种方法来在计算恢复之前对我的恢复进行存储。平均乘数以获得更真实的推断值。
一种幼稚的方法是在“高”和“高”之间进行划分。和“低”回收率，高于和低于我们所有贷款的平均回收率，并用不同的平均因子分别对待这些组，进行 t 检验以检查组之间的均值是否在统计上存在显着差异并与之配合，但事实并非如此粒度不够，所以你必须继续分裂，对我来说这确实有点武断。
我尝试了 K 方法，但最终得到了只有一个观察值（离群值）的簇，这是有道理的，因为我使用的是平方欧几里得距离，而且我的数据是脏的，我不允许对其执行任何操作。如果我要通过“眼睛”来做到这一点，我会将接近 1 的值放入特定的存储桶中（但我应该在哪里切割它？），将接近 0 的值放入特定的存储桶中，以及介于两者之间的值在第三个中。但我再次猜测这一点。]]></description>
      <guid>https://stats.stackexchange.com/questions/632861/loan-data-bucket-recoveries-1-d-array</guid>
      <pubDate>Sat, 02 Dec 2023 01:01:39 GMT</pubDate>
    </item>
    <item>
      <title>如何通过连续参数限制对多参数分布进行有效的测试简化？</title>
      <link>https://stats.stackexchange.com/questions/632858/how-can-i-do-valid-tests-simplification-of-a-many-parameter-distribution-by-cons</link>
      <description><![CDATA[假设我有一个数据集，我认为该数据集被很好地描述为从特定的四参数或五参数分布（例如 Amaroso 或 GB2）中提取。对于某些参数值（最常见的是零或一），可以使其中一些参数消失。在我感兴趣的情况下，有几个 3 或 4 参数分布可以通过这种限制产生，这些分布具有足够的兴趣并被分配了自己的名称，以及大量的 2 或 3 参数分布可以通过两个这样的限制来产生。
我想测试数据是否接受这些子分布产生的限制。虽然我对每个分布有几个不同的参数估计器，有限制的和无限制的，例如 MLE、GMM 和最大熵估计器（每个分布都有这些估计器），但我不确定测试每个限制的良好统计量是什么。我可以对每个限制使用一个检验，还是需要在每种参数估计方法下使用不同的检验统计量进行假设检验？此外，我倾向于测试无限制分布的一个限制，如果接受该限制，则在受限模型下测试第二个限制。但我不确定当测试都使用单个数据集时这是否正确。我还想知道第二个测试是否需要以某种方式进行调整以适应顺序测试。]]></description>
      <guid>https://stats.stackexchange.com/questions/632858/how-can-i-do-valid-tests-simplification-of-a-many-parameter-distribution-by-cons</guid>
      <pubDate>Fri, 01 Dec 2023 23:48:41 GMT</pubDate>
    </item>
    <item>
      <title>如果一项研究检测到的效应大小明显低于其预测的效应大小，是否可以认为该研究的有效性不足？</title>
      <link>https://stats.stackexchange.com/questions/632857/could-a-study-be-considered-to-be-underpowered-if-the-effect-size-they-detect-is</link>
      <description><![CDATA[我正在评估一篇论文，该论文的作者声称他们招募了 3000 名患者，因为功效计算表明，这是在 85% 功效下检测到 5% 差异所必需的。
他们实际上只发现了 2% (0.2-5.6) 的效应大小，但计算出这在统计上是显着的 (p=0.045)。
我想知道，如果他们开始寻找 2% 的差异，他们将需要远远超过 3000 名患者，这将使这项 3000 名患者的研究动力不足（这可能是一个错误的假设，请纠正我）。我很欣赏动力不足的研究仍然可以发现统计上显着的影响，但影响的大小被夸大和 p 值被人为地降低的风险更大（这可能发生在我的论文中吗？）。这是一个无效的思路吗，因为 95% CI 包含了预测的 5% 差异？
我知道功效是在招募患者的研究之前计算的，因此进行事后功效分析是无效的。我是从“这项研究实际上存在动力不足的风险”的立场出发的，而不是“这项研究动力不足，我可以证明这一点”的立场。
我也不确定这是否会成为一个促成问题，但我认为作者通过使用稳健标准误差和 Huber-White 估计量表明他们拥有异方差数据。我由此推断，簇间变异性高于簇内变异性。由此可见，簇内相关系数方程表明p较高，这将减少论文的有效样本量，进一步有助于定性评估本研究存在动力不足的风险。
我是不是离题太远了？我是一名护理人员而不是统计学家，所以如果有人可以详细解释但用通俗的术语进行总结，我将不胜感激。谢谢。]]></description>
      <guid>https://stats.stackexchange.com/questions/632857/could-a-study-be-considered-to-be-underpowered-if-the-effect-size-they-detect-is</guid>
      <pubDate>Fri, 01 Dec 2023 23:39:16 GMT</pubDate>
    </item>
    <item>
      <title>怀孕期间换药</title>
      <link>https://stats.stackexchange.com/questions/632854/medication-switching-in-pregnancy</link>
      <description><![CDATA[我的研究设计旨在回答以下问题：将孕前用药改为孕期用药有哪些潜在风险
(1) 从药物 A 换为药物 B 的个体；
(2) 从药物 B 转为药物 A 的个体；
(3) 妊娠前至妊娠后停止用药者；和
(4) 从怀孕前到怀孕后根本没有换药的人。
我正在努力巩固研究设计，因为对于非转换者，如果我们在某个时间窗口内（即妊娠 19 周后）进行随访，从技术上讲，结果（即住院/产妇并发症）可以发生在后续开始之前，并且在“切换”之后立即发生。
我最初有一个队列/倾向评分设计，但我想知道类似嵌套病例对照之类的东西是否是更好的选择（或其他研究设计），以避免诸如不朽的时间偏差/等问题。]]></description>
      <guid>https://stats.stackexchange.com/questions/632854/medication-switching-in-pregnancy</guid>
      <pubDate>Fri, 01 Dec 2023 22:29:34 GMT</pubDate>
    </item>
    <item>
      <title>检测到多个聚类变量并使用 lme4 计算稳健的标准误差</title>
      <link>https://stats.stackexchange.com/questions/632853/multiple-cluster-variables-detected-and-computing-robust-standard-errors-with-lm</link>
      <description><![CDATA[]]></description>
      <guid>https://stats.stackexchange.com/questions/632853/multiple-cluster-variables-detected-and-computing-robust-standard-errors-with-lm</guid>
      <pubDate>Fri, 01 Dec 2023 22:15:17 GMT</pubDate>
    </item>
    <item>
      <title>“参考”连续变量/完全多重共线性且总和为 1 的变量</title>
      <link>https://stats.stackexchange.com/questions/632851/reference-continuous-variable-variables-that-are-perfectly-multicolinear-and</link>
      <description><![CDATA[我正在进行一项生态研究，以城市数据为样本。在这个数据中，我有一个包含居住在某个类别中的个人比例的垃圾箱，例如，天主教徒的百分比，新教徒的百分比，老年人、儿童和所有年龄段的 5 岁垃圾箱的百分比，女性的百分比，等等，以及其他一些连续变量，例如人口、工资。我的因变量是市级医疗保健指标，并且认为引用的人口变量都可能与该指标有因果关系。
在我的线性回归中，我应该如何考虑那些总和为 100% 的连续变量（因此是完美的多重共线性）？删除其中一项是否正确（例如，具有大学学位的人员比例，同时保留具有高中学历的人员比例，以及具有初中学位或根本没有学位的人员比例），有点类似于所做的事情通过删除一个变量并将其称为参考变量来转换为虚拟变量？如果上述确实正确，我该如何解释模型？]]></description>
      <guid>https://stats.stackexchange.com/questions/632851/reference-continuous-variable-variables-that-are-perfectly-multicolinear-and</guid>
      <pubDate>Fri, 01 Dec 2023 22:07:40 GMT</pubDate>
    </item>
    <item>
      <title>3年随访后的逻辑回归，成功者可以留下样本</title>
      <link>https://stats.stackexchange.com/questions/632848/logistic-regression-after-a-3-year-follow-up-where-successful-people-can-leave-t</link>
      <description><![CDATA[我有数据跟踪参与干预项目的年轻人（12-16 岁）的结果。 2016年，我们对当年加入该项目的所有年轻人进行了数据采集。其中包括各个年龄段的儿童。在 3 年的随访中，我们记录了退出该项目的人员。我想运行逻辑回归来衡量哪些变量可以预测年轻人退出项目的概率。
那些退学的人被编码为 1，表示失败。
任何仍在研究中的人都被编码为 0（成功）。这些案例在技术上都经过了正确的审查。
然而，在16岁时，人们必须离开该项目，但这被称为成功的结果，因为他们在中学期间就留在了该计划中。这些人被称为“毕业生”。这些人可能在 3 年随访之前（例如 2017 年）就已经年满 16 岁。
我的问题是，我是否可以将毕业生编码为 0，因为他们不被视为失败的结果？我的假设只是为了测试失败发生的概率。
或者使用多项式回归，将毕业生编码为 2 会更合适吗？如果可能的话，我更愿意使用逻辑回归来使我的模型尽可能简单。
为了获得更多背景信息，我正在运行此分析以及竞争风险回归 (CRR)（生存分析）。
CRR 的动机是确定导致个人更快退出的变量。逻辑回归将定义哪些变量最能预测退出。
预先感谢您的帮助！]]></description>
      <guid>https://stats.stackexchange.com/questions/632848/logistic-regression-after-a-3-year-follow-up-where-successful-people-can-leave-t</guid>
      <pubDate>Fri, 01 Dec 2023 21:46:58 GMT</pubDate>
    </item>
    <item>
      <title>变形金刚：推理模式下的交叉注意力张量形状</title>
      <link>https://stats.stackexchange.com/questions/632847/transformers-cross-attention-tensor-shapes-during-inference-mode</link>
      <description><![CDATA[使用“经典” “注意力就是你所需要的”中描述的变压器模型，我正在努力理解解码器在推理模式下交叉注意力期间如何使用编码器输出，特别是实际的矩阵乘法是如何发生的。
在训练模式下，一切对我来说都很有意义：

编码器输出形状为 (B,T,C) 的张量，其中 B = batch_size、T = max_tokens、C = d_model = 嵌入维度大小。
它被传递到解码器并通过缩放点积机制更改为形状 (B,T,T)（将调用此张量 A）
A 乘以解码器的 value 形状 (B,T,HS) 张量，其中 HS = 深度 = 头部尺寸。这种乘法是可能的，因为张量的形状符合 (B,T,T) @ (B,T,HS) --&gt; （B、T、HS）。

但在推理模式中，我们从 Decoder value 张量开始，该张量的标记长度仅为 1，因此张量形状为(1,1,HS)，其中 T != 1，然后从那里展开序列。
那么，在编码器的交叉注意力步骤中，形状为 (1,T,T) 的 A 如何与 ( 相乘1,1,HS)?
显然，我在这里遗漏了一些非常重要的东西，因此我们将不胜感激！]]></description>
      <guid>https://stats.stackexchange.com/questions/632847/transformers-cross-attention-tensor-shapes-during-inference-mode</guid>
      <pubDate>Fri, 01 Dec 2023 21:33:27 GMT</pubDate>
    </item>
    <item>
      <title>当一般 LMM 的残差不正常并且无法构建广义 LMM 时该怎么办，什么时候它太不正常了？</title>
      <link>https://stats.stackexchange.com/questions/632844/what-to-do-when-the-residuals-of-a-general-lmm-are-non-normal-and-a-generlized-l</link>
      <description><![CDATA[我一直没能构建一个通用的 LMM。残差不是正态分布的，它们在一定程度上遵循尖峰分布，并且还存在同方差性。使用因变量的对数变换修复了同方差性，但 QQ 图上的长尾仍然存在：

显而易见的解决方案是，将具有伽马分布的广义 LMM 拟合到相同的数据会导致收敛失败。将模型的复杂性降低到只有 2 个固定效应和 1 个随机效应并不能解决收敛问题。我尝试过使用不同的优化器，使用通用 LLM 的起始参数并将迭代次数增加到 10000，但没有成功。
start_values &lt;- getME(model1, “theta”)
control_params &lt;- glmerControl(optimizer = &quot;bobyqa&quot;, tol = 1e-5, optCtrl = list(maxfun = 10000))

gmodel1 &lt;- glmer(值 ~ 治疗 + 阶段 + (治疗|人),
                数据=数据_全部，
                family = Gamma(link = &quot;log&quot;),
                开始=开始值，
                控制=控制参数）

我还尝试使用 Heavy 包中的 HeavyLme 函数。它可以工作，但我不太确定是否应该使用它，因为它似乎不太受欢迎，该软件包已从 CRAN 存储库中删除。但至少QQ图看起来很整洁。

我的问题是，残差何时会过于非正态分布而导致模型无效。一般来说，如果您有任何关于该怎么做的提示。任何意见将不胜感激。]]></description>
      <guid>https://stats.stackexchange.com/questions/632844/what-to-do-when-the-residuals-of-a-general-lmm-are-non-normal-and-a-generlized-l</guid>
      <pubDate>Fri, 01 Dec 2023 21:08:52 GMT</pubDate>
    </item>
    <item>
      <title>误导性的 ADF 结果</title>
      <link>https://stats.stackexchange.com/questions/632838/missleading-adf-results</link>
      <description><![CDATA[我正在尝试使用 adfuller 测试来确定以下时间序列是否均值回归（平稳）

从图表中我们可以看到，它显然（至少在我的非专家眼中）是非平稳的，甚至趋势也不是平稳的。但是，以下是 adfuller 测试的结果：
adfuller(x=系列、回归=&#39;c&#39;、autolag=&#39;AIC&#39;)
&lt;前&gt;&lt;代码&gt;(-2.861823362791237,
 0.049970939795951415,
 0,
 123、
 {&#39;1%&#39;: -3.4846672514209773,
  ‘5%’: -2.8853397507076006,
  &#39;10%&#39;: -2.5794629869786503},
 474.99227678339616)

我的一个观察结果是，它运行 adf 测试的延迟为 0。所以我假设它基本上运行的是普通的 Dickey-Fuller 测试，而不是它的增强版本。不管怎样，我不知道迪基-富勒测试如何得出这是一个平稳序列的结论。
以下也是基础回归的结果：
2：
有人可以解释一下这是怎么可能的吗？
顺便说一句，如果我对时间序列进行切片以仅包含索引 80 之前的所有内容，则 adfuller 的结果如下：
&lt;前&gt;&lt;代码&gt;(-1.3640306149972252，
 0.5993937238755126,
 0,
 83、
 {&#39;1%&#39;: -3.5117123057187376,
  ‘5%’: -2.8970475206326833,
  &#39;10%&#39;: -2.5857126912469153},
 292.00388101290173)

因此，索引 80 之后的点似乎是通过使检验统计量足够低而使其显着而扰乱 adf 检验的点。我说得对吗，这是问题的原因？如果是，是否有更好的均值回归测试可以得出结论，像我的问题中的系列不是均值回归？
最后一件事，作为解决方法，我决定使用 Savitzky–Golay 过滤器来平滑该系列。这似乎做得很好，但我不确定这是否是正确的方法。对此有何建议？]]></description>
      <guid>https://stats.stackexchange.com/questions/632838/missleading-adf-results</guid>
      <pubDate>Fri, 01 Dec 2023 20:43:25 GMT</pubDate>
    </item>
    <item>
      <title>具有平方可和系数的截断和后续 MA($\infty$) 过程的收敛性</title>
      <link>https://stats.stackexchange.com/questions/632827/convergence-of-truncated-and-subsequenced-ma-infty-processes-with-square-sum</link>
      <description><![CDATA[设 $X_t=\sum_{j=0}^{\infty} \phi_j \varepsilon_{t-j}$ 为 MA($\infty$) 具有平方可求和系数的过程。我们知道，如果我们在 $n$ 处截断该过程，则会创建序列：
$$X_{t,n} = \sum_{j=0}^{n} \phi_j \varepsilon_{t-j},$$
然后 $X_{t,n}$ 收敛到 $X_t$ 均方为 $n$ 接近无穷大。
现在，假设我们有一个系数子序列 $(\phi_j)_{j=0}^{\infty}$，特别是 $(j_k)_{k=0}^\infty$，并考虑：
$$Y_{t,K} = \sum_{k=0}^K \phi_{j_k} \varepsilon_{t - j_k }.$$
我们可以说 $Y_{t,K}$ 收敛于 $X_t = \sum_{j=0}^\ infty \phi_j \varepsilon_{t-j}$，如 $K \to \infty$ ?]]></description>
      <guid>https://stats.stackexchange.com/questions/632827/convergence-of-truncated-and-subsequenced-ma-infty-processes-with-square-sum</guid>
      <pubDate>Fri, 01 Dec 2023 18:53:04 GMT</pubDate>
    </item>
    <item>
      <title>如何分析记录了不同数量测量值的数据？</title>
      <link>https://stats.stackexchange.com/questions/632826/how-to-analyze-data-which-has-varying-amounts-of-measurements-recorded</link>
      <description><![CDATA[我正在进行的研究涉及与小鼠的身体特征有关的数据，这些数据以一致的时间间隔记录，同时也记录了小鼠的死亡时间。因此，一些小鼠比其他小鼠记录了更多的时间点。我应该如何对此进行建模？
我考虑过使用分层线性模型，但我承认我对这种分析不是特别了解，并且很好奇是否有人有建议。有数百只小鼠的大量总数据点，因此在看到各种记录数据之前，我最初计划使用神经网络。在这种情况下我有办法实施这种方法吗？或者这是没有必要的？感谢您的帮助。
编辑：基本上，我有关于这些小鼠一段时间的信息，大约每 4 周收集一次数据，包括血糖水平、食物摄入量和其他类似指标。还有离散信息，例如小鼠的遗传链，以及最后的“死亡时间”。价值。由于小鼠死亡的时间截然不同，某些事物（例如食物摄入量）具有与较短或较长时间段相对应的数据（因此，18 个月内每 4 周一次，与 5 个月内每 4 周一次，具体取决于小鼠的寿命）。我想建立一个模型来确定哪些因素对这些小鼠的寿命最重要，即它为预测这些小鼠的寿命提供了最佳信息。希望这能解决问题。]]></description>
      <guid>https://stats.stackexchange.com/questions/632826/how-to-analyze-data-which-has-varying-amounts-of-measurements-recorded</guid>
      <pubDate>Fri, 01 Dec 2023 18:33:54 GMT</pubDate>
    </item>
    <item>
      <title>从候诊室中选择情侣的概率是多少？</title>
      <link>https://stats.stackexchange.com/questions/632820/what-is-the-probability-of-selecting-couples-from-a-waiting-room</link>
      <description><![CDATA[给定一个候诊室，里面挤满了$N / 2$对情侣（$N$ 一对夫妇number：候诊室里的总人数），医生随机从候诊室呼叫$n$个人。
$K (0 \le K \le min(N/2,n/2))$ 情侣出现在被叫组中的概率是多少？相反，$I (0 \le I \le min(N/2,n))$ 个个体属于被调用的群体的概率是多少？
到目前为止我尝试过的
我的直觉是首先想到有多少种方法可以选择 K 对：$P_{N/2}^K$。
那么，有多少种方法可以选择剩余的个体来填补 $n$ 之间的空白，即在选择对之后： $[N - 2K]\cdot[N-2K-2]\cdot[\ldots]\cdot[N-2K-2(n-2K-1)]$.&lt; /p&gt;
我将上面的内容重新表述为我刚刚学到的一种符号（双阶乘）：
$\frac{(N-2K)!!}{[N-2K-2(n-2K)]!!}$
重写：
$\frac{[2(\frac{N}{2}-K)]!!}{[2(\frac{N}{2}-K- (n-2K))]!!}$
因为上面的分子和分母是偶数，所以双阶乘可以用我有更多信息的形式代替：
$\frac{2^{\frac{N}{2}-K}(\frac{N}{2}-K)!}{2^{\ frac{N}{2}-K-(n-2K)}[\frac{N}{2}-K-(n-2K)]!}$
重新制定：
$\frac{2^{n-2K}(\frac{N}{2}-K)!}{[\frac{N}{2}-K -(n-2K)]!}$
再次重新制定：
$2^{n-2K}\left(P_{\frac{N}{2}-K}^{n-2K}\right)$ 
然后，几乎就在那里，我将两个概率相乘（即首先选择情侣，然后选择个人以填补剩余的位置），并将其除以重新组织阵容的方式数量：
$\frac{2^{n-2K} \left(P_{\frac{N}{2}-K}^{n-2K}\right)\左(P^K_{N/2}\right)}{n!}$
重新制定：
$\frac{2^n\left(P_{\frac{N}{2}-K}^{n-2K}\right)\left(P^ K_{N/2}\right)}{2^{2K} n!}$
我相信，上面是包含 K 对的 $n$ 选择的数量以及剩余的  $n-2K$ 选择是没有伴侣的个人。
假设我没有犯错误，我会假设将此总和除以可能选择的总数，${N\choose{n}}$，给出我感兴趣的概率，即
$p = \frac{2^n\left(P_{\frac{N}{2}-K}^{n-2K}\right)\left( P^K_{N/2}\right)}{2^{2K} n!{N\选择{n}}}$
重新制定：
$p = \frac{2^n\left(P_{\frac{N}{2}-K}^{n-2K}\right)\left( P^K_{N/2}\right)}{2^{2K} \left(P_N^n\right)}$
但是，上面似乎有一个错误......
我在Python中测试了上面的内容：
&gt;&gt;&gt;从数学导入烫发
&gt;&gt;&gt;&gt;&gt; def f(N,n,K)：
... n,d = 2**n*perm(N//2,K)*perm(N//2-K,n-2*K),2**(2*K)*perm(N ,n)
...返回 n、d、n/d
...
&gt;&gt;&gt;&gt;&gt;对于范围 (3) 内的 i：
... 打印（i，f（10,5，i））
...
0 (3840, 30240, 0.12698412698412698)
1 (3840, 120960, 0.031746031746031744)
2 (1920, 483840, 0.003968253968253968)

我一定在我的假设中犯了一个错误，因为上面的概率似乎是错误的。例如。计算表明，从 10 对夫妇中选择 5 对夫妇时，选择 2 对夫妇的概率低于选择 0 对夫妇的概率。这显然是错误的。
通过模拟，5 组中 0、1 和 2 对的预期概率如下：
{1：0.634806，2：0.2380557，0：0.1271383}
N = 排序(list(range(5)) * 2)
对于 _ 在范围内（10000000）：
         随机播放(N)
         情侣 = 5-len(set(N[:5]))
         结果[情侣] = results.get(情侣,0)+1
print({k:v/sum(results.values()) for k, v in results.items()})

任何见解将不胜感激。]]></description>
      <guid>https://stats.stackexchange.com/questions/632820/what-is-the-probability-of-selecting-couples-from-a-waiting-room</guid>
      <pubDate>Fri, 01 Dec 2023 17:13:56 GMT</pubDate>
    </item>
    </channel>
</rss>