<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>æ ‡è®°ä¸ºæœºå™¨å­¦ä¹ çš„æ´»è·ƒé—®é¢˜ - Thinbug</title>
    <link>https://stackoverflow.com/questions/tagged/?tagnames=machine-learning&sort=active</link>
    <description>æ¥è‡ª stackoverflow.com çš„æœ€æ–° 30 ä¸ª</description>
    <lastBuildDate>Sun, 04 Feb 2024 03:15:06 GMT</lastBuildDate>
    <item>
      <title>æ ¹æ®åˆ†ç±»å˜é‡å¯¹ç›®æ ‡å˜é‡çš„å½±å“åˆ›å»ºæ–°å˜é‡</title>
      <link>https://stackoverflow.com/questions/77933803/creating-new-variable-based-on-categorical-variable-impact-on-target-variable</link>
      <description><![CDATA[æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªä»·æ ¼é¢„æµ‹æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚
å½“æˆ‘ç”¨ç›®æ ‡å˜é‡åˆ†æåˆ†ç±»å˜é‡æ—¶ï¼Œç›®æ ‡å˜é‡çš„å¹³å‡å€¼å’Œä¸­å€¼åœ¨åˆ†ç±»å˜é‡çš„ç±»åˆ«ä¹‹é—´å·®å¼‚å¾ˆå¤§ã€‚
&lt;å‰&gt;&lt;ä»£ç &gt;ç›®æ ‡ä¸­ä½æ•°
å•†å®¶æ¥æºåç§°
å•†æˆ·æ¥æº - 1 5.00
å•†å®¶æ¥æº - 2 6.00
å•†æˆ·æ¥æº - 3 106.00




                         TARGET_MEAN
å•†å®¶æ¥æºåç§°
å•†æˆ·æ¥æº - 1 220.25
å•†å®¶æ¥æº - 2 42.95
å•†æˆ·æ¥æº - 3 5862.66


æ‰€ä»¥æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªä¾èµ–äºè¿™ä¸ªåˆ†ç±»å˜é‡å’Œç›®æ ‡å˜é‡çš„æ–°å˜é‡ã€‚ç›®æ ‡å˜é‡å‘ˆåæ€åˆ†å¸ƒã€‚é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä½¿ç”¨ç±»çš„ä¸­å€¼åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°å€¼å˜é‡æ˜¯å¦æœ‰æ„ä¹‰ï¼Ÿ
ä¾‹å¦‚ï¼›
df[â€œmerchant_source_name_target_medianâ€] = df.groupby(â€œmerchant_source_nameâ€)[â€œnet_ payment_countâ€].transform(â€œmedianâ€) 
æ‚¨è¿˜æœ‰å…¶ä»–å»ºè®®å—ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77933803/creating-new-variable-based-on-categorical-variable-impact-on-target-variable</guid>
      <pubDate>Sat, 03 Feb 2024 21:25:50 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•ä½¿ç”¨ Roberta è®¡ç®—æœ€å 4 ä¸ªéšè—å±‚çš„åŠ æƒå’Œï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77933640/how-to-calculate-the-weighted-sum-of-last-4-hidden-layers-using-roberta</link>
      <description><![CDATA[è¿™ç¯‡è®ºæ–‡ä¸­çš„è¡¨æ ¼è§£é‡Šäº†è·å¾—åµŒå…¥çš„å„ç§æ–¹æ³•ï¼Œæˆ‘è®¤ä¸ºè¿™äº›æ–¹æ³•ä¹Ÿé€‚ç”¨äº Robertaï¼š

æˆ‘æ­£åœ¨å°è¯•ä½¿ç”¨ Roberta è®¡ç®—æœ€å 4 ä¸ªéšè—å±‚çš„åŠ æƒå’Œæ¥è·å¾—ä»¤ç‰ŒåµŒå…¥ï¼Œä½†æˆ‘ä¸çŸ¥é“è¿™æ˜¯å¦æ˜¯æ­£ç¡®çš„æ–¹æ³•ï¼Œè¿™æ˜¯æˆ‘å°è¯•è¿‡çš„ä»£ç ï¼š
ä»å˜å‹å™¨å¯¼å…¥ RobertaTokenizer, RobertaModel
è¿›å£ç«ç‚¬

tokenizer = RobertaTokenizer.from_pretrained(&#39;roberta-base&#39;)
æ¨¡å‹ = RobertaModel.from_pretrained(&#39;roberta-base&#39;)
Caption = [&#39;è¿™æ˜¯ä¸€åªé»„è‰²çš„é¸Ÿ&#39;, &#39;ç¤ºä¾‹æ ‡é¢˜&#39;]

tokens = tokenizer(æ ‡é¢˜, return_tensors=&#39;pt&#39;, padding=True)

input_ids = æ ‡è®°[&#39;input_ids&#39;]
æ³¨æ„æ©ç  = æ ‡è®°[&#39;æ³¨æ„æ©ç &#39;]

è¾“å‡º=æ¨¡å‹ï¼ˆinput_idsï¼Œattention_maskï¼Œoutput_hidden_â€‹â€‹states = Trueï¼‰

çŠ¶æ€ = è¾“å‡º.hidden_â€‹â€‹states
token_emb = torch.stack([states[i] for i in [-4, -3, -2, -1]]).sum(0).squeeze()
]]></description>
      <guid>https://stackoverflow.com/questions/77933640/how-to-calculate-the-weighted-sum-of-last-4-hidden-layers-using-roberta</guid>
      <pubDate>Sat, 03 Feb 2024 20:34:36 GMT</pubDate>
    </item>
    <item>
      <title>æˆ‘ä¸æ–­æ”¶åˆ° ValueError: æ•°ç»„é•¿åº¦ 2643 ä¸ç´¢å¼•é•¿åº¦ 3281 ä¸åŒ¹é…</title>
      <link>https://stackoverflow.com/questions/77933401/i-keep-getting-valueerror-array-length-2643-does-not-match-index-length-3281</link>
      <description><![CDATA[è¿™æ˜¯æˆ‘çš„ä»£ç ï¼š
# ç›®æ ‡åˆ—æˆ–æˆ‘çš„æ•°æ®é›†ä¸­çš„ AnyNan å€¼
Training_data.dropna(inplace=True, axis=0)
test_data.dropna(inplace=True, axis=0)

# åœ¨ HomePlanet ä¸Šæ‰§è¡Œä¸€æ¬¡çƒ­ç¼–ç ï¼Œ

åŠŸèƒ½ = [&#39;HomePlanet&#39;, &#39;ç›®çš„åœ°&#39;, &#39;CryoSleep&#39;, &#39;VIP&#39; ]
X= pd.get_dummies(training_data[features]).astype(int)
y = pd.get_dummies(training_data.Transported).astype(int)
x_test = æµ‹è¯•æ•°æ®[ç‰¹å¾]

# åˆ›å»ºæˆ‘çš„æ¨¡å‹

X_trainï¼ŒX_testï¼Œy_trainï¼Œy_test = train_test_splitï¼ˆXï¼Œyï¼Œtrain_size = 0.6ï¼Œtest_size = 0.4ï¼Œrandom_state = 42ï¼‰
rt_model = RandomForestRegressor()
rt_model.fit(X_train,y_train)
é¢„æµ‹ = rt_model.predict(X_test)

#ä¿å­˜csv

è¾“å‡º= pd.DataFrameï¼ˆ{&#39;PassengerId&#39;ï¼štesting_data.PassengerIdï¼Œ&#39;è¿è¾“&#39;ï¼šé¢„æµ‹}ï¼‰
output.to_csv(&#39;æäº¤.csv&#39;, index=False)
print(&quot;æ‚¨çš„æäº¤å·²æˆåŠŸä¿å­˜ï¼&quot;)

å½“æˆ‘åœ¨è®­ç»ƒæµ‹è¯•åˆ†å‰²åæ‰“å° X ã€ y å’Œ X_trainã€y_train çš„é•¿åº¦æ—¶å¾—åˆ°ï¼š
&lt;å‰&gt;&lt;ä»£ç &gt;6606 6606
3963 3963
2643 2643

æˆ‘å°è¯•é‡å¡‘ X å’Œ yã€‚
æˆ‘å°è¯•åœ¨æˆ‘çš„ x_test æ•°æ®å¸§ ä¸Šæ‰§è¡Œä¸€ç§çƒ­ç¼–ç ã€‚
æˆ‘åœ¨æ•°ç»„ä¸Šæ‰§è¡Œäº† iloc æ–¹æ³•ã€‚
é—®é¢˜ä»…æ¥è‡ªäºè¯•å›¾å°†å…¶ä¿å­˜ä¸º csv çš„æœ€åä¸€éƒ¨åˆ†ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77933401/i-keep-getting-valueerror-array-length-2643-does-not-match-index-length-3281</guid>
      <pubDate>Sat, 03 Feb 2024 19:17:26 GMT</pubDate>
    </item>
    <item>
      <title>ç”¨äºå¤´å½±æµ‹é‡æ ‡å¿—æ£€æµ‹çš„éšæœºä½œç‰©æ•°æ®é¢„å¤„ç†</title>
      <link>https://stackoverflow.com/questions/77933062/random-crop-data-preprocessing-for-cephalometric-landmark-detection</link>
      <description><![CDATA[æˆ‘çš„ä»»åŠ¡æ˜¯å¤´å½±æµ‹é‡åœ°æ ‡å®šä½ã€‚æˆ‘çš„å›¾åƒè·¯å¾„çš„åæ ‡æ˜¾ç¤ºåœ¨æ­¤æ•°æ®æ¡†ä¸­ã€‚

&lt;è¡¨ç±»=â€œs-è¡¨â€&gt;
&lt;æ ‡é¢˜&gt;

æ–‡ä»¶å
X1
Y1


&lt;æ­£æ–‡&gt;

/Images_data/Img0006.png
89
80


/Images_data/Img0008.png
37
70


/Images_data/Img0007.png
50
76


/Images_data/Img0003.png
55
92


/Images_data/Img0005.png
91
64


/Images_data/Img0004.png
100
76




æˆ‘æƒ³åœ¨è®­ç»ƒå›¾ä¸­æ‰€ç¤ºçš„æ¨¡å‹ä¹‹å‰åœ¨æ•°æ®é¢„å¤„ç†æ­¥éª¤ä¸­ä½¿ç”¨éšæœºè£å‰ªã€‚
åœ¨æ­¤å¤„è¾“å…¥å›¾ç‰‡æè¿°
æˆ‘å°è¯•ä½¿ç”¨éšæœºè£å‰ªæ¥æå– 10 ä¸ªå›¾åƒå—ã€‚
ä» PIL å¯¼å…¥å›¾åƒ
ä»éšæœºå¯¼å…¥ randrange

img = Image.open(r&quot;/Images_data/Img0006.png&quot;)
a, b = å›¾ç‰‡å¤§å°

çŸ©é˜µ = 250
æ ·æœ¬=10
æ ·æœ¬åˆ—è¡¨ = []

å¯¹äºèŒƒå›´å†…çš„ iï¼ˆæ ·æœ¬ï¼‰ï¼š
    a1 = randrange(0, a - çŸ©é˜µ)
    b1 = randrange(0, b - çŸ©é˜µ)
    Sample_list.append(img.crop((a1, b1, a1 + çŸ©é˜µ, b1 + çŸ©é˜µ)))

å¦‚ä½•å°†åæ ‡ä¸º x1,y1 çš„éšæœºè£å‰ªå›¾åƒå—æ”¾å…¥æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77933062/random-crop-data-preprocessing-for-cephalometric-landmark-detection</guid>
      <pubDate>Sat, 03 Feb 2024 17:24:43 GMT</pubDate>
    </item>
    <item>
      <title>å¯¹çœ‹èµ·æ¥åƒå™ªéŸ³çš„å›¾åƒè¿›è¡Œåˆ†ç±»[å…³é—­]</title>
      <link>https://stackoverflow.com/questions/77932725/classifying-images-that-look-like-noise</link>
      <description><![CDATA[æˆ‘å³å°†æ„å»ºä¸€ä¸ªç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿåº”è¯¥è¯„ä¼°å¦‚ä¸‹æ‰€ç¤ºçš„å›¾åƒ (900 x 150)ï¼Œå¹¶å°†å…¶åˆ†ç±»ä¸ºäº”ä¸ªç±»åˆ«ä¹‹ä¸€ï¼š
çœ‹èµ·æ¥åƒå™ªéŸ³çš„å›¾åƒ
å¦‚æœæ‚¨æƒ³çŸ¥é“ï¼Œå®ƒä»¬æ˜¯ DNA æµ‹åºä»ªæµåŠ¨æ± ä¸­èšç±»åˆ†å¸ƒçš„å¿«ç…§ã€‚ç›®å‰æ­£åœ¨æ ‡è®°çš„æ€»æ•°æ®é›†çº¦ä¸º 30000 å¼ å›¾åƒã€‚
è®©ç³»ç»Ÿå¯¹è¿™äº›å›¾åƒè¿›è¡Œåˆ†ç±»çš„æœ€æœ‰æ•ˆæ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ
æˆ‘æœ€åˆçš„æƒ³æ³•æ˜¯å¾®è°ƒç°æœ‰çš„è§†è§‰æ¨¡å‹ï¼ˆä¾‹å¦‚ï¼Œæ‹¥æŠ±è„¸éƒ¨æ¨¡å‹ä¹‹ä¸€ï¼‰ï¼Œä½†æˆ‘å¯¹è¿™æ˜¯å¦åˆé€‚å­˜åœ¨ä¸€äº›ç–‘é—®ï¼›å¤§å¤šæ•°è§†è§‰æ¨¡å‹éƒ½æ˜¯æ ¹æ®ä¸–ç•Œä¸Šäººå’Œäº‹ç‰©çš„ç…§ç‰‡è¿›è¡Œè®­ç»ƒçš„ï¼Œå› æ­¤ä¼¼ä¹å°è¯•å¾®è°ƒå…¶ä¸­ä¸€ä¸ªæ¨¡å‹æ¥è¯†åˆ«çœ‹èµ·æ¥åƒå™ªéŸ³çš„å›¾åƒæ˜¯è¡Œä¸é€šçš„ã€‚
å¦‚æœè¿™ä¸ªå‡è®¾æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆä»å¤´å¼€å§‹è®­ç»ƒåŸºäº CNN çš„æ¨¡å‹ä¼šæ˜¯æ›´å¥½çš„æ–¹æ³•å—ï¼Ÿä¹Ÿè®¸æ˜¯ CNN çš„ä¿®æ”¹ç‰ˆæœ¬ï¼Ÿæˆ‘è¯»äº†ä¸€ç¯‡æœ‰è¶£çš„ç ”ç©¶è®ºæ–‡ï¼†quot;ä½¿ç”¨å·ç§¯çš„å›¾åƒå™ªå£°ç±»å‹è¯†åˆ«å…·æœ‰ä¸»æˆåˆ†åˆ†æçš„ç¥ç»ç½‘ç»œâ€ä½œè€…å°† PCA èå…¥åˆ°ä»–ä»¬çš„ CNN ä¸­ã€‚
æˆ–è€…è¿˜æœ‰å…¶ä»–é€‰æ‹©å—ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77932725/classifying-images-that-look-like-noise</guid>
      <pubDate>Sat, 03 Feb 2024 15:43:44 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨ Rust-linfa ä¸­åŠ è½½ç”¨äºé¢„æµ‹çš„çº¿æ€§å›å½’æ¨¡å‹</title>
      <link>https://stackoverflow.com/questions/77932307/loading-a-linear-regression-model-back-up-for-prediction-in-rust-linfa</link>
      <description><![CDATA[æˆ‘ä¸€ç›´åœ¨ç ”ç©¶ Rust æœºå™¨å­¦ä¹ çš„ linfaï¼Œç‰¹åˆ«æ˜¯çº¿æ€§å›å½’æ¨¡å‹ã€‚æˆ‘å¸Œæœ›èƒ½å¤Ÿä¿å­˜å’ŒåŠ è½½ç»è¿‡è®­ç»ƒçš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œä½†æˆ‘æ— æ³•æ‰¾åˆ°å®ç°æ­¤ç›®çš„çš„æ–¹æ³•ã€‚
åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘çš„æ–¹æ³•æ˜¯è·å–è®­ç»ƒä¸­æ¶‰åŠçš„ä¸»è¦å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯ä»¥ä» linfa çš„çº¿æ€§å›å½’å®ç°ä¸­è·å–ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªå¯ä»¥å­˜å‚¨ä¸º JSON æ–‡ä»¶çš„ç»“æ„ä¸­ï¼ˆé€šè¿‡ serde_json å®Œæˆï¼‰ã€‚ç„¶è€Œï¼Œåœ¨æ­¤ä¹‹åæˆ‘ä¸çŸ¥é“å¦‚ä½•å°†å…¶åŠ è½½å›æ¥è¿›è¡Œè®­ç»ƒã€‚
ä»¥ä¸Šå†…å®¹è¯¦æƒ…å¦‚ä¸‹ï¼š
å­˜å‚¨è®­ç»ƒå‚æ•°çš„ç»“æ„ï¼š
struct ModelJson {
    ç³»æ•°ï¼šVec f64 ï¼Œ
    æ‹¦æˆªï¼šf64ï¼Œ
}

å­˜å‚¨è¿‡ç¨‹ï¼š
let model = lin_reg.fit(&amp;dataset)?;
è®© model_json = ModelJson {
    ç³»æ•°ï¼š model.params().to_vec(),
    æ‹¦æˆªï¼š model.intercept(),
};

å­˜å‚¨çš„æ•°æ®çœ‹èµ·æ¥å¦‚ä½•ï¼š
{â€œç³»æ•°â€:[-0.00017907873576254802,-0.00100659702068151,-0.0008275037845519519,0.0004613216043979551,0.00103006349345 99436]ï¼Œâ€œæ‹¦æˆªâ€ï¼š50.525680622870084}

å…³äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•´ä¸ªæ¨¡å‹ï¼Œæˆ‘å‘ç°ä»¥ä¸‹ä¿¡æ¯è¡¨æ˜ linfa ä¸­æ”¯æŒç›¸åŒçš„æ“ä½œã€‚
åŠ è½½å’Œä¿å­˜æ¨¡å‹
è¿™å¼•å‡ºäº†æˆ‘çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œå…¶ä¸­æˆ‘ä½¿ç”¨äº† linfa-linear çš„ serde åŠŸèƒ½ï¼ˆåŒ…å« LinearRegression æ¨¡å‹ï¼‰ï¼Œé¦–å…ˆåœ¨æˆ‘çš„ Cargo.toml ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
linfa-clustering = {version=&quot;0.7.0&quot;, features=[&quot;serde&quot;]}
æ ¹æ®æˆ‘å¯¹å®ç°çš„ç†è§£ï¼Œæ­¤åŠŸèƒ½ä¸º LinearRegression å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š
Serde åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç° - æ´¾ç”Ÿ
ä¸Šè¿°å®ç°ï¼š
&lt;å‰&gt;&lt;ä»£ç &gt;#[cfg_attr(
    ç‰¹å¾=â€œserdeâ€ï¼Œ
    æ´¾ç”Ÿï¼ˆåºåˆ—åŒ–ï¼Œååºåˆ—åŒ–ï¼‰ï¼Œ
    serde(crate = â€œserde_crateâ€)
)]
/// å¯ç”¨äºè¿›è¡Œé¢„æµ‹çš„æ‹Ÿåˆçº¿æ€§å›å½’æ¨¡å‹ã€‚
pub struct FittedLinearRegression; {
    æˆªè·ï¼šFï¼Œ
    å‚æ•°ï¼šArray1,
}

å‘ç°äºï¼š linfa-çº¿æ€§å¯¼å‡ºå®ç°
æˆ‘çš„å®ç°å¦‚ä¸‹ï¼š
let model = lin_reg.fit(&amp;dataset)?;
è®©åºåˆ—åŒ– = serde_json::to_string(&amp;model).unwrap();

ä½†æ˜¯æ­¤æ–¹æ³•å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
ä¸æ»¡è¶³ç‰¹å¾è¾¹ç•Œ `FittedLinearRegression: serde::ser::Serialize`
ä»¥ä¸‹å…¶ä»–ç±»å‹å®ç°äº†ç‰¹å¾ `serde::ser::Serialize`ï¼š
  å¸ƒå°”å€¼
  å­—ç¬¦
  å¤§å°
  i8
  i16
  i32
  i64
  i128
å’Œå…¶ä»– 133 ä¸ªrustcClick ä»¥è·å–å®Œæ•´çš„ç¼–è¯‘å™¨è¯Šæ–­
main.rs(82, 22)ï¼šæ­¤è°ƒç”¨å¼•å…¥çš„ç»‘å®šæ‰€éœ€

æ˜¯å¦æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ–è€…æ˜¯å¦æœ‰æŸç§æ–¹æ³•å¯ä»¥ä½¿è¿™äº›æ–¹æ³•ä¹‹ä¸€å‘æŒ¥ä½œç”¨ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77932307/loading-a-linear-regression-model-back-up-for-prediction-in-rust-linfa</guid>
      <pubDate>Sat, 03 Feb 2024 13:44:24 GMT</pubDate>
    </item>
    <item>
      <title>ç”¨äºæœºå™¨å­¦ä¹ çš„æ•°æ®é›†ï¼Œè‡³å°‘åŒ…å« 100 åˆ—å’Œ 10,000 ä¸ªåŸå§‹æ•°æ® [å·²å…³é—­]</title>
      <link>https://stackoverflow.com/questions/77931469/data-set-for-machine-learning-with-minimum-100-columns-and-10-000-raws</link>
      <description><![CDATA[æˆ‘æƒ³è¦ä¸€ä¸ªè‡³å°‘åŒ…å« 100 åˆ—å’Œ 10000 è¡Œçš„æ•°æ®é›†ã€‚æ‚¨ä¸èƒ½ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥ç”Ÿæˆå®ƒï¼Œå› ä¸ºå®ƒå°†ç”¨äºæœºå™¨å­¦ä¹ å®è·µ
æå‰æ„Ÿè°¢æ‚¨çš„å¸®åŠ©ğŸ™]]></description>
      <guid>https://stackoverflow.com/questions/77931469/data-set-for-machine-learning-with-minimum-100-columns-and-10-000-raws</guid>
      <pubDate>Sat, 03 Feb 2024 09:03:55 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨å…¶ä»–å±‚è€Œä¸æ˜¯ç¬¬ä¸€å±‚ä½¿ç”¨ BatchNorm2d çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77931391/what-is-the-purpose-of-using-batchnorm2d-in-the-other-layers-but-not-in-first</link>
      <description><![CDATA[æˆ‘æ­£åœ¨è®¾è®¡Discriminatorç±»ï¼Œæˆ‘åœ¨githubä¸Šçœ‹åˆ°æœ‰äººçš„å®ç°ï¼Œæˆ‘æ— æ³•å‘è‡ªå·±è§£é‡Šä¸ºä»€ä¹ˆbatchnormalizationè¢«ç”¨åœ¨conv2ï¼Œconv3ä¸­ï¼Œä½†ç‰¹åˆ«æ˜¯åœ¨ç¬¬ä¸€ä¸ªå·ç§¯å±‚ä¸­æ²¡æœ‰ï¼Œæˆ‘ä¸ºæ‚¨æä¾›äº†ä»£ç ç±»è¿˜æœ‰è½¬æ¢å‡½æ•°
ç±»é‰´åˆ«å™¨ï¼ˆnn.Moduleï¼‰ï¼š
    def __init__(self, conv_dim = 32):
        super(é‰´åˆ«å™¨, self).__init__()

        self.conv_dim = conv_dim
        
        self.conv1 = conv(
            3ã€conv_dimã€4ã€batch_norm = False
        ï¼‰
        self.conv2 = conv(
            è½¬æ¢äº®åº¦, è½¬æ¢äº®åº¦ * 2, 4
        ï¼‰
        self.conv3 = conv(
            è½¬æ¢äº®åº¦ * 2, è½¬æ¢äº®åº¦ * 4, 4
        ï¼‰
        self.fc = nn.Linear(
            å·ç§¯æš—åº¦ * 4 * 4 * 4, 1
        ï¼‰
    def å‰å‘ï¼ˆè‡ªèº«ï¼Œxï¼‰ï¼š
        leaky_relu = F.leaky_relu
        è¾“å‡º=leaky_reluï¼ˆ
            è‡ªè½¬æ¢1(x), 0.2
        ï¼‰
        è¾“å‡º=leaky_reluï¼ˆ
            self.conv2(è¾“å‡º), 0.2
        ï¼‰
        è¾“å‡º=leaky_reluï¼ˆ
            self.conv3(è¾“å‡º), 0.2
        ï¼‰
        è¾“å‡º = out.view(-1, self.conv_dim * 4 * 4 * 4)
        è¾“å‡º = self.fc(è¾“å‡º)
        è¿”å›

æˆ‘å°è¯•è¯¢é—® ChatGPTï¼Œä½†å®ƒæ²¡æœ‰ç»™å‡ºä¸€è‡´çš„ç­”æ¡ˆ]]></description>
      <guid>https://stackoverflow.com/questions/77931391/what-is-the-purpose-of-using-batchnorm2d-in-the-other-layers-but-not-in-first</guid>
      <pubDate>Sat, 03 Feb 2024 08:35:38 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨ TensorFlow ä¸­ä½¿ç”¨ç¥ç»ç½‘ç»œè¿›è¡ŒåŠ¨ç‰©æ£€æµ‹</title>
      <link>https://stackoverflow.com/questions/77931021/animal-detection-using-neural-network-in-tensorflow</link>
      <description><![CDATA[å½“æˆ‘è¿è¡Œæœ€åä¸€éƒ¨åˆ†æ¥è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæˆ‘æ— æ³•æ£€æŸ¥å›¾åƒæ˜¯å¦æœ‰é”™è¯¯ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘æƒ³æ£€æµ‹æˆ‘æ˜¯å¦èƒ½å¤Ÿè®­ç»ƒæˆ‘çš„æ¨¡å‹æ¥æ£€æµ‹åŠ¨ç‰©ï¼Œä¾‹å¦‚åŠ¨ç‰©ã€‚çŒ«å’Œç‹—ä¹‹é—´ã€‚ æ•°æ®é›†ã€‚
å°† pandas å¯¼å…¥ä¸º pd
å°† numpy å¯¼å…¥ä¸º np
ä»tensorflow.keras.modelså¯¼å…¥é¡ºåº
ä»tensorflow.keras.layerså¯¼å…¥Conv2D
ä»tensorflow.keras.layerså¯¼å…¥MaxPooling2D
ä»tensorflow.keras.layerså¯¼å…¥Flatten
ä»tensorflow.keras.layerså¯¼å…¥Dense

# åˆå§‹åŒ– CNN
åˆ†ç±»å™¨=é¡ºåºï¼ˆï¼‰

ï¼ƒå·ç§¯
classifier.add(Conv2D(32,(3,3), input_shape = (64, 64, 3), æ¿€æ´» = &#39;relu&#39;))

# æ± åŒ–
classifier.add(MaxPooling2D(pool_size = (2,2)))

# æ·»åŠ ç¬¬äºŒä¸ªå·ç§¯å±‚
classifier.add(Conv2D(32, (3,3), æ¿€æ´» = &#39;relu&#39;))
classifier.add(MaxPooling2D(pool_size = (2,2)))

# å±•å¹³
åˆ†ç±»å™¨.add(Flatten())

# å…¨è¿æ¥
classifier.addï¼ˆå¯†é›†ï¼ˆå•ä½= 128ï¼Œæ¿€æ´»=&#39;relu&#39;ï¼‰ï¼‰
classifier.add(Dense(å•ä½ = 1, æ¿€æ´» = &#39;sigmoid&#39;))

# ç¼–è¯‘ CNN
classifier.compileï¼ˆä¼˜åŒ–å™¨=&#39;adam&#39;ï¼ŒæŸå¤±=&#39;binary_crossentropy&#39;ï¼ŒæŒ‡æ ‡= [&#39;å‡†ç¡®æ€§&#39;]ï¼‰

# å°† CNN æ‹Ÿåˆåˆ°å›¾åƒä¸Š

ä» keras.preprocessing.image å¯¼å…¥ ImageDataGenerator
train_datagen = ImageDataGenerator(é‡æ–°ç¼©æ”¾ = 1./255,
                                  å‰ªåˆ‡èŒƒå›´ = 0.2,
                                  ç¼©æ”¾èŒƒå›´ = 0.2,
                                  æ°´å¹³ç¿»è½¬=çœŸï¼‰

training_set = train_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\training_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

test_datagen = ImageDataGeneratorï¼ˆé‡æ–°ç¼©æ”¾= 1./255ï¼‰
test_set = test_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\test_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

åˆ†ç±»å™¨.fitï¼ˆè®­ç»ƒé›†ï¼Œ
               æ¯çºªå…ƒçš„æ­¥æ•°=700ï¼Œ
               çºªå…ƒ=10ï¼Œ
               éªŒè¯æ•°æ®=æµ‹è¯•é›†ï¼Œ
               éªŒè¯æ­¥éª¤=10)
train_datagen = ImageDataGenerator(é‡æ–°ç¼©æ”¾ = 1./255,
                                  å‰ªåˆ‡èŒƒå›´ = 0.2,
                                  ç¼©æ”¾èŒƒå›´ = 0.2,
                                  æ°´å¹³ç¿»è½¬=çœŸï¼‰

training_set = train_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\training_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

test_datagen = ImageDataGeneratorï¼ˆé‡æ–°ç¼©æ”¾= 1./255ï¼‰
test_set = test_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\test_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

##### è¿™é‡Œæˆ‘æ”¶åˆ°é”™è¯¯
åˆ†ç±»å™¨.fitï¼ˆè®­ç»ƒé›†ï¼Œ
               æ¯çºªå…ƒçš„æ­¥æ•°=700ï¼Œ
               çºªå…ƒ=10ï¼Œ
               éªŒè¯æ•°æ®=æµ‹è¯•é›†ï¼Œ
               éªŒè¯æ­¥éª¤=10)

é”™è¯¯ï¼š
]]></description>
      <guid>https://stackoverflow.com/questions/77931021/animal-detection-using-neural-network-in-tensorflow</guid>
      <pubDate>Sat, 03 Feb 2024 05:55:16 GMT</pubDate>
    </item>
    <item>
      <title>VertexAIException - è°ƒç”¨ Gemini-Pro API æ—¶åˆ—è¡¨ç´¢å¼•è¶…å‡ºèŒƒå›´é”™è¯¯</title>
      <link>https://stackoverflow.com/questions/77930819/vertexaiexception-list-index-out-of-range-error-when-calling-gemini-pro-api</link>
      <description><![CDATA[æˆ‘æ­£åœ¨ä»¥è¿ç»­çš„æ–¹å¼è°ƒç”¨ Google Gemini-Pro APIï¼ˆå¤§çº¦æ¯åˆ†é’Ÿ 50 ä¸ªæŸ¥è¯¢ï¼‰ã€‚æˆ‘ç›¸ä¿¡æˆ‘å·²ç»æ­£ç¡®è®¾ç½®äº†æˆ‘çš„ VertexAI é¡¹ç›®å’Œå‡­æ®ã€‚å½“æˆ‘ä½¿ç”¨çš„è¿ç»­æŸ¥è¯¢æ•°é‡ä½äºæ’å®šæ¡æ—¶ï¼ŒæŸ¥è¯¢å°†è¿è¡Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°æ”¶åˆ°å“åº”ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æŸ¥è¯¢æ•°é‡è¶…è¿‡ä¸Šè¿°æ ï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
&lt;å—å¼•ç”¨&gt;
ç´¢å¼•é”™è¯¯ - åˆ—è¡¨ç´¢å¼•è¶…å‡ºèŒƒå›´

è¯·æ³¨æ„ï¼ŒæŸ¥è¯¢æ•°é‡â€œbarâ€æ˜¯å‘ç”Ÿæ­¤é”™è¯¯çš„æ—¶é—´å–å†³äºæ¯ä¸ªæŸ¥è¯¢çš„é•¿åº¦ï¼Œå¹¶ä¸”å¦‚æœæŸ¥è¯¢é•¿åº¦åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ä¿æŒç›¸åŒï¼Œåˆ™è¯¥é”™è¯¯æ˜¯ä¸€è‡´çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨å°è¯•å°†æŸ¥è¯¢é•¿åº¦å¢åŠ å¤§çº¦ 20% åï¼ŒæŸ¥è¯¢é•¿åº¦ä»å¤§çº¦ 330 ä¸ªæŸ¥è¯¢ä¸‹é™åˆ°å¤§çº¦ 60 ä¸ªæŸ¥è¯¢ã€‚
&lt;å—å¼•ç”¨&gt;
æ–‡ä»¶
â€œ/Users/user/anaconda3/envs/chat1/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.pyâ€ï¼Œ
ç¬¬ 1315 è¡Œï¼Œæ–‡æœ¬
è¿”å› self.candidates[0].text
~~~~~~~~~~~~~~~^^^ IndexErrorï¼šåˆ—è¡¨ç´¢å¼•è¶…å‡ºèŒƒå›´

è¿™æ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Ÿæˆ‘å·²å°† VertexAI æœåŠ¡å™¨ä½ç½®è®¾ç½®ä¸ºï¼šâ€œus-central1â€ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œè¯¥ä½ç½®çš„é…é¢åº”è¯¥ä¸º 300 ä¸ªæŸ¥è¯¢/åˆ†é’Ÿã€‚ç”±äºæˆ‘è¿ç»­æ‰§è¡Œ API è°ƒç”¨ï¼Œä½†ä½äºæ¯åˆ†é’Ÿ 60 æ¬¡æŸ¥è¯¢çš„é€Ÿç‡ï¼Œå› æ­¤æˆ‘è®¤ä¸ºæˆ‘å¤„äºä½¿ç”¨æ­£å¸¸èŒƒå›´ã€‚æˆ‘ç›®å‰æ­£åœ¨ä½¿ç”¨å…è´¹çš„ VertexAI è¯•ç”¨å¸æˆ·ï¼ˆæœ‰ 300 ç¾å…ƒçš„å…è´¹ä¿¡ç”¨ï¼‰ã€‚
æˆ‘å†™çš„Gemini Pro APIè°ƒç”¨å‡½æ•°æ˜¯ï¼š
def gemini_response(message: str) -&gt; &gt;å­—ç¬¦ä¸²ï¼š
    # åˆå§‹åŒ–é¡¶ç‚¹AI
    vertexai.init(project=â€œproject-id-0123â€, location=â€œus-central1â€)

    # åŠ è½½æ¨¡å‹
    æ¨¡å‹ = GenerativeModel(â€œgemini-proâ€)

    # æŸ¥è¯¢æ¨¡å‹
    å“åº” = model.generate_content(æ¶ˆæ¯)
    è¿”å›å“åº”.æ–‡æœ¬

åœ¨è°ƒè¯• candidates å˜é‡çš„é—®é¢˜æ—¶ï¼Œå˜é‡æ£€æŸ¥ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š
&lt;å‰&gt;&lt;ä»£ç &gt;&gt;è‡ªå·±
&gt;æç¤º_åé¦ˆ{block_reasonï¼šå…¶ä»–}
&gt;ä½¿ç”¨å…ƒæ•°æ®{prompt_token_countï¼š505total_token_countï¼š505}

&gt;è‡ªæˆ‘å€™é€‰äºº
&gt; []

&gt; self._raw_response
&gt;æç¤º_åé¦ˆ{block_reasonï¼šå…¶ä»–}
&gt;ä½¿ç”¨å…ƒæ•°æ®{prompt_token_countï¼š505total_token_countï¼š505}
]]></description>
      <guid>https://stackoverflow.com/questions/77930819/vertexaiexception-list-index-out-of-range-error-when-calling-gemini-pro-api</guid>
      <pubDate>Sat, 03 Feb 2024 04:05:38 GMT</pubDate>
    </item>
    <item>
      <title>RNN ä¸­çš„è¾“å…¥ç¼–ç </title>
      <link>https://stackoverflow.com/questions/77929678/input-encoding-in-rnns</link>
      <description><![CDATA[æˆ‘æ­£åœ¨å¼€å‘ä¸€ä¸ªå¾ªç¯ç¥ç»ç½‘ç»œ (RNN)ï¼Œå®ƒæ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼šæœ‰ 4 ä¸ªç¯ï¼Œåœ¨æ¯æ¬¡è¯•éªŒæœŸé—´ï¼Œæ‰“å¼€å…¶ä¸­ä¸€ç›ç¯ï¼Œç„¶åæ‰“å¼€å¦ä¸€ç›ç¯ã€‚ç›®æ ‡æ˜¯æ ¹æ®ç¯å…‰çš„ç»„åˆåšå‡ºå†³å®šã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªè¯•éªŒç¤ºä¾‹ã€‚

æˆ‘æƒ³çŸ¥é“å¦‚ä½•å¯¹ RNN çš„è¾“å…¥æ•°æ®è¿›è¡Œç¼–ç ï¼šæˆ‘åº”è¯¥ä½¿ç”¨ç›¸åŒçš„ 4 ä¸ªç»´åº¦æ¥è¡¨ç¤ºç¯æ‰“å¼€çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå®ä¾‹ï¼Œè¿˜æ˜¯åº”è¯¥å•ç‹¬è¡¨ç¤ºå®ƒä»¬ï¼Œå³ä½¿ç”¨ 8 ä¸ªç»´åº¦ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77929678/input-encoding-in-rnns</guid>
      <pubDate>Fri, 02 Feb 2024 20:25:15 GMT</pubDate>
    </item>
    <item>
      <title>æˆ‘æ­£åœ¨ä½¿ç”¨ CIDEr è¯„ä¼°æŒ‡æ ‡æ¥è¯„ä¼°å›¾åƒå­—å¹•æ¨¡å‹ã€‚å³ä½¿ä¸¤ä¸ªå¥å­ç›¸åŒï¼Œå®ƒä¹Ÿä¼šè¾“å‡º 0.0 [å…³é—­]</title>
      <link>https://stackoverflow.com/questions/77927272/im-using-cider-evaluation-metric-for-image-captioning-model-it-outputs-0-0-eve</link>
      <description><![CDATA[ä» pycocoevalcap.cider.cider å¯¼å…¥ Cider
å¯¼å…¥ json

# åŠ è½½æ‚¨çš„å‚è€ƒå’Œå€™é€‰æ ‡é¢˜
# å‚è€ƒæ ‡é¢˜çš„æ ¼å¼åº”ä¸ºï¼š{image_id: [caption1, caption2, ...]}
# å€™é€‰æ ‡é¢˜çš„æ ¼å¼åº”ä¸ºï¼š[{image_id, Caption}]

Reference_file = &#39;/content/ref.json&#39;
å€™é€‰æ–‡ä»¶ = &#39;/content/preds.json&#39;

å°† open(reference_file, &#39;r&#39;) ä½œä¸º fï¼š
    å¼•ç”¨ = json.load(f)

ä»¥ open(candidate_file, &#39;r&#39;) ä½œä¸º fï¼š
    å€™é€‰äºº = json.load(f)
æ‰“å°ï¼ˆå€™é€‰äººï¼‰
# åˆ›å»º CIDEr è®°åˆ†å™¨
cider_scorer = è‹¹æœé…’()

# è®¡ç®— CIDEr åˆ†æ•°
cider_score, cider_scores = cider_scorer.compute_score(å‚è€ƒæ–‡çŒ®, å‚è€ƒæ–‡çŒ®)

# æ‰“å° CIDEr åˆ†æ•°
print(&quot;CIDEr åˆ†æ•°ï¼š&quot;, cider_score)


å®ƒç»™å‡ºè¾“å‡º 0.0ã€‚
ref.json æœ‰ä»¥ä¸‹æ•°æ®
{&#39;1087539207_9f77ab3aaf.jpg&#39;: [&#39;ä¸‰ä¸ªäººåœ¨èƒŒæ™¯æœ‰æ ‘æœ¨çš„ç”°é‡é‡Œéª‘ç€å…¨åœ°å½¢è½¦&#39;]}&#39;

preds.json å…·æœ‰ä»¥ä¸‹æ•°æ®
{&#39;1087539207_9f77ab3aaf.jpg&#39;: [&#39;ä¸‰ä¸ªäººåœ¨èƒŒæ™¯æœ‰æ ‘æœ¨çš„ç”°é‡é‡Œéª‘ç€å…¨åœ°å½¢è½¦&#39;]}&#39;

Pycocoevalcap æ˜¯ä¸€ä¸ª github å­˜å‚¨åº“ï¼Œå®ƒå®ç°äº† CIDErï¼Œå³åŸºäºå…±è¯†çš„å›¾åƒæè¿°è¯„ä¼°]]></description>
      <guid>https://stackoverflow.com/questions/77927272/im-using-cider-evaluation-metric-for-image-captioning-model-it-outputs-0-0-eve</guid>
      <pubDate>Fri, 02 Feb 2024 13:18:02 GMT</pubDate>
    </item>
    <item>
      <title>MLflow ä»£ç†å·¥ä»¶è®¿é—®ï¼šæ— æ³•æ‰¾åˆ°å‡­æ®</title>
      <link>https://stackoverflow.com/questions/72886409/mlflow-proxied-artifact-access-unable-to-locate-credentials</link>
      <description><![CDATA[]]></description>
      <guid>https://stackoverflow.com/questions/72886409/mlflow-proxied-artifact-access-unable-to-locate-credentials</guid>
      <pubDate>Wed, 06 Jul 2022 15:40:30 GMT</pubDate>
    </item>
    <item>
      <title>XGBoost ç”¨äºå¤šæ ‡ç­¾åˆ†ç±»ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/40916939/xgboost-for-multilabel-classification</link>
      <description><![CDATA[æ˜¯å¦å¯ä»¥ä½¿ç”¨XGBoostè¿›è¡Œå¤šæ ‡ç­¾åˆ†ç±»ï¼Ÿç°åœ¨ï¼Œæˆ‘ä½¿ç”¨ OneVsRestClassifier è€Œä¸æ˜¯ sklearn ä¸­çš„ GradientBoostingClassifierã€‚å®ƒå¯ä»¥å·¥ä½œï¼Œä½†åªä½¿ç”¨æˆ‘çš„ CPU çš„ä¸€ä¸ªæ ¸å¿ƒã€‚åœ¨æˆ‘çš„æ•°æ®ä¸­ï¼Œæˆ‘æœ‰å¤§çº¦ 45 ä¸ªç‰¹å¾ï¼Œä»»åŠ¡æ˜¯ç”¨äºŒè¿›åˆ¶ï¼ˆå¸ƒå°”ï¼‰æ•°æ®é¢„æµ‹å¤§çº¦ 20 åˆ—ã€‚æŒ‡æ ‡æ˜¯å¹³å‡ç²¾åº¦ (map@7)ã€‚å¦‚æœæ‚¨æœ‰ä¸€ä¸ªç®€çŸ­çš„ä»£ç ç¤ºä¾‹å¯ä¾›åˆ†äº«ï¼Œé‚£å°±å¤ªå¥½äº†ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/40916939/xgboost-for-multilabel-classification</guid>
      <pubDate>Thu, 01 Dec 2016 17:33:32 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•è·å– Tensorflow å¼ é‡å°ºå¯¸ï¼ˆå½¢çŠ¶ï¼‰ä½œä¸º int å€¼ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/40666316/how-to-get-tensorflow-tensor-dimensions-shape-as-int-values</link>
      <description><![CDATA[å‡è®¾æˆ‘æœ‰ä¸€ä¸ª Tensorflow å¼ é‡ã€‚å¦‚ä½•è·å–å¼ é‡çš„å°ºå¯¸ï¼ˆå½¢çŠ¶ï¼‰ä½œä¸ºæ•´æ•°å€¼ï¼Ÿæˆ‘çŸ¥é“æœ‰ä¸¤ç§æ–¹æ³•ï¼Œtensor.get_shape()å’Œtf.shape(tensor)ï¼Œä½†æˆ‘æ— æ³•è·å–æ•´æ•°int32&lt;çš„å½¢çŠ¶å€¼/code&gt; å€¼ã€‚
ä¾‹å¦‚ï¼Œä¸‹é¢æˆ‘åˆ›å»ºäº†ä¸€ä¸ªäºŒç»´å¼ é‡ï¼Œæˆ‘éœ€è¦è·å– int32 çš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥è°ƒç”¨ reshape() åˆ›å»ºå½¢çŠ¶ä¸º (num_rows * num_cols, 1) çš„å¼ é‡ã€‚ä½†æ˜¯ï¼Œtensor.get_shape() æ–¹æ³•ä»¥ Dimension ç±»å‹è¿”å›å€¼ï¼Œè€Œä¸æ˜¯ int32ã€‚
å¯¼å…¥tensorflowä¸ºtf
å°† numpy å¯¼å…¥ä¸º np

sess = tf.Session()
å¼ é‡ = tf.convert_to_tensor(np.array([[1001,1002,1003],[3,4,5]]), dtype=tf.float32)

sess.runï¼ˆå¼ é‡ï¼‰
# æ•°ç»„([[ 1001., 1002., 1003.],
# [ 3., 4., 5.]], dtype=float32)

å¼ é‡å½¢çŠ¶ = å¼ é‡.get_shape()
å¼ é‡å½¢çŠ¶
# TensorShape([ç»´åº¦(2), ç»´åº¦(3)])
æ‰“å°å¼ é‡å½¢çŠ¶
# (2, 3)

num_rows = å¼ é‡_å½¢çŠ¶[0] # ???
num_cols = å¼ é‡_å½¢çŠ¶[1] # ???

å¼ é‡2 = tf.reshape(å¼ é‡, (num_rows*num_cols, 1))
# å›æº¯ï¼ˆæœ€è¿‘ä¸€æ¬¡è°ƒç”¨æœ€åä¸€æ¬¡ï¼‰ï¼š
# æ–‡ä»¶â€œâ€ï¼Œç¬¬ 1 è¡Œï¼Œåœ¨  ä¸­
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.pyâ€ï¼Œç¬¬ 1750 è¡Œï¼Œé‡å¡‘
# åå­—=åå­—ï¼‰
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.pyâ€ï¼Œç¬¬ 454 è¡Œï¼Œåœ¨ apply_op ä¸­
# as_ref=input_arg.is_ref)
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/ops.pyâ€ï¼Œç¬¬ 621 è¡Œï¼Œconvert_to_tensor
# ret = conversion_func(å€¼, dtype=dtype, name=name, as_ref=as_ref)
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/constant_op.pyâ€ï¼Œç¬¬ 180 è¡Œï¼Œåœ¨ _constant_tensor_conversion_function ä¸­
# è¿”å›å¸¸é‡(v, dtype=dtype, name=name)
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/constant_op.pyâ€ï¼Œç¬¬ 163 è¡Œï¼Œå¸¸é‡ä¸­
#tensor_util.make_tensor_proto(å€¼, dtype=dtype, shape=shape))
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/tensor_util.pyâ€ï¼Œç¬¬ 353 è¡Œï¼Œåœ¨ make_tensor_proto ä¸­
# _AssertCompatible(å€¼, dtype)
# æ–‡ä»¶â€œ/usr/local/lib/python2.7/site-packages/tensorflow/python/framework/tensor_util.pyâ€ï¼Œç¬¬ 290 è¡Œï¼Œåœ¨ _AssertCompatible ä¸­
# (dtype.name, repr(ä¸åŒ¹é…), ç±»å‹(ä¸åŒ¹é…).__name__))
# TypeError: åº”ä¸º int32ï¼Œå´å¾—åˆ°äº†â€œDimensionâ€ç±»å‹çš„ Dimension(6)ã€‚
]]></description>
      <guid>https://stackoverflow.com/questions/40666316/how-to-get-tensorflow-tensor-dimensions-shape-as-int-values</guid>
      <pubDate>Thu, 17 Nov 2016 22:37:28 GMT</pubDate>
    </item>
    </channel>
</rss>