<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>æ ‡è®°ä¸ºæœºå™¨å­¦ä¹ çš„æ´»è·ƒé—®é¢˜ - Thinbug</title>
    <link>https://stackoverflow.com/questions/tagged/?tagnames=machine-learning&sort=active</link>
    <description>æ¥è‡ª stackoverflow.com çš„æœ€æ–° 30 ä¸ª</description>
    <lastBuildDate>Sat, 03 Feb 2024 15:12:45 GMT</lastBuildDate>
    <item>
      <title>åœ¨ Rust-linfa ä¸­åŠ è½½ç”¨äºé¢„æµ‹çš„çº¿æ€§å›å½’æ¨¡å‹</title>
      <link>https://stackoverflow.com/questions/77932307/loading-a-linear-regression-model-back-up-for-prediction-in-rust-linfa</link>
      <description><![CDATA[æˆ‘å¯¹ Rust æ¯”è¾ƒé™Œç”Ÿï¼Œä¸€ç›´åœ¨ç ”ç©¶ linfa åœ¨ Rust ä¸­çš„æœºå™¨å­¦ä¹ ï¼Œç‰¹åˆ«æ˜¯çº¿æ€§å›å½’æ¨¡å‹ã€‚æˆ‘å¸Œæœ›èƒ½å¤Ÿä¿å­˜å’ŒåŠ è½½ç»è¿‡è®­ç»ƒçš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œä½†æˆ‘æ— æ³•æ‰¾åˆ°å®ç°æ­¤ç›®çš„çš„æ–¹æ³•ã€‚
åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘çš„æ–¹æ³•æ˜¯è·å–è®­ç»ƒä¸­æ¶‰åŠçš„ä¸»è¦å‚æ•°ï¼Œè¿™äº›å‚æ•°å¯ä»¥ä» linfa çš„çº¿æ€§å›å½’å®ç°ä¸­è·å–ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªå¯ä»¥å­˜å‚¨ä¸º JSON æ–‡ä»¶çš„ç»“æ„ä¸­ï¼ˆé€šè¿‡ serde_json å®Œæˆï¼‰ã€‚ç„¶è€Œï¼Œåœ¨æ­¤ä¹‹åæˆ‘ä¸çŸ¥é“å¦‚ä½•å°†å…¶åŠ è½½å›æ¥è¿›è¡Œè®­ç»ƒã€‚
ä»¥ä¸Šå†…å®¹è¯¦æƒ…å¦‚ä¸‹ï¼š
å­˜å‚¨è®­ç»ƒå‚æ•°çš„ç»“æ„ï¼š
struct ModelJson {
    ç³»æ•°ï¼šVec f64 ï¼Œ
    æ‹¦æˆªï¼šf64ï¼Œ
}

å­˜å‚¨è¿‡ç¨‹ï¼š
let model = lin_reg.fit(&amp;dataset)?;
è®© model_json = ModelJson {
    ç³»æ•°ï¼š model.params().to_vec(),
    æ‹¦æˆªï¼š model.intercept(),
};

å­˜å‚¨çš„æ•°æ®çœ‹èµ·æ¥å¦‚ä½•ï¼š
{â€œç³»æ•°â€:[-0.00017907873576254802,-0.00100659702068151,-0.0008275037845519519,0.0004613216043979551,0.00103006349345 99436]ï¼Œâ€œæ‹¦æˆªâ€ï¼š50.525680622870084}

å…³äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ•´ä¸ªæ¨¡å‹ï¼Œæˆ‘å‘ç°ä»¥ä¸‹ä¿¡æ¯è¡¨æ˜ linfa ä¸­æ”¯æŒç›¸åŒçš„æ“ä½œã€‚
åŠ è½½å’Œä¿å­˜æ¨¡å‹
è¿™å¼•å‡ºäº†æˆ‘çš„ç¬¬äºŒç§æ–¹æ³•ï¼Œå…¶ä¸­æˆ‘ä½¿ç”¨äº† linfa-linear çš„ serde åŠŸèƒ½ï¼ˆåŒ…å« LinearRegression æ¨¡å‹ï¼‰ï¼Œé¦–å…ˆåœ¨æˆ‘çš„ Cargo.toml ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
linfa-clustering = {version=&quot;0.7.0&quot;, features=[&quot;serde&quot;]}
æ ¹æ®æˆ‘å¯¹å®ç°çš„ç†è§£ï¼Œæ­¤åŠŸèƒ½ä¸º LinearRegression å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š
Serde åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç° - æ´¾ç”Ÿ
ä¸Šè¿°å®ç°ï¼š
&lt;å‰&gt;&lt;ä»£ç &gt;#[cfg_attr(
    ç‰¹å¾=â€œserdeâ€ï¼Œ
    æ´¾ç”Ÿï¼ˆåºåˆ—åŒ–ï¼Œååºåˆ—åŒ–ï¼‰ï¼Œ
    serde(crate = â€œserde_crateâ€)
)]
/// å¯ç”¨äºè¿›è¡Œé¢„æµ‹çš„æ‹Ÿåˆçº¿æ€§å›å½’æ¨¡å‹ã€‚
pub struct FittedLinearRegression; {
    æˆªè·ï¼šFï¼Œ
    å‚æ•°ï¼šArray1,
}

å‘ç°äºï¼š linfa-çº¿æ€§å¯¼å‡ºå®ç°
æˆ‘çš„å®ç°å¦‚ä¸‹ï¼š
let model = lin_reg.fit(&amp;dataset)?;
è®©åºåˆ—åŒ– = serde_json::to_string(&amp;model).unwrap();

ä½†æ˜¯æ­¤æ–¹æ³•å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
ä¸æ»¡è¶³ç‰¹å¾è¾¹ç•Œ `FittedLinearRegression: serde::ser::Serialize`
ä»¥ä¸‹å…¶ä»–ç±»å‹å®ç°äº†ç‰¹å¾ `serde::ser::Serialize`ï¼š
  å¸ƒå°”å€¼
  å­—ç¬¦
  å¤§å°
  i8
  i16
  i32
  i64
  i128
å’Œå…¶ä»– 133 ä¸ªrustcClick ä»¥è·å–å®Œæ•´çš„ç¼–è¯‘å™¨è¯Šæ–­
main.rs(82, 22)ï¼šæ­¤è°ƒç”¨å¼•å…¥çš„ç»‘å®šæ‰€éœ€

æ˜¯å¦æœ‰å…¶ä»–æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ–è€…æ˜¯å¦æœ‰æŸç§æ–¹æ³•å¯ä»¥ä½¿è¿™äº›æ–¹æ³•ä¹‹ä¸€å‘æŒ¥ä½œç”¨ï¼Ÿ

é˜¿è±éœ
]]></description>
      <guid>https://stackoverflow.com/questions/77932307/loading-a-linear-regression-model-back-up-for-prediction-in-rust-linfa</guid>
      <pubDate>Sat, 03 Feb 2024 13:44:24 GMT</pubDate>
    </item>
    <item>
      <title>ç”¨äºæœºå™¨å­¦ä¹ çš„æ•°æ®é›†ï¼Œè‡³å°‘åŒ…å« 100 åˆ—å’Œ 10,000 ä¸ªåŸå§‹æ•°æ®</title>
      <link>https://stackoverflow.com/questions/77931469/data-set-for-machine-learning-with-minimum-100-columns-and-10-000-raws</link>
      <description><![CDATA[æˆ‘æƒ³è¦ä¸€ä¸ªè‡³å°‘åŒ…å« 100 åˆ—å’Œ 10000 è¡Œçš„æ•°æ®é›†ã€‚æ‚¨ä¸èƒ½ä½¿ç”¨ä»»ä½•ç¼–ç¨‹è¯­è¨€æ¥ç”Ÿæˆå®ƒï¼Œå› ä¸ºå®ƒå°†ç”¨äºæœºå™¨å­¦ä¹ å®è·µ
æå‰æ„Ÿè°¢æ‚¨çš„å¸®åŠ©ğŸ™]]></description>
      <guid>https://stackoverflow.com/questions/77931469/data-set-for-machine-learning-with-minimum-100-columns-and-10-000-raws</guid>
      <pubDate>Sat, 03 Feb 2024 09:03:55 GMT</pubDate>
    </item>
    <item>
      <title>æœ‰äººå¯ä»¥è§£é‡Šä¸€ä¸‹åœ¨å…¶ä»–å±‚ä½†ä¸åœ¨ç¬¬ä¸€å±‚ä½¿ç”¨ BatchNorm2d çš„ç›®çš„å—</title>
      <link>https://stackoverflow.com/questions/77931391/can-someone-explain-the-purpose-of-using-batchnorm2d-in-the-other-layers-but-not</link>
      <description><![CDATA[æˆ‘æ­£åœ¨è®¾è®¡Discriminatorç±»ï¼Œæˆ‘åœ¨githubä¸Šçœ‹åˆ°æœ‰äººçš„å®ç°ï¼Œæˆ‘æ— æ³•å‘è‡ªå·±è§£é‡Šä¸ºä»€ä¹ˆbatchnormalizationè¢«ç”¨åœ¨conv2ï¼Œconv3ä¸­ï¼Œä½†ç‰¹åˆ«æ˜¯åœ¨ç¬¬ä¸€ä¸ªå·ç§¯å±‚ä¸­æ²¡æœ‰ï¼Œæˆ‘ä¸ºæ‚¨æä¾›äº†ä»£ç ç±»è¿˜æœ‰è½¬æ¢å‡½æ•°
ç±»é‰´åˆ«å™¨ï¼ˆnn.Moduleï¼‰ï¼š
    def __init__(self, conv_dim = 32):
        super(é‰´åˆ«å™¨, self).__init__()

        self.conv_dim = conv_dim
        
        self.conv1 = conv(
            3ã€conv_dimã€4ã€batch_norm = False
        ï¼‰
        self.conv2 = conv(
            è½¬æ¢äº®åº¦, è½¬æ¢äº®åº¦ * 2, 4
        ï¼‰
        self.conv3 = conv(
            è½¬æ¢äº®åº¦ * 2, è½¬æ¢äº®åº¦ * 4, 4
        ï¼‰
        self.fc = nn.Linear(
            å·ç§¯æš—åº¦ * 4 * 4 * 4, 1
        ï¼‰
    def å‰å‘ï¼ˆè‡ªèº«ï¼Œxï¼‰ï¼š
        leaky_relu = F.leaky_relu
        è¾“å‡º=leaky_reluï¼ˆ
            è‡ªè½¬æ¢1(x), 0.2
        ï¼‰
        è¾“å‡º=leaky_reluï¼ˆ
            self.conv2(è¾“å‡º), 0.2
        ï¼‰
        è¾“å‡º=leaky_reluï¼ˆ
            self.conv3(è¾“å‡º), 0.2
        ï¼‰
        è¾“å‡º = out.view(-1, self.conv_dim * 4 * 4 * 4)
        è¾“å‡º = self.fc(è¾“å‡º)
        è¿”å›

æˆ‘å°è¯•è¯¢é—® ChatGPTï¼Œä½†å®ƒæ²¡æœ‰ç»™å‡ºä¸€è‡´çš„ç­”æ¡ˆ]]></description>
      <guid>https://stackoverflow.com/questions/77931391/can-someone-explain-the-purpose-of-using-batchnorm2d-in-the-other-layers-but-not</guid>
      <pubDate>Sat, 03 Feb 2024 08:35:38 GMT</pubDate>
    </item>
    <item>
      <title>åœ¨ TensorFlow ä¸­ä½¿ç”¨ç¥ç»ç½‘ç»œè¿›è¡ŒåŠ¨ç‰©æ£€æµ‹</title>
      <link>https://stackoverflow.com/questions/77931021/animal-detection-using-neural-network-in-tensorflow</link>
      <description><![CDATA[å½“æˆ‘è¿è¡Œæœ€åä¸€éƒ¨åˆ†æ¥è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæˆ‘æ— æ³•æ£€æŸ¥å›¾åƒæ˜¯å¦æœ‰é”™è¯¯ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæˆ‘æƒ³æ£€æµ‹æˆ‘æ˜¯å¦èƒ½å¤Ÿè®­ç»ƒæˆ‘çš„æ¨¡å‹æ¥æ£€æµ‹åŠ¨ç‰©ï¼Œä¾‹å¦‚åŠ¨ç‰©ã€‚çŒ«å’Œç‹—ä¹‹é—´ã€‚ æ•°æ®é›†ã€‚
å°† pandas å¯¼å…¥ä¸º pd
å°† numpy å¯¼å…¥ä¸º np
ä»tensorflow.keras.modelså¯¼å…¥é¡ºåº
ä»tensorflow.keras.layerså¯¼å…¥Conv2D
ä»tensorflow.keras.layerså¯¼å…¥MaxPooling2D
ä»tensorflow.keras.layerså¯¼å…¥Flatten
ä»tensorflow.keras.layerså¯¼å…¥Dense

# åˆå§‹åŒ– CNN
åˆ†ç±»å™¨=é¡ºåºï¼ˆï¼‰

ï¼ƒå·ç§¯
classifier.add(Conv2D(32,(3,3), input_shape = (64, 64, 3), æ¿€æ´» = &#39;relu&#39;))

# æ± åŒ–
classifier.add(MaxPooling2D(pool_size = (2,2)))

# æ·»åŠ ç¬¬äºŒä¸ªå·ç§¯å±‚
classifier.add(Conv2D(32, (3,3), æ¿€æ´» = &#39;relu&#39;))
classifier.add(MaxPooling2D(pool_size = (2,2)))

# å±•å¹³
åˆ†ç±»å™¨.add(Flatten())

# å…¨è¿æ¥
classifier.addï¼ˆå¯†é›†ï¼ˆå•ä½= 128ï¼Œæ¿€æ´»=&#39;relu&#39;ï¼‰ï¼‰
classifier.add(Dense(å•ä½ = 1, æ¿€æ´» = &#39;sigmoid&#39;))

# ç¼–è¯‘ CNN
classifier.compileï¼ˆä¼˜åŒ–å™¨=&#39;adam&#39;ï¼ŒæŸå¤±=&#39;binary_crossentropy&#39;ï¼ŒæŒ‡æ ‡= [&#39;å‡†ç¡®æ€§&#39;]ï¼‰

# å°† CNN æ‹Ÿåˆåˆ°å›¾åƒä¸Š

ä» keras.preprocessing.image å¯¼å…¥ ImageDataGenerator
train_datagen = ImageDataGenerator(é‡æ–°ç¼©æ”¾ = 1./255,
                                  å‰ªåˆ‡èŒƒå›´ = 0.2,
                                  ç¼©æ”¾èŒƒå›´ = 0.2,
                                  æ°´å¹³ç¿»è½¬=çœŸï¼‰

training_set = train_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\training_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

test_datagen = ImageDataGeneratorï¼ˆé‡æ–°ç¼©æ”¾= 1./255ï¼‰
test_set = test_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\test_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

åˆ†ç±»å™¨.fitï¼ˆè®­ç»ƒé›†ï¼Œ
               æ¯çºªå…ƒçš„æ­¥æ•°=700ï¼Œ
               çºªå…ƒ=10ï¼Œ
               éªŒè¯æ•°æ®=æµ‹è¯•é›†ï¼Œ
               éªŒè¯æ­¥éª¤=10)
train_datagen = ImageDataGenerator(é‡æ–°ç¼©æ”¾ = 1./255,
                                  å‰ªåˆ‡èŒƒå›´ = 0.2,
                                  ç¼©æ”¾èŒƒå›´ = 0.2,
                                  æ°´å¹³ç¿»è½¬=çœŸï¼‰

training_set = train_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\training_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

test_datagen = ImageDataGeneratorï¼ˆé‡æ–°ç¼©æ”¾= 1./255ï¼‰
test_set = test_datagen.flow_from_directory(r&quot;D:\ç¥ç»ç½‘ç»œ\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-20240203T042209Z-001\ç¥ç»ç½‘ç»œå®Œæ•´è¯¾ç¨‹-å¤åˆ¶\ç¥ç»ç½‘ç»œ\test_set&quot;,
                                                ç›®æ ‡å¤§å°= (64,64),
                                                æ‰¹é‡å¤§å° = 32,
                                                ç±»æ¨¡å¼ = &#39;åˆ†ç±»&#39;)

##### è¿™é‡Œæˆ‘æ”¶åˆ°é”™è¯¯
åˆ†ç±»å™¨.fitï¼ˆè®­ç»ƒé›†ï¼Œ
               æ¯çºªå…ƒçš„æ­¥æ•°=700ï¼Œ
               çºªå…ƒ=10ï¼Œ
               éªŒè¯æ•°æ®=æµ‹è¯•é›†ï¼Œ
               éªŒè¯æ­¥éª¤=10)

é”™è¯¯ï¼š
]]></description>
      <guid>https://stackoverflow.com/questions/77931021/animal-detection-using-neural-network-in-tensorflow</guid>
      <pubDate>Sat, 03 Feb 2024 05:55:16 GMT</pubDate>
    </item>
    <item>
      <title>PyTorch CCN å‹‰å¼ºè®­ç»ƒ</title>
      <link>https://stackoverflow.com/questions/77931017/pytorch-ccn-barely-training</link>
      <description><![CDATA[]]></description>
      <guid>https://stackoverflow.com/questions/77931017/pytorch-ccn-barely-training</guid>
      <pubDate>Sat, 03 Feb 2024 05:53:27 GMT</pubDate>
    </item>
    <item>
      <title>ä¸ºä»€ä¹ˆå˜å‹å™¨å¯ä»¥æ¥å—ä¸åŒé•¿åº¦çš„è¾“å…¥ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77930859/how-come-transformers-can-accept-inputs-of-different-length</link>
      <description><![CDATA[æˆ‘è¯»äº†â€œä½ æ‰€éœ€è¦çš„å°±æ˜¯æ³¨æ„åŠ›â€è®ºæ–‡ï¼Œæè¿°äº†å˜å‹å™¨çš„æ¶æ„ã€‚åœ¨ Transformer ä¸­ï¼Œæœ‰ä¸€ä¸ªå«åš masked multi-head Attention çš„ç»„ä»¶ï¼Œä»…åœ¨è§£ç å™¨éƒ¨åˆ†ä½¿ç”¨ã€‚
é—®é¢˜æ˜¯ï¼Œè§£ç å™¨çš„è¾“å…¥æ˜¯ç¼–ç å™¨çš„è¾“å‡ºä»¥åŠä¹‹å‰ç”Ÿæˆçš„æ ‡è®°ã€‚å¹¶ä¸”ä¹‹å‰æ¯æ¬¡è¿­ä»£ç”Ÿæˆçš„tokenæ•°é‡ä¸åŒï¼Œä½†æ˜¯çº¿æ€§å±‚çš„ç¥ç»å…ƒæ•°é‡æ˜¯ç›¸åŒçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨â€œpad tokensâ€æ¥å®ç°ã€‚å¹¶ä¸”ä½¿ç”¨å±è”½æ³¨æ„åŠ›æ¥å¯¹è¿™äº› pad token ç»™äºˆ 0 æ³¨æ„åŠ›ã€‚
ç¼–ç å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è¾“å…¥å¯ä»¥æ˜¯ä¸åŒçš„å¤§å°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¿…é¡»ä½¿ç”¨å¡«å……ä»¤ç‰Œï¼Œä½†åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨å±è”½æ³¨æ„åŠ›ï¼Œæˆ‘å¾ˆå¥½å¥‡ï¼Œä¸ºä»€ä¹ˆï¼Ÿ
æˆ–è€…æˆ‘ä»¬ä¸åœ¨é‚£é‡Œä½¿ç”¨å¡«å……ä»¤ç‰Œï¼Œè€Œæ˜¯ä½¿ç”¨å…¶ä»–ä¸œè¥¿ï¼Ÿ
åœ¨æˆ‘ä¸ Chat-GPT çš„ç¬¬ä¸€æ¬¡å¯¹è¯ä¸­ï¼Œå®ƒå‘Šè¯‰æˆ‘æˆ‘ä»¬ä½¿ç”¨ pad ä»¤ç‰Œï¼Œè€Œåœ¨ç¬¬äºŒæ¬¡å¯¹è¯ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ã€‚æˆ‘å¾ˆå›°æƒ‘ï¼Œæˆ‘ä»€è‡³ä¸çŸ¥é“è¯¥ç›¸ä¿¡ä»€ä¹ˆã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77930859/how-come-transformers-can-accept-inputs-of-different-length</guid>
      <pubDate>Sat, 03 Feb 2024 04:28:27 GMT</pubDate>
    </item>
    <item>
      <title>VertexAIException - è°ƒç”¨ Gemini-Pro API æ—¶åˆ—è¡¨ç´¢å¼•è¶…å‡ºèŒƒå›´é”™è¯¯</title>
      <link>https://stackoverflow.com/questions/77930819/vertexaiexception-list-index-out-of-range-error-when-calling-gemini-pro-api</link>
      <description><![CDATA[æˆ‘æ­£åœ¨ä»¥è¿ç»­çš„æ–¹å¼è°ƒç”¨ Google Gemini-Pro APIï¼ˆå¤§çº¦æ¯åˆ†é’Ÿ 50 ä¸ªæŸ¥è¯¢ï¼‰ã€‚æˆ‘ç›¸ä¿¡æˆ‘å·²ç»æ­£ç¡®è®¾ç½®äº†æˆ‘çš„ VertexAI é¡¹ç›®å’Œå‡­æ®ã€‚å½“æˆ‘ä½¿ç”¨çš„è¿ç»­æŸ¥è¯¢æ•°é‡ä½äºæ’å®šæ¡æ—¶ï¼ŒæŸ¥è¯¢å°†è¿è¡Œå¹¶ä¸”å¯ä»¥å¾ˆå¥½åœ°æ”¶åˆ°å“åº”ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦æŸ¥è¯¢æ•°é‡è¶…è¿‡ä¸Šè¿°æ ï¼Œå°±ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
&lt;å—å¼•ç”¨&gt;
ç´¢å¼•é”™è¯¯ - åˆ—è¡¨ç´¢å¼•è¶…å‡ºèŒƒå›´

è¯·æ³¨æ„ï¼ŒæŸ¥è¯¢æ•°é‡â€œbarâ€æ˜¯å‘ç”Ÿæ­¤é”™è¯¯çš„æ—¶é—´å–å†³äºæ¯ä¸ªæŸ¥è¯¢çš„é•¿åº¦ï¼Œå¹¶ä¸”å¦‚æœæŸ¥è¯¢é•¿åº¦åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ä¿æŒç›¸åŒï¼Œåˆ™è¯¥é”™è¯¯æ˜¯ä¸€è‡´çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨å°è¯•å°†æŸ¥è¯¢é•¿åº¦å¢åŠ å¤§çº¦ 20% åï¼ŒæŸ¥è¯¢é•¿åº¦ä»å¤§çº¦ 330 ä¸ªæŸ¥è¯¢ä¸‹é™åˆ°å¤§çº¦ 60 ä¸ªæŸ¥è¯¢ã€‚
&lt;å—å¼•ç”¨&gt;
æ–‡ä»¶
â€œ/Users/user/anaconda3/envs/chat1/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.pyâ€ï¼Œ
ç¬¬ 1315 è¡Œï¼Œæ–‡æœ¬
è¿”å› self.candidates[0].text
~~~~~~~~~~~~~~~^^^ IndexErrorï¼šåˆ—è¡¨ç´¢å¼•è¶…å‡ºèŒƒå›´

è¿™æ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Ÿæˆ‘å·²å°† VertexAI æœåŠ¡å™¨ä½ç½®è®¾ç½®ä¸ºï¼šâ€œus-central1â€ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œè¯¥ä½ç½®çš„é…é¢åº”è¯¥ä¸º 300 ä¸ªæŸ¥è¯¢/åˆ†é’Ÿã€‚ç”±äºæˆ‘è¿ç»­æ‰§è¡Œ API è°ƒç”¨ï¼Œä½†ä½äºæ¯åˆ†é’Ÿ 60 æ¬¡æŸ¥è¯¢çš„é€Ÿç‡ï¼Œå› æ­¤æˆ‘è®¤ä¸ºæˆ‘å¤„äºä½¿ç”¨æ­£å¸¸èŒƒå›´ã€‚æˆ‘ç›®å‰æ­£åœ¨ä½¿ç”¨å…è´¹çš„ VertexAI è¯•ç”¨å¸æˆ·ï¼ˆæœ‰ 300 ç¾å…ƒçš„å…è´¹ä¿¡ç”¨ï¼‰ã€‚
æˆ‘å†™çš„Gemini Pro APIè°ƒç”¨å‡½æ•°æ˜¯ï¼š
def gemini_response(message: str) -&gt; &gt;å­—ç¬¦ä¸²ï¼š
    # åˆå§‹åŒ–é¡¶ç‚¹AI
    vertexai.init(project=â€œproject-id-0123â€, location=â€œus-central1â€)

    # åŠ è½½æ¨¡å‹
    æ¨¡å‹ = GenerativeModel(â€œgemini-proâ€)

    # æŸ¥è¯¢æ¨¡å‹
    å“åº” = model.generate_content(æ¶ˆæ¯)
    è¿”å›å“åº”.æ–‡æœ¬
]]></description>
      <guid>https://stackoverflow.com/questions/77930819/vertexaiexception-list-index-out-of-range-error-when-calling-gemini-pro-api</guid>
      <pubDate>Sat, 03 Feb 2024 04:05:38 GMT</pubDate>
    </item>
    <item>
      <title>ä¸ºä»€ä¹ˆ CreateML åªæ£€æµ‹åˆ° JSON æ–‡ä»¶ä¸­çš„ä¸€ä¸ªç±»ï¼Œè€Œå®é™…ä¸Šæˆ‘æœ‰ 2 ä¸ªç±»ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77930615/why-is-createml-only-detecting-one-class-within-my-json-file-when-i-actually-ha</link>
      <description><![CDATA[æˆ‘æ­£åœ¨å¼€å‘ä¸€ä¸ªå¯¹è±¡æ£€æµ‹æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæˆ‘å†³å®šä½¿ç”¨ CreateML æ¥è®­ç»ƒå®ƒã€‚æˆ‘å¸Œæœ›æˆ‘çš„æ¨¡å‹èƒ½å¤ŸåŒºåˆ†è‹¹æœå’Œæ©™å­ã€‚
åœ¨å¼€å§‹è®­ç»ƒä¹‹å‰ï¼Œæˆ‘å¿…é¡»æä¾›æˆ‘çš„â€œè®­ç»ƒæ•°æ®â€åˆ° CreateMLï¼Œå…¶ä¸­åŒ…æ‹¬æˆ‘çš„ JSON æ–‡ä»¶ï¼ˆå¸¦æœ‰æˆ‘çš„å›¾åƒæ³¨é‡Šï¼‰ã€‚åœ¨æˆ‘çš„ JSON æ–‡ä»¶ä¸­ï¼Œæˆ‘å¸Œæœ›æ¨¡å‹èƒ½å¤Ÿæ£€æµ‹åˆ° 2 ä¸ªç±»ï¼ˆè‹¹æœå’Œæ©™å­ï¼‰ã€‚
ä½†ç”±äºæŸç§åŸå› ï¼ŒCreateML ä»…æ£€æµ‹ç±»â€œappleâ€ã€‚ ä¸‹é¢æ˜¯æˆ‘çš„ JSON æ–‡ä»¶çš„ä¸€å°éƒ¨åˆ†çš„å›¾åƒï¼Œå…¶ä¸­åŒ…æ‹¬â€œappleâ€çš„ä¸€ä¸ªæ³¨é‡Šå’Œâ€œæ©™è‰²â€ã€‚
è¿™æ˜¯æˆ‘çš„ JSON æ³¨é‡Šçš„å°å›¾ç‰‡ï¼ŒåŒ…æ‹¬æˆ‘çš„ç±»â€œappleâ€å’Œå’Œâ€œæ©™è‰²â€
æ­¤å¤–ï¼ŒCreateML è¡¨ç¤ºæˆ‘å¯¹æ ‡ç­¾â€œappleâ€çš„è®¡æ•°ä¸º 37ã€‚æ‰‹åŠ¨ç»Ÿè®¡åï¼Œæˆ‘å‘ç°è¿™æ˜¯ä¸å‡†ç¡®çš„ï¼›å®é™…ä¸Šï¼Œæˆ‘å¯¹â€œappleâ€ç±»çš„è®¡æ•°æ˜¯ 97ã€‚ ä¸‹é¢æ˜¯ä»£è¡¨è¿™ä¸€ç‚¹çš„å›¾åƒã€‚
CreateML å‘æˆ‘å±•ç¤ºäº†æˆ‘çš„ JSON æ–‡ä»¶è®¡æ•°ã€‚å®ƒåªå‘æˆ‘å±•ç¤ºäº†â€œappleâ€ç±»ï¼Œä½†æˆ‘ä¹Ÿæœ‰ä¸€ä¸ªâ€œæ©™è‰²â€ç±»ã€‚
æœ€åˆï¼Œæˆ‘çš„ JSON æ–‡ä»¶ä¸­çš„ä¸€äº›æ³¨é‡Šå…·æœ‰ä¸åŒçš„å±æ€§ã€‚ä¾‹å¦‚ï¼Œâ€œåæ ‡â€å¯ä»¥æ˜¯â€œåæ ‡â€ã€‚æˆ‘çš„éƒ¨åˆ†æ³¨é‡Šæœ‰æ—¶æœ‰æ•´æ•°å€¼ï¼Œæœ‰æ—¶æœ‰å°æ•°å€¼ã€‚æˆ‘æ„è¯†åˆ°è¿™å¯èƒ½ä¼šå¸¦æ¥é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘å°†å®ƒä»¬å…¨éƒ¨æ›´æ”¹ä¸ºæ•´æ•°å€¼ã€‚å®ƒæœ€ç»ˆæ²¡æœ‰æˆåŠŸã€‚
æ­¤å¤–ï¼Œæˆ‘è¿˜è¿›è¡Œäº†ä¸€ä¸ªå°å®éªŒã€‚å› ä¸ºæˆ‘æ‰€æœ‰çš„â€œè‹¹æœâ€éƒ½æ˜¯æ³¨é‡Šä½äºæ–‡ä»¶çš„æœ€é¡¶éƒ¨ï¼Œæ‰€æœ‰â€œæ©™è‰²â€éƒ½ä½äºæ–‡ä»¶çš„æœ€é¡¶éƒ¨ã€‚æ³¨é‡Šåœ¨åº•éƒ¨ï¼Œæˆ‘ç¿»è½¬é¡ºåºçœ‹çœ‹ç»“æœã€‚æˆ‘æŠŠæ‰€æœ‰çš„â€œæ©™è‰²â€éƒ½æ”¾åœ¨äº†æ³¨é‡Šåœ¨é¡¶éƒ¨ã€‚ä»¤æˆ‘æƒŠè®¶çš„æ˜¯ï¼ŒCreateML ä»ç„¶å‘Šè¯‰æˆ‘æœ‰ä¸€ä¸ªç±»ï¼Œä½†è¿™æ¬¡å®ƒè¯´è¯¥ç±»åä¸ºâ€œorangeï¼â€ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Ÿ
æœ‰äººå¬è¯´è¿‡è¿™ä¸ªå—ï¼Ÿæˆ‘è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77930615/why-is-createml-only-detecting-one-class-within-my-json-file-when-i-actually-ha</guid>
      <pubDate>Sat, 03 Feb 2024 01:48:45 GMT</pubDate>
    </item>
    <item>
      <title>å°è¯•åœ¨æœ¬åœ°è¿è¡Œ falcon-40b æ¨¡å‹ã€‚éœ€è¦å¸®åŠ©ï¼Œæ¨¡å‹æ²¡æœ‰ç»™å‡ºä»»ä½•è¾“å‡ºï¼Œå¹¶ä¸”åœ¨ VS Code ä¸Šæ˜¾ç¤ºé€€å‡ºä»£ç  1</title>
      <link>https://stackoverflow.com/questions/77930495/trying-to-run-falcon-40b-model-locally-need-help-the-model-is-not-giving-any-ou</link>
      <description><![CDATA[æˆ‘æœ‰ Nvidia rtx 3060ï¼Œå¹¶å†³å®šåœ¨æˆ‘è‡ªå·±çš„é¡¹ç›®ä¸­å°è¯•ä¸€ä¸‹ã€‚æ‰€ä»¥æˆ‘å·²å°†æ‰€æœ‰æ¨¡å‹æ–‡ä»¶ä¸‹è½½åˆ°æ–‡ä»¶å¤¹ ./Model ä¸­ï¼Œä¸ app.py å¹¶è¡Œã€‚æˆ‘åªæ˜¯æƒ³åœ¨ç»§ç»­ä¹‹å‰æµ‹è¯•ä¸€ä¸‹æ³•å­¦ç¡•å£«ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘å°è¯•æ‰§è¡Œä»£ç æ—¶ï¼Œå®ƒä¸ä¼šäº§ç”Ÿä»»ä½•è¾“å‡ºï¼Œè€Œä¸”å½“æˆ‘å°†é¼ æ ‡æ‚¬åœåœ¨ VScode ä¸Šæ‰§è¡Œçš„å‘½ä»¤ä¸Šæ—¶ï¼Œå®ƒä¼šæ˜¾ç¤º Command Executed now and failed (Exit Code 1)ã€‚
æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š
ä»å˜å‹å™¨å¯¼å…¥ AutoModelForCausalLM, AutoTokenizer
è¿›å£ç«ç‚¬

# è®¾ç½®æ¨¡å‹ç›®å½•çš„è·¯å¾„
model_directory = &quot;./model&quot;;

# ä»æŒ‡å®šç›®å½•åˆå§‹åŒ–åˆ†è¯å™¨å’Œæ¨¡å‹
tokenizer = AutoTokenizer.from_pretrained(model_directory)
æ¨¡å‹ = AutoModelForCausalLM.from_pretrained(model_directory)

# ç¡®ä¿æ¨¡å‹æ­£åœ¨ä½¿ç”¨ GPU
æ¨¡å‹ = model.to(â€œcudaâ€)

# å®šä¹‰æç¤º
æç¤º=â€œâ€â€œ
&lt;äººç±»&gt;ï¼šåƒæˆ‘äº”å²ä¸€æ ·è§£é‡Šä¸€ä¸‹LLMS
&lt;åŠ©ç†&gt;ï¼š
â€â€œâ€

# ç”Ÿæˆé…ç½®
ç”Ÿæˆé…ç½®={
    &quot;max_length&quot;: 200, # è°ƒæ•´ç”Ÿæˆtokençš„æœ€å¤§é•¿åº¦
    â€œæ¸©åº¦â€: 0.7, # æ¸©åº¦æ§åˆ¶éšæœºæ€§
    &quot;top_p&quot;: 0.7, # top_pæ§åˆ¶æ ¸é‡‡æ ·
    &quot;num_return_sequences&quot;: 1, # è¦ç”Ÿæˆçš„åºåˆ—æ•°
    &quot;pad_token_id&quot;: tokenizer.eos_token_id, # å¡«å……ä»¤ç‰Œ
    &quot;eos_token_id&quot;: tokenizer.eos_token_id, # åºåˆ—ç»“æŸæ ‡è®°
}

# å¯¹æç¤ºè¿›è¡Œç¼–ç 
ç¼–ç  = tokenizer(æç¤º, return_tensors=â€œptâ€).to(â€œcudaâ€)

# ä½¿ç”¨ç¼–ç çš„æç¤ºå’Œç”Ÿæˆé…ç½®ç”Ÿæˆå“åº”
with torch.no_grad(): # ç¦ç”¨æ¢¯åº¦è®¡ç®—ä»¥èŠ‚çœå†…å­˜å¹¶åŠ å¿«è®¡ç®—é€Ÿåº¦
    è¾“å‡º = model.generate(
        input_ids=ç¼–ç [â€œinput_idsâ€],
        æ³¨æ„æ©ç =ç¼–ç [â€œæ³¨æ„æ©ç â€]ï¼Œ
        **ç”Ÿæˆ_é…ç½®
    ï¼‰

# å°†ç”Ÿæˆçš„ token è§£ç ä¸ºæ–‡æœ¬
generated_text = tokenizer.decode(outputs[0],skip_special_tokens=True)

# æ‰“å°ç”Ÿæˆçš„æ–‡æœ¬
æ‰“å°ï¼ˆç”Ÿæˆçš„æ–‡æœ¬ï¼‰

ä»¥ä¸‹æ˜¯ VScode å±å¹•æˆªå›¾ï¼š
VScode æ˜¾ç¤ºé€€å‡ºä»£ç 
æˆ‘åšé”™äº†ä»€ä¹ˆä»¥åŠå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ
æˆ‘å°è¯•æ‰§è¡Œä¸Šé¢ç»™å‡ºçš„ä»£ç ã€‚æˆ‘åº”è¯¥æ”¶åˆ°çŸ­ä¿¡å›å¤ï¼Œä½†æˆ‘ä»€ä¹ˆä¹Ÿæ²¡æ”¶åˆ°ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77930495/trying-to-run-falcon-40b-model-locally-need-help-the-model-is-not-giving-any-ou</guid>
      <pubDate>Sat, 03 Feb 2024 00:38:50 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•ä¿®å¤ä¸€å±‚çš„è¾“å‡ºï¼Œä½¿å…¶ä¸å¦ä¸€å±‚å…¼å®¹ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77930107/how-do-i-fix-the-output-of-one-layer-so-it-is-compatible-to-another-layer</link>
      <description><![CDATA[æˆ‘çš„è¾“å…¥æ˜¯ç”± 21 ä¸ªæ°¨åŸºé…¸æ ‡ç­¾ç¼–ç çš„åºåˆ—ã€‚å®ƒæ˜¯ä¸€ä¸ªåŒ…å« 21 ä¸ªå…ƒç´  (1x21) çš„æ•°ç»„ã€‚æˆ‘æƒ³é€šè¿‡åµŒå…¥å±‚ç„¶åé€šè¿‡å·ç§¯å±‚ï¼ˆç­‰ç­‰ï¼‰å°†å…¶æä¾›ç»™å®ƒã€‚ä½†å®ƒä¸å…è®¸æˆ‘æ·»åŠ å·ç§¯å±‚ã€‚æˆ‘æ˜ç™½ä¸ºä»€ä¹ˆï¼ˆè¾“å‡ºå’Œè¾“å…¥çš„å°ºå¯¸ä¸åŒ¹é…ï¼‰ï¼Œä½†æˆ‘ä¸çŸ¥é“å¦‚ä½•ä¿®å¤å®ƒã€‚
è¿™æ˜¯æˆ‘çš„ä»£ç ï¼š
&lt;å‰&gt;&lt;ä»£ç &gt;embeded_vector_size = 9
æœ€å¤§é•¿åº¦ = 21
vocab_size = len(æ ‡ç­¾)
æ¨¡å‹=é¡ºåºï¼ˆï¼‰
model.addï¼ˆåµŒå…¥ï¼ˆvocab_sizeï¼Œembeded_vector_sizeï¼Œinput_length = max_lengthï¼Œname =â€œåµŒå…¥â€ï¼‰ï¼‰
model.add(Conv2D(filters=64,activation=&#39;relu&#39;, kernel_size=(10, 3), input_shape=(21, 9, 1)))

æˆ‘æ”¶åˆ°æ­¤é”™è¯¯ï¼š
å±‚â€œconv2d_17â€çš„è¾“å…¥ 0ä¸å›¾å±‚ä¸å…¼å®¹ï¼šé¢„æœŸ min_ndim=4ï¼Œå‘ç° ndim=3ã€‚æ”¶åˆ°å®Œæ•´å½¢çŠ¶ï¼šï¼ˆæ— ã€21ã€9ï¼‰

å®Œæ•´å›æº¯ï¼š
ValueError Tracebackï¼ˆæœ€è¿‘ä¸€æ¬¡è°ƒç”¨æœ€åä¸€æ¬¡ï¼‰
[177] ä¸­çš„å•å…ƒæ ¼ï¼Œç¬¬ 7 è¡Œ
      5 model.add(Embedding(vocab_size,embeded_vector_size,input_length=max_length, name=â€œembeddingâ€))
      6 æ‰“å°(æ¨¡å‹.summary())
----&gt; 7 model.add(Conv2D(filters=3,activation=&#39;relu&#39;, kernel_size=(10, 3), input_shape=(21, 9, 1)))
      8 # æ‰“å°(æ¨¡å‹.summary())
      9 # æ¨¡å‹.add(MaxPooling2D())

æ–‡ä»¶ /opt/conda/lib/python3.10/site-packages/tensorflow/python/trackable/base.py:204ï¼Œåœ¨ no_automatic_dependency_tracking.._method_wrapper(self, *args, **kwargs)
    ç¬¬202ç« 
    203 å°è¯•ï¼š
--&gt; [ç¬¬ 204 ç« ]
    205 æœ€åï¼š
    206 self._self_setattr_tracking = previous_value # pylintï¼šç¦ç”¨=å—ä¿æŠ¤è®¿é—®

æ–‡ä»¶ /opt/conda/lib/python3.10/site-packages/keras/src/utils/traceback_utils.py:70ï¼Œä½äºfilter_traceback..error_handler(*args, **kwargs)
     67ã€filtered_tb = _process_traceback_framesï¼ˆe.__traceback__ï¼‰
     68 # è¦è·å–å®Œæ•´çš„å †æ ˆè·Ÿè¸ªï¼Œè¯·è°ƒç”¨ï¼š
     69 # `tf.debugging.disable_traceback_filtering()`
---&gt; 70 ä» None å¼•å‘ e.with_traceback(filtered_tb)
     71 æœ€åï¼š
     72 åˆ é™¤filtered_tb

æ–‡ä»¶/opt/conda/lib/python3.10/site-packages/keras/src/engine/input_spec.py:253ï¼Œåœ¨assert_input_compatibility(input_specã€inputsã€layer_name)ä¸­
    ç¬¬251ç« 
    [252] ç¬¬252è¯è§„æ ¼.min_ndim:
--&gt;ç¬¬253ç« 
    254 f&#39;å±‚â€œ{layer_name}â€çš„è¾“å…¥{input_index} &#39;
    255ã€â€œä¸å±‚ä¸å…¼å®¹ï¼šâ€
    [256] ç¬¬256è¯
    257 fâ€å‘ç° ndim={ndim}ã€‚ â€
    258 fâ€œæ¥æ”¶åˆ°å®Œæ•´å½¢çŠ¶ï¼š{tuple(shape)}â€
    ç¬¬259ç« ï¼‰
    260 # æ£€æŸ¥æ•°æ®ç±»å‹ã€‚
    ç¬¬261ç« 

ValueErrorï¼šå±‚â€œconv2d_17â€çš„è¾“å…¥ 0ä¸å›¾å±‚ä¸å…¼å®¹ï¼šé¢„æœŸ min_ndim=4ï¼Œå‘ç° ndim=3ã€‚æ”¶åˆ°å®Œæ•´å½¢çŠ¶ï¼šï¼ˆæ— ã€21ã€9ï¼‰

å¦‚ä½•è§£å†³ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77930107/how-do-i-fix-the-output-of-one-layer-so-it-is-compatible-to-another-layer</guid>
      <pubDate>Fri, 02 Feb 2024 22:14:15 GMT</pubDate>
    </item>
    <item>
      <title>å°è¯•ä½¿ç”¨ Gemini-Pro åˆ¶ä½œ LLM èŠå¤©æœºå™¨äººæ—¶å‡ºç°ç±»å‹é”™è¯¯</title>
      <link>https://stackoverflow.com/questions/77929619/type-error-when-trying-to-make-a-llm-chatbot-using-gemini-pro</link>
      <description><![CDATA[è¿™æ˜¯ä»£ç 
å¯¼å…¥æ“ä½œç³»ç»Ÿ

å°†streamlitå¯¼å…¥ä¸ºst
ä» dotenv å¯¼å…¥ load_dotenv
å°† google.generativeai å¯¼å…¥ä¸º gen_ai

åŠ è½½_dotenv()

st.set_page_config(
    page_title=&quot;ä¸ Gemini Pro èŠå¤©&quot;,
    page_icon=&quot;:å¤§è„‘:&quot;,
    å¸ƒå±€=â€œå±…ä¸­â€
ï¼‰

GOOGLE_API_KEY = os.getenv(â€œGOOGLE_API_KEYâ€)
gen_ai.configure(api_key=GOOGLE_API_KEY)
æ¨¡å‹ = gen_ai.GenerativeModel(â€œgemini-proâ€)

deftranslate_role_for_streamlit(user_role):
  å¦‚æœ user_role == â€œæ¨¡å‹â€ï¼š
    è¿”å›â€œåŠ©æ‰‹â€
  åˆ«çš„ï¼š
    è¿”å›ç”¨æˆ·è§’è‰²

å¦‚æœâ€œèŠå¤©ä¼šè¯â€æ˜¯ä¸åœ¨ st.session_state ä¸­ï¼š
  st.session_state.chat_session = model.start_chat(history=[])
st.title(â€œCAIE æœºå™¨äººâ€)

å¯¹äº st.session_state.chat_session.history ä¸­çš„æ¶ˆæ¯ï¼š
  ä¸ st.chat_message(translate_role_for_streamlit(message.role))ï¼š
    st.markdown(message.parts[0].text)

user_prompt = st.chat_input(â€œè¯¢é—® CAIE æœºå™¨äºº...â€)
å¦‚æœç”¨æˆ·æç¤ºï¼š
  st.chat_message(â€œç”¨æˆ·â€).markdown(user_prompt)
  gemini_response = st.session_state.chat_session.send_message(user_prompt)
  ä¸ st.chat_message(â€œåŠ©ç†â€)ï¼š
    st.markdown(gemini_response.text)

!streamlit è¿è¡Œ main.py

æˆ‘åœ¨çº¿è·¯ä¸­é‡åˆ°é”™è¯¯
å¦‚æœâ€œchat_sessionâ€æ˜¯ä¸åœ¨ st.session_state ä¸­ï¼š

æˆ‘æƒ³æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä¸æœºå™¨äººè¿›è¡Œäº†æ´»è·ƒçš„èŠå¤©ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆæœºå™¨äººå°†ä¿å­˜ä¹‹å‰çš„å¯¹è¯å†å²è®°å½•ä»¥ä¾›ä¸‹ä¸€æ¬¡å¯¹è¯ä½¿ç”¨ã€‚ä¼šè¯ç»“æŸåï¼Œå†å²è®°å½•å°†é‡ç½®]]></description>
      <guid>https://stackoverflow.com/questions/77929619/type-error-when-trying-to-make-a-llm-chatbot-using-gemini-pro</guid>
      <pubDate>Fri, 02 Feb 2024 20:09:24 GMT</pubDate>
    </item>
    <item>
      <title>epoch ä¸­ä¸€æ‰¹çš„æ¢¯åº¦çˆ†ç‚¸å’Œ NaN æŸå¤±</title>
      <link>https://stackoverflow.com/questions/77929468/exploding-gradient-and-nan-loss-at-exactly-one-batch-in-the-epoch</link>
      <description><![CDATA[æˆ‘æ­£åœ¨å°è¯•è®­ç»ƒä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘åœ¨è¯¥çºªå…ƒä¸­çš„ä¸€ä¸ªæ‰¹æ¬¡ä¸Šä¸æ–­æ”¶åˆ° NaNï¼ˆæ— é™ï¼‰æŸå¤±ï¼Œè€Œæ‰€æœ‰å…¶ä»–æ‰¹æ¬¡éƒ½ä¼šäº§ç”Ÿåˆç†çš„æŸå¤±ï¼ˆé€šè¿‡è·³è¿‡å‚æ•°æ›´æ–°ï¼‰è¯¥ç‰¹å®šæ‰¹æ¬¡ï¼‰ã€‚
&lt;å‰&gt;&lt;ä»£ç &gt;3027
losstensor(2.9372, device=&#39;cuda:0&#39;, grad_fn=)
3028
losstensor(2.9796, device=&#39;cuda:0&#39;, grad_fn=)
3029
losstensor(2.9189, device=&#39;cuda:0&#39;, grad_fn=)
3030
losstensor(2.9621, device=&#39;cuda:0&#39;, grad_fn=)
3031
losstensor(3.3539, device=&#39;cuda:0&#39;, grad_fn=)
3032
losstensor(2.8540, device=&#39;cuda:0&#39;, grad_fn=)
3033
losstensor(inf, device=&#39;cuda:0&#39;, grad_fn=) &lt;---------------------------------------- ----
3034
losstensor(3.0785, device=&#39;cuda:0&#39;, grad_fn=)
3035
losstensor(2.9671, device=&#39;cuda:0&#39;, grad_fn=)
3036
losstensor(2.9451ï¼Œdevice=&#39;cuda:0&#39;ï¼Œgrad_fn=)
3037
losstensor(3.0042, device=&#39;cuda:0&#39;, grad_fn=)
3038


é€šè¿‡è°ƒæ•´ä¸åŒçš„å­¦ä¹ ç‡ï¼Œäº§ç”Ÿ NaN æŸå¤±çš„æ‰¹æ¬¡ç´¢å¼•ä¿æŒä¸å˜

é€šè¿‡è°ƒæ•´æ‰¹æ¬¡å¤§å°ï¼Œä»ç„¶æ€»ä¼šæœ‰ä¸€ä¸ªæ‰¹æ¬¡äº§ç”Ÿ NaN æŸå¤±ï¼Œå°½ç®¡ç°åœ¨å®ƒæ˜¯åŒ…å«ä¸åŒæ•°æ®æ ·æœ¬çš„ä¸åŒæ‰¹æ¬¡ç´¢å¼•


ä¸€äº›ç‰¹å®šäºæˆ‘çš„æ¨¡å‹çš„ä¿¡æ¯ï¼š

ä½¿ç”¨ AdamW ä¼˜åŒ–å™¨å’Œ CTC æŸå¤±è®­ç»ƒçš„å˜å‹å™¨

æˆ‘çš„æ•°æ®é›†æ ·æœ¬åœ¨åˆ†ç»„ä¹‹å‰ä¼šè¢«æ‰“ä¹±


å¯¼è‡´æ­¤é—®é¢˜çš„åŸå› å¯èƒ½æ˜¯ä»€ä¹ˆï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77929468/exploding-gradient-and-nan-loss-at-exactly-one-batch-in-the-epoch</guid>
      <pubDate>Fri, 02 Feb 2024 19:36:21 GMT</pubDate>
    </item>
    <item>
      <title>æˆ‘æ­£åœ¨ä½¿ç”¨ CIDEr è¯„ä¼°æŒ‡æ ‡æ¥è¯„ä¼°å›¾åƒå­—å¹•æ¨¡å‹ã€‚å³ä½¿ä¸¤ä¸ªå¥å­ç›¸åŒï¼Œå®ƒä¹Ÿä¼šè¾“å‡º 0.0 [å…³é—­]</title>
      <link>https://stackoverflow.com/questions/77927272/im-using-cider-evaluation-metric-for-image-captioning-model-it-outputs-0-0-eve</link>
      <description><![CDATA[ä» pycocoevalcap.cider.cider å¯¼å…¥ Cider
å¯¼å…¥ json

# åŠ è½½æ‚¨çš„å‚è€ƒå’Œå€™é€‰æ ‡é¢˜
# å‚è€ƒæ ‡é¢˜çš„æ ¼å¼åº”ä¸ºï¼š{image_id: [caption1, caption2, ...]}
# å€™é€‰æ ‡é¢˜çš„æ ¼å¼åº”ä¸ºï¼š[{image_id, Caption}]

Reference_file = &#39;/content/ref.json&#39;
å€™é€‰æ–‡ä»¶ = &#39;/content/preds.json&#39;

å°† open(reference_file, &#39;r&#39;) ä½œä¸º fï¼š
    å¼•ç”¨ = json.load(f)

ä»¥ open(candidate_file, &#39;r&#39;) ä½œä¸º fï¼š
    å€™é€‰äºº = json.load(f)
æ‰“å°ï¼ˆå€™é€‰äººï¼‰
# åˆ›å»º CIDEr è®°åˆ†å™¨
cider_scorer = è‹¹æœé…’()

# è®¡ç®— CIDEr åˆ†æ•°
cider_score, cider_scores = cider_scorer.compute_score(å‚è€ƒæ–‡çŒ®, å‚è€ƒæ–‡çŒ®)

# æ‰“å° CIDEr åˆ†æ•°
print(&quot;CIDEr åˆ†æ•°ï¼š&quot;, cider_score)


å®ƒç»™å‡ºè¾“å‡º 0.0ã€‚
ref.json æœ‰ä»¥ä¸‹æ•°æ®
{&#39;1087539207_9f77ab3aaf.jpg&#39;: [&#39;ä¸‰ä¸ªäººåœ¨èƒŒæ™¯æœ‰æ ‘æœ¨çš„ç”°é‡é‡Œéª‘ç€å…¨åœ°å½¢è½¦&#39;]}&#39;

preds.json å…·æœ‰ä»¥ä¸‹æ•°æ®
{&#39;1087539207_9f77ab3aaf.jpg&#39;: [&#39;ä¸‰ä¸ªäººåœ¨èƒŒæ™¯æœ‰æ ‘æœ¨çš„ç”°é‡é‡Œéª‘ç€å…¨åœ°å½¢è½¦&#39;]}&#39;

Pycocoevalcap æ˜¯ä¸€ä¸ª github å­˜å‚¨åº“ï¼Œå®ƒå®ç°äº† CIDErï¼Œå³åŸºäºå…±è¯†çš„å›¾åƒæè¿°è¯„ä¼°]]></description>
      <guid>https://stackoverflow.com/questions/77927272/im-using-cider-evaluation-metric-for-image-captioning-model-it-outputs-0-0-eve</guid>
      <pubDate>Fri, 02 Feb 2024 13:18:02 GMT</pubDate>
    </item>
    <item>
      <title>MLflow ä»£ç†å·¥ä»¶è®¿é—®ï¼šæ— æ³•æ‰¾åˆ°å‡­æ®</title>
      <link>https://stackoverflow.com/questions/72886409/mlflow-proxied-artifact-access-unable-to-locate-credentials</link>
      <description><![CDATA[]]></description>
      <guid>https://stackoverflow.com/questions/72886409/mlflow-proxied-artifact-access-unable-to-locate-credentials</guid>
      <pubDate>Wed, 06 Jul 2022 15:40:30 GMT</pubDate>
    </item>
    <item>
      <title>é‡æ–°è®­ç»ƒ Tensorflow æ¨¡å‹</title>
      <link>https://stackoverflow.com/questions/52769607/retrain-tensorflow-model</link>
      <description><![CDATA[æˆ‘æœ‰ä¸€ä¸ªä½¿ç”¨å¯¹è±¡æ£€æµ‹ SSD ç§»åŠ¨ç½‘ç»œè®­ç»ƒçš„å¼ é‡æµæ¨¡å‹ã€‚
è®­ç»ƒç°å·²å®Œæˆï¼Œæˆ‘å¯¼å‡ºäº†æ¨¡å‹æ¨ç†ä»¥è¿›è¡Œæµ‹è¯•ã€‚æˆ‘çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœæˆ‘æƒ³ç¨åä½¿ç”¨æ–°çš„å›¾åƒæ•°æ®é›†é‡æ–°è®­ç»ƒæ¨¡å‹ï¼Œæˆ‘ç°åœ¨åº”è¯¥åœ¨è¿™ä¸ªé˜¶æ®µåšä»€ä¹ˆä»¥ä½¿æƒé‡æ¸—é€åˆ°æ¨¡å‹ä¸­ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥ä»é‚£æ—¶èµ·é‡æ–°è®­ç»ƒå®ƒã€‚æˆ‘çŸ¥é“æœ‰ä¸€ä¸ªå†»ç»“è„šæœ¬ï¼Œæˆ‘å¿…é¡»ä½¿ç”¨å®ƒå—ï¼Ÿ 
è°¢è°¢
é˜¿äºšå¾·]]></description>
      <guid>https://stackoverflow.com/questions/52769607/retrain-tensorflow-model</guid>
      <pubDate>Thu, 11 Oct 2018 22:12:07 GMT</pubDate>
    </item>
    </channel>
</rss>