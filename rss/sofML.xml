<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>标记为机器学习的活跃问题 - 堆栈内存溢出</title>
    <link>https://stackoverflow.com/questions/tagged/?tagnames=machine-learning&sort=active</link>
    <description>来自 stackoverflow.com 的最新 30 条</description>
    <lastBuildDate>Mon, 02 Sep 2024 01:12:33 GMT</lastBuildDate>
    <item>
      <title>GradCam 对每种方法返回不同的结果</title>
      <link>https://stackoverflow.com/questions/78938302/gradcam-returns-different-results-for-each-approach</link>
      <description><![CDATA[]]></description>
      <guid>https://stackoverflow.com/questions/78938302/gradcam-returns-different-results-for-each-approach</guid>
      <pubDate>Sun, 01 Sep 2024 20:19:54 GMT</pubDate>
    </item>
    <item>
      <title>Pytorch `DataSet.__getitem__()` 调用时 `index` 大于 `__len__()`</title>
      <link>https://stackoverflow.com/questions/78937759/pytorch-dataset-getitem-called-with-index-bigger-than-len</link>
      <description><![CDATA[我有以下 torch 数据集（我已经用随机数生成替换了从文件中读取数据的实际代码，以使其可重现性最小）：
from torch.utils.data import Dataset
import torch 

class TempDataset(Dataset):
def __init__(self, window_size=200):

self.window = window_size

self.x = torch.randn(4340, 10, dtype=torch.float32) # None
self.y = torch.randn(4340, 3, dtype=torch.float32) 

self.len = len(self.x) - self.window + 1 # = 4340 - 200 + 1 = 4141 
# 因此，最后一个窗口起始索引 = 4140 
# 最后一个窗口的范围从 4140 到 4339，即总共 200 个元素

def __len__(self):
return self.len

def __getitem__(self, index):

# AFAIU，下面的 if 条件永远不应计算为 True，因为最后一个索引
# __getitem__ 调用应该是 self.len - 1
if index == self.len: 
print(&#39;self.__len__(): &#39;, self.__len__())
print(&#39;Tried to access eleemnt @ index: &#39;, index)

return self.x[index: index + self.window], self.y[index + self.window - 1]

ds = TempDataset(window_size=200)
print(&#39;len: &#39;, len(ds))
counter = 0 # 尚未读取任何记录
for x, y in ds:
counter += 1 # 上面的行从数据集中读取了另一条记录
print(&#39;counter: &#39;,计数器)

它打印：
len: 4141
self.__len__(): 4141
尝试访问元素 @ index: 4141
counter: 4141

据我所知，__getitem__() 被调用，index 范围从 0 到 __len__()-1。如果这是正确的，那么为什么它试图用索引 4141 调用 __getitem__()，而数据本身的长度是 4141？
我注意到的另一件事是，尽管使用 index = 4141 进行调用，但它似乎没有返回任何元素，这就是为什么 counter 停留在 4141
我的眼睛（或大脑）在这里错过了什么？
PS：虽然它不会有任何效果，只是为了确认，我还尝试用 torch DataLoader 包装 DataSet，它仍然表现相同。]]></description>
      <guid>https://stackoverflow.com/questions/78937759/pytorch-dataset-getitem-called-with-index-bigger-than-len</guid>
      <pubDate>Sun, 01 Sep 2024 15:52:18 GMT</pubDate>
    </item>
    <item>
      <title>Tensorflow fit() 函数：steps_per_epoch = 1 导致损失出现震荡</title>
      <link>https://stackoverflow.com/questions/78937446/tensorflow-fit-function-steps-per-epoch-1-causes-oscillations-in-loss</link>
      <description><![CDATA[我有一个简单的卷积神经网络，其输入大小为 (5,5,3)。训练代码添加如下。如您所见，输入是随机生成的，并且仅使用单个条目来训练模型。
tf.random.set_seed(1)
X_train = tf.random.uniform((1,5,5,3), seed = 1)
y_train = np.array([[0, .5, 0., 0., 0., .0 , 0 , 0, 0, 0 ]])

model = tf.keras.Sequential()
model.add(Conv2D(filters = 6, kernel_size=5, strides = 1,activation= &quot;relu&quot;, input_shape = (5,5,3)))
model.add(Flatten())
model.add(Dense(10,激活=&quot;sigmoid&quot;))
model.compile(optimizer=tf.keras.optimizers.Adam(learning_rate=0.01), loss=&#39;categorical_crossentropy&#39;, metrics=[&#39;accuracy&#39;])

epochs = 40
history = model.fit(
X_train,
y_train,
epochs = epochs,
batch_size = 1,
steps_per_epoch = 1,
verbose = 0,
)
plt.plot(history.history[&quot;loss&quot;])

训练进行了 40 个 epoch，显然 steps_per_epoch 等于 1。但是，将 1 分配给 steps_per_epoch 会使训练过程变得奇怪。这样做会导致损失立即降至 0，然后再次上升。图片如下：
图片：steps_per_epoch = 1 时的损失
另一方面，不将 steps_per_epoch 传递给 fit 函数，或者传递 0 或大于 1 的数字，可以解决问题，我们从学习过程中看到正常行为。
图片：当我们不将 steps_per_epoch 传递给 fit 函数时产生的损失
这个问题从何而来？有人能解释一下这个问题吗？当我们只有一个训练数据并且 batch_size 为 1 时，steps_per_epoch 不应该等于 1 吗？
P.s. 我使用的是 Tensorflow 2.17.0
P.s. 我尝试过改变学习率，但没有解决问题。当 LR 降低到 0.0001 时，训练过程中的损失图如下所示：
图像：lr = 0.0001
为了解决这个问题，我做了很多尝试和错误，并意识到这是由 steps_per_epoch 等于 1 引起的。]]></description>
      <guid>https://stackoverflow.com/questions/78937446/tensorflow-fit-function-steps-per-epoch-1-causes-oscillations-in-loss</guid>
      <pubDate>Sun, 01 Sep 2024 13:29:15 GMT</pubDate>
    </item>
    <item>
      <title>在训练过程中，损失波动很大[关闭]</title>
      <link>https://stackoverflow.com/questions/78936923/during-the-training-the-loss-fluctuates-a-lot</link>
      <description><![CDATA[我正在使用神经网络 LSTM 来训练手势识别。我使用 mediapipe 来保存手的坐标，总共有 26 个符号需要识别。我的神经网络是：
model = tf.keras.models.Sequential([ #tf.keras.layers.Input((21 * 2, )), tf.keras.layers.InputLayer(input_shape=(21 * 2, )), tf.keras.layers.Reshape((21, 2), input_shape=(21 * 2, )), tf.keras.layers.Dropout(0.1), tf.keras.layers.LSTM(38, input_shape=[21, 2]), tf.keras.layers.Dropout(0.1), tf.keras.layers.Dense(34,activation=&#39;relu&#39;), tf.keras.layers.Dropout(0.1), tf.keras.layers.Dense(30,activation=&#39;relu&#39;), tf.keras.layers.Dense(NUM_CLASSES,activation=&#39;softmax&#39;)])

在此处输入图片说明
在训练过程中，损失波动很大，我不明白为什么会发生这种情况。
在此处输入图片说明
在此处输入图片说明
使用model.evaluate()，结果是：损失：0.5481 - 准确率： 0.8467
请帮帮我。如何改进我的工作？]]></description>
      <guid>https://stackoverflow.com/questions/78936923/during-the-training-the-loss-fluctuates-a-lot</guid>
      <pubDate>Sun, 01 Sep 2024 08:52:56 GMT</pubDate>
    </item>
    <item>
      <title>mobilev2net 之前保存的模型加载问题</title>
      <link>https://stackoverflow.com/questions/78936527/mobilev2net-previously-saved-model-loading-issues</link>
      <description><![CDATA[我正在尝试加载我保存的 MobileV2Net 模型，但遇到了此错误：
我的代码：
full_data_model=keras.models.load_model(filepath=&#39;/content/drive/MyDrive/trainedmodelisicskin/full_data.h5&#39;, custom_objects=None, compile=True, safe_mode=True)

# 错误：**

TypeError Traceback（最近一次调用最后一次）
/usr/local/lib/python3.10/dist-packages/keras/src/ops/operation.py in from_config(cls, config)
233 try:
--&gt; 234 return cls(**config)
235 except Exception as e:

14 帧
TypeError: int() 参数必须是字符串、类似字节的对象或实数，而不是“列表”

在处理上述异常期间，发生了另一个异常：

TypeError Traceback（最近一次调用最后一次）
TypeError：使用 config={&#39;name&#39;: &#39;bn_Conv1&#39;, &#39;trainable&#39;: False, &#39;dtype&#39;: &#39;float32&#39;, &#39;axis&#39;: [3], &#39;momentum&#39;: 0.999, &#39;epsilon&#39;: 0.001, &#39;center&#39;: True, &#39;scale&#39;: True, &#39;beta_initializer&#39;: {&#39;module&#39;: &#39;keras.initializers&#39;, &#39;class_name&#39;: &#39;Zeros&#39;, &#39;config&#39;: {}, 反序列化类“BatchNormalization”时出错&#39;registered_name&#39;: None}, &#39;gamma_initializer&#39;: {&#39;module&#39;: &#39;keras.initializers&#39;, &#39;class_name&#39;: &#39;Ones&#39;, &#39;config&#39;: {}, &#39;registered_name&#39;: None}, &#39;moving_mean_initializer&#39;: {&#39;module&#39;: &#39;keras.initializers&#39;, &#39;class_name&#39;: &#39;Zeros&#39;, &#39;config&#39;: {}, &#39;registered_name&#39;: None}, &#39;moving_variance_initializer&#39;: {&#39;module&#39;: &#39;keras.initializers&#39;, &#39;class_name&#39;: &#39;Ones&#39;, &#39;config&#39;: {}, &#39;registered_name&#39;: None}, &#39;beta_regularizer&#39;: None, &#39;gamma_regularizer&#39;: None, &#39;beta_constraint&#39;: None, &#39;gamma_constraint&#39;: None}。

遇到异常：int() 参数必须是字符串、类似字节的对象或实数，而不是“列表”

在处理上述异常期间，发生了另一个异常：

TypeError Traceback（最近一次调用最后一次）
/usr/local/lib/python3.10/dist-packages/keras/src/saving/serialization_lib.py in deserialize_keras_object(config, custom_objects, safe_mode, **kwargs)
718 instance = cls.from_config(inner_config)
719 except TypeError as e:
--&gt; 720 raise TypeError(
721 f&quot;{cls} 无法正确反序列化。请&quot;
722 &quot; 确保 Python 对象组件&quot;

TypeError: &lt;class &#39;keras.src.layers.normalization.batch_normalization.BatchNormalization&#39;&gt; 无法正确反序列化。请确保 `get_config()` 返回的 Python 对象实例（层、模型等）组件在模型的 `from_config()` 方法中明确反序列化。

config={&#39;module&#39;: &#39;keras.layers&#39;, &#39;class_name&#39;: &#39;BatchNormalization&#39;, &#39;config&#39;: {&#39;name&#39;: &#39;bn_Conv1&#39;, &#39;trainable&#39;: False, &#39;dtype&#39;: &#39;float32&#39;, &#39;axis&#39;: [3], &#39;momentum&#39;: 0.999, &#39;epsilon&#39;：0.001，&#39;center&#39;：True，&#39;scale&#39;：True，&#39;beta_initializer&#39;：{&#39;module&#39;：&#39;keras.initializers&#39;，&#39;class_name&#39;：&#39;零&#39;，&#39;config&#39;：{}，&#39;registered_name&#39;：无}，&#39;gamma_initializer&#39;：{&#39;module&#39;：&#39;keras.initializers&#39;，&#39;class_name&#39;：&#39;一&#39;，&#39;config&#39;：{}，&#39;registered_name&#39;：无}，&#39;moving_mean_initializer&#39;：{&#39;module&#39;：&#39;keras.initializers&#39;，&#39;class_name&#39;：&#39;零&#39;，&#39;config&#39;：{}，&#39;registered_name&#39;：无}，&#39;moving_variance_initializer&#39;：{&#39;module&#39;：&#39;keras.initializers&#39;，&#39;class_name&#39;： &#39;Ones&#39;, &#39;config&#39;: {}, &#39;registered_name&#39;: None}, &#39;beta_regularizer&#39;: None, &#39;gamma_regularizer&#39;: None, &#39;beta_constraint&#39;: None, &#39;gamma_constraint&#39;: None}, &#39;registered_name&#39;: None, &#39;build_config&#39;: {&#39;input_shape&#39;: [None, 112, 112, 32]}, &#39;name&#39;: &#39;bn_Conv1&#39;, &#39;inbound_nodes&#39;: [[[&#39;Conv1&#39;, 0, 0, {}]]]}。

遇到异常：使用 config = {&#39;name&#39;：&#39;bn_Conv1&#39;，&#39;trainable&#39;：False，&#39;dtype&#39;：&#39;float32&#39;，&#39;axis&#39;：[3]，&#39;momentum&#39;：0.999，&#39;epsilon&#39;：0.001，&#39;center&#39;：True，&#39;scale&#39;：True，&#39;beta_initializer&#39;：{&#39;module&#39;：&#39;keras.initializers&#39;，&#39;class_name&#39;：&#39;Zeros&#39;，&#39;config&#39;：{}，&#39;registered_name&#39;：None}，&#39;gamma_initializer&#39;：{&#39;module&#39;：&#39;keras.initializers&#39;，&#39;class_name&#39;：&#39;Ones&#39;，&#39;config&#39;：{}，&#39;registered_name&#39;：None}，&#39;moving_mean_initializer&#39;：{&#39;module&#39;： &#39;keras.initializers&#39;, &#39;class_name&#39;: &#39;Zeros&#39;, &#39;config&#39;: {}, &#39;registered_name&#39;: None}, &#39;moving_variance_initializer&#39;: {&#39;module&#39;: &#39;keras.initializers&#39;, &#39;class_name&#39;: &#39;Ones&#39;, &#39;config&#39;: {}, &#39;registered_name&#39;: None}, &#39;beta_regularizer&#39;: None, &#39;gamma_regularizer&#39;: None, &#39;beta_constraint&#39;: None, &#39;gamma_constraint&#39;: None}。

遇到异常：int() 参数必须是字符串、类似字节的对象或实数，而不是“列表”

我尝试使用除 mobilev2net 之外的模型，保存和重新加载模型完好无损。但是，当我再次创建此模型时，我遇到了错误。我正在使用 Google Colab 环境。]]></description>
      <guid>https://stackoverflow.com/questions/78936527/mobilev2net-previously-saved-model-loading-issues</guid>
      <pubDate>Sun, 01 Sep 2024 04:03:51 GMT</pubDate>
    </item>
    <item>
      <title>如何将机器学习与网络安全结合起来？[关闭]</title>
      <link>https://stackoverflow.com/questions/78935156/how-to-combine-ml-and-cyber-security</link>
      <description><![CDATA[我现在在大学学习，明年将获得学士学位。
我报读的是信息安全专业，但当时我对想要在哪个 IT 领域发展还不太了解。
现在我正在尝试 ML，我认为这是一个非常有趣的领域。我现在确定我更喜欢哪个特定领域，但我想这并不重要。
但另一方面，由于我在大学学习，我也喜欢相对低级的开发 - 例如，我非常喜欢摆弄和配置 Linux 系统、nvim 等。
我看到周围很多人只是一头扎进后端和其他类型的软件开发。但对我来说，这并不那么有趣（
我没有看到任何关于低级 ML 或 DL 或类似职位的空缺，也不知道该如何处理这种情况……
现在，我正在 DS 领域发展，学习一所好大学（MSU）的一些课程，由于时间不足（很遗憾），我不能实习或做其他事情……这对我的心理健康真的很难。
我只想做我喜欢做的事情，学习这个世界上有趣的新事物。
也许有人有类似的故事，可以给出建议如何处理这一切……
谢谢）]]></description>
      <guid>https://stackoverflow.com/questions/78935156/how-to-combine-ml-and-cyber-security</guid>
      <pubDate>Sat, 31 Aug 2024 12:54:04 GMT</pubDate>
    </item>
    <item>
      <title>我已将现有的 ipynb 文件导入 Azure Python 笔记本。运行计算机时导入库时出现错误</title>
      <link>https://stackoverflow.com/questions/78934759/i-have-imported-an-existing-ipynb-file-into-an-azure-python-notebook-there-are</link>
      <description><![CDATA[我已将现有的 ipynb 文件导入 Azure 笔记本。并尝试使用 Azure 计算机运行。
在库导入部分，我收到以下错误：
来自 sksurv.linear_model 导入 CoxPHSurvivalAnalysis
来自 sksurv.util 导入 Surv

我已采取以下步骤：

pip install Cmake (PyPI)
pip install scikit-survival (PyPI)

它仍然在导入库中显示错误，例如以上。
我希望修复库中的错误。]]></description>
      <guid>https://stackoverflow.com/questions/78934759/i-have-imported-an-existing-ipynb-file-into-an-azure-python-notebook-there-are</guid>
      <pubDate>Sat, 31 Aug 2024 09:21:51 GMT</pubDate>
    </item>
    <item>
      <title>为什么 React-native-face-detection 无法在 IOS 上运行并且只返回空白数组 / []？</title>
      <link>https://stackoverflow.com/questions/78913900/why-react-native-face-detection-not-working-on-ios-and-just-return-blank-array</link>
      <description><![CDATA[这是我的 React Native 信息
系统：
操作系统：macOS 14.1.1
CPU：(12) x64 Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
内存：114.23 MB / 16.00 GB
Shell：
版本：“5.9”
路径：/bin/zsh
二进制文件：
节点：
版本：20.10.0
路径：~/.nvm/versions/node/v20.10.0/bin/node
Yarn：未找到
npm：
版本：10.2.3
路径：~/.nvm/versions/node/v20.10.0/bin/npm
Watchman：
版本：2024.08.05.00
路径：/usr/local/bin/watchman
管理器：
CocoaPods：
版本：1.15.2
路径：/usr/local/bin/pod
SDK：
iOS SDK：
平台：
- DriverKit 23.5
- iOS 17.5
- macOS 14.5
- tvOS 17.5
- visionOS 1.2
- watchOS 10.5
Android SDK：未找到已找到
IDE:
Android Studio：未找到
Xcode:
版本：15.4/15F31d
路径：/usr/bin/xcodebuild
语言：
Java：未找到
Ruby：
版本：2.6.10
路径：/usr/bin/ruby
npmPackages:
“@react-native-community/cli”：未找到
react:
已安装：18.2.0
需要：18.2.0
react-native:
已安装：0.73.0
需要：0.73.0
react-native-macos：未找到
npmGlobalPackages:
“*react-native*”：未找到
Android:
hermesEnabled：true
newArchEnabled：false
iOS:
hermesEnabled：true
newArchEnabled： false

faceDetectionMethod = async() =&gt;{

const imagePath = this.state.imageCamera;
const options = {
landmarkMode: FaceDetectorLandmarkMode.ALL,
contourMode: FaceDetectorContourMode.ALL,
};
const faces = await FaceDetection.processImage(imagePath, options);

if(faces.length === 0){
this.setState({isWajah:false});
this.setState({isVisibleWajah:true});
}else{

this.setState({isWajah:true});

this.setState({isVisibleWajah:false});

}
}

此方法用于人脸检测，仅返回 [] / 空白数组]]></description>
      <guid>https://stackoverflow.com/questions/78913900/why-react-native-face-detection-not-working-on-ios-and-just-return-blank-array</guid>
      <pubDate>Mon, 26 Aug 2024 10:23:02 GMT</pubDate>
    </item>
    <item>
      <title>UnicodeEncodeError：'charmap'编解码器无法对位置 19-38 的字符进行编码：字符映射到 <undefined></title>
      <link>https://stackoverflow.com/questions/78367946/unicodeencodeerror-charmap-codec-cant-encode-characters-in-position-19-38-c</link>
      <description><![CDATA[我正在开发一个基于 Flask 的 Web 应用程序，用户可以上传图像以使用机器学习模型进行预测。上传的图像存储在本地目录中，并使用预先训练的模型进行预测。但是，当我点击预测按钮时
是什么导致了这个 UnicodeEncodeError？
我该如何解决这个问题，以确保我的应用程序能够正确处理图像上传和预测？
在 Flask 环境中，尤其是在 Windows 上，是否有处理字符编码的最佳实践？
==app.py====
@app.route(&#39;/uploadimage&#39;, methods=[&#39;GET&#39;, &#39;POST&#39;])
def upload_image():

file = request.files[&#39;my_image&#39;]
# 获取预测
predict_label = predict_label(img_path)
# 使用 flash 消息返回预测标签
flash(f&quot;Prediction: {predicted_label}&quot;, &quot;success&quot;)
os.remove(img_path) # 处理后删除临时文件
return render_template(&#39;uploadimage.html&#39;) # 对于 GET 请求，呈现表单


即使我设置了环境变量“UTF-8”，我仍然收到此错误
错误
文件“C:\Users\Subha\AppData\Local\Programs\Python\Python311\Lib\site-packages\keras\src\utils\traceback_utils.py”，第 122 行，位于 error_handler 中
从 None 引发 e.with_traceback(filtered_tb)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
文件“C:\Users\Subha\AppData\Local\Programs\Python\Python311\Lib\encodings\cp1252.py”，第 19 行，位于 encode 中
返回codecs.charmap_encode(input,self.errors,encoding_table)[0]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: &#39;charmap&#39; 编解码器无法对位置 19-38 中的字符进行编码：字符映射到未定义。
============
即使我得到了一个最简单的代码来测试编码
标题是“要测试您的控制台是否可以处理 UTF-8，请尝试输出带有特殊字符或 Unicode 字符的文本：&quot;
print(&quot;UTF-8 test: àéîöü — 中文 — العربية&quot;)


错误与此相同好吧
print(&quot;UTF-8 测试：����� � \u4e2d\u6587 � \u0627\u0644\u0639\u0631\u0628\u064a\u0629&quot;)
文件 &quot;C:\Users\Subha\AppData\Local\Programs\Python\Python311\Lib\encodings\cp1252.py&quot;，第 19 行，在编码中
返回 codecs.charmap_encode(input,self.errors,encoding_table)[0]
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: &#39;charmap&#39; 编解码器无法对位置中的字符进行编码20-21：字符映射到 ]]></description>
      <guid>https://stackoverflow.com/questions/78367946/unicodeencodeerror-charmap-codec-cant-encode-characters-in-position-19-38-c</guid>
      <pubDate>Mon, 22 Apr 2024 17:25:20 GMT</pubDate>
    </item>
    <item>
      <title>InvalidArgumentError：不兼容的形状：[40,5] 与 [40,4]</title>
      <link>https://stackoverflow.com/questions/70524543/invalidargumenterror-incompatible-shapes-40-5-vs-40-4</link>
      <description><![CDATA[]]></description>
      <guid>https://stackoverflow.com/questions/70524543/invalidargumenterror-incompatible-shapes-40-5-vs-40-4</guid>
      <pubDate>Wed, 29 Dec 2021 20:14:34 GMT</pubDate>
    </item>
    <item>
      <title>如何在基于 TensorFlow Lite 对象检测 Android 的应用程序中添加文本转语音功能？[关闭]</title>
      <link>https://stackoverflow.com/questions/62623547/how-can-i-add-text-to-speech-in-tensorflow-lite-object-detection-android-based-a</link>
      <description><![CDATA[我正在尝试构建一款应用，帮助视障人士检测路上的物体​​/障碍物。因此，一旦检测到物体，使用 TensorFlow 库和 Android 文本转语音，应用程序就会让用户知道该物体是什么。我目前正在尝试构建 TensorFlow 提供的 Android 对象检测示例，但我很难找到边界框标签字符串的存储位置，以便在运行文本转语音时调用它]]></description>
      <guid>https://stackoverflow.com/questions/62623547/how-can-i-add-text-to-speech-in-tensorflow-lite-object-detection-android-based-a</guid>
      <pubDate>Sun, 28 Jun 2020 13:59:07 GMT</pubDate>
    </item>
    <item>
      <title>ValueError：（'无法识别的关键字参数：'，dict_keys（['ragged']））</title>
      <link>https://stackoverflow.com/questions/61934272/valueerror-unrecognized-keyword-arguments-dict-keysragged</link>
      <description><![CDATA[我在 google colab 上训练了一个细胞分割模型，一个使用 tensorflow 版本 1.x，另一个使用 2.x。我下载了这个模型，现在正尝试加载它并预测我下载的预选图像。训练和构建模型，我使用了 tf.keras.layers.layername 代码如下：
import numpy as np
import cv2
import tensorflow as tf
import keras
from tensorflow.python.keras.models import load_model
from tensorflow.python.keras.utils import CustomObjectScope
from tensorflow.python.keras.initializers import glorot_uniform

with CustomObjectScope({&#39;GlorotUniform&#39;:glorot_uniform()}):
model = tf.keras.models.load_model(&quot;./models/nuclei_1-15.h5&quot;, compile=False)

出现以下错误：
Traceback (most recent call last):
File &quot;model_werk.py&quot;, line 20, in &lt;模块&gt;
model = tf.keras.models.load_model(&quot;./models/nuclei_1-15.h5&quot;, compile=False)
文件 &quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/models.py&quot;, 第 246 行, 位于 load_model
model = model_from_config(model_config, custom_objects=custom_objects)
文件 &quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/models.py&quot;, 第 324 行, 位于 model_from_config
return layer_module.deserialize(config, custom_objects=custom_objects)
文件“/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/layers/serialization.py”，第 63 行，位于 deserialize
printable_module_name=&#39;layer&#39;)
文件“/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/utils/generic_utils.py”，第 164 行，位于 deserialize_keras_object
list(custom_objects.items())))
文件&quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/engine/topology.py&quot;，第 975 行，位于 from_config
process_layer(layer_data)
文件 &quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/engine/topology.py&quot;，第 961 行，位于 process_layer
layer = deserialize_layer(layer_data, custom_objects=custom_objects)
文件&quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/layers/serialization.py&quot;，第 63 行，在 deserialize
printable_module_name=&#39;layer&#39;)
文件 &quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/utils/generic_utils.py&quot;，第 166 行，在 deserialize_keras_object
return cls.from_config(config[&#39;config&#39;])
文件&quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/engine/topology.py&quot;, line 483, in from_config
return cls(**config)
File &quot;/home/hmrbcnt/Documents/thesis/try_2.1.5/trial/lib/python3.6/site-packages/tensorflow/python/keras/_impl/keras/engine/topology.py&quot;, line 524, in __init__
raise ValueError(&#39;无法识别的关键字参数：&#39;, kwargs.keys())
ValueError: (&#39;无法识别的关键字参数：&#39;, dict_keys([&#39;ragged&#39;]))


我使用 tensorflow.python.keras 而不是tensorflow.keras 是因为使用 tensorflow.keras 会返回 ModuleNotFound 错误。
tensorflow 的版本是 1.5，keras 是 2.2.4。我不能使用高于 1.5 的 tensorflow 版本，因为我的 CPU 很旧，而且它不支持 avx 指令。
编辑：更改了错误和一行代码，因为我忽略了一些东西，现在得到了类似但不同的错误]]></description>
      <guid>https://stackoverflow.com/questions/61934272/valueerror-unrecognized-keyword-arguments-dict-keysragged</guid>
      <pubDate>Thu, 21 May 2020 12:12:38 GMT</pubDate>
    </item>
    <item>
      <title>如何从 vgg19 中删除自适应平均池层？</title>
      <link>https://stackoverflow.com/questions/59269140/how-to-remove-the-adaptive-average-pool-layer-from-vgg19</link>
      <description><![CDATA[我已加载 vgg19 预训练模型。如何删除分类器之前的自适应平均池化层？]]></description>
      <guid>https://stackoverflow.com/questions/59269140/how-to-remove-the-adaptive-average-pool-layer-from-vgg19</guid>
      <pubDate>Tue, 10 Dec 2019 14:10:12 GMT</pubDate>
    </item>
    <item>
      <title>PyTorch 中的 `CrossEntropyLoss()`</title>
      <link>https://stackoverflow.com/questions/49390842/crossentropyloss-in-pytorch</link>
      <description><![CDATA[交叉熵公式：

但为什么下面的代码给出的是 loss = 0.7437 而不是 loss = 0（因为 1*log(1) = 0）？
import torch
import torch.nn as nn
from torch.autograd import Variable

output = Variable(torch.FloatTensor([0,0,0,1])).view(1, -1)
target = Variable(torch.LongTensor([3]))

criterion = nn.CrossEntropyLoss()
loss = 标准（输出，目标）
print（loss）# 0.7437
]]></description>
      <guid>https://stackoverflow.com/questions/49390842/crossentropyloss-in-pytorch</guid>
      <pubDate>Tue, 20 Mar 2018 17:39:44 GMT</pubDate>
    </item>
    <item>
      <title>我实现的交叉熵函数有什么问题？</title>
      <link>https://stackoverflow.com/questions/47377222/what-is-the-problem-with-my-implementation-of-the-cross-entropy-function</link>
      <description><![CDATA[我正在学习神经网络，我想用 Python 编写一个函数 cross_entropy。其定义如下：

其中 N 是样本数量，k 是类别数量，log 是自然对数，如果样本 i 属于 j 类，则 t_i,j 为 1，否则为 0，p_i,j 是样本 i 属于 j 类的预测概率。
为了避免对数的数值问题，请将预测值限制在 [10^{−12}, 1 − 10^{−12}] 范围内。
根据上述说明，我通过将预测值限制在 [epsilon, 1 − epsilon] 范围内写下代码，然后根据上述公式计算 cross_entropy：
def cross_entropy(predictions, target, epsilon=1e-12):
&quot;&quot;&quot;
计算目标（编码为独热向量）和预测值之间的交叉熵。
输入：预测值 (N, k) ndarray
目标值 (N, k) ndarray
返回：标量
&quot;&quot;&quot;
predictions = np.clip(predictions, epsilon, 1. - epsilon)
ce = - np.mean(np.log(predictions) * target) 
return ce

以下代码将用于检查函数 cross_entropy 是否正确：
predictions = np.array([[0.25,0.25,0.25,0.25],
[0.01,0.01,0.01,0.96]])
targets = np.array([[0,0,0,1],
[0,0,0,1]])
ans = 0.71355817782 #正确答案
x = cross_entropy(predictions,目标)
print(np.isclose(x,ans))

上述代码的输出为 False，也就是说我定义函数 cross_entropy 的代码不正确。然后我打印 cross_entropy(predictions, target) 的结果。它给出了 0.178389544455，正确的结果应该是 ans = 0.71355817782。有人能帮我检查一下我的代码有什么问题吗？]]></description>
      <guid>https://stackoverflow.com/questions/47377222/what-is-the-problem-with-my-implementation-of-the-cross-entropy-function</guid>
      <pubDate>Sun, 19 Nov 2017 13:08:52 GMT</pubDate>
    </item>
    </channel>
</rss>