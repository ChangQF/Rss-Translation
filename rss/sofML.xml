<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
  <channel>
    <title>æ ‡è®°ä¸ºæœºå™¨å­¦ä¹ çš„æ´»è·ƒé—®é¢˜ - Thinbug</title>
    <link>https://stackoverflow.com/questions/tagged/?tagnames=machine-learning&sort=active</link>
    <description>æ¥è‡ª stackoverflow.com çš„æœ€æ–° 30 ä¸ª</description>
    <lastBuildDate>Wed, 13 Dec 2023 12:26:01 GMT</lastBuildDate>
    <item>
      <title>æˆ‘åº”è¯¥åœ¨ Adam ä¼˜åŒ–å™¨çš„é¡¶éƒ¨åº”ç”¨ä½™å¼¦é€€ç«è°ƒåº¦ç¨‹åºå—ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77653513/should-i-apply-a-cosine-annealing-scheduler-on-the-top-of-the-adam-optimizer</link>
      <description><![CDATA[Adam ä¼˜åŒ–å™¨ä»¥å…¶è‡ªé€‚åº”è°ƒæ•´å­¦ä¹ ç‡çš„èƒ½åŠ›è€Œé—»åï¼Œé‚£ä¹ˆä½™å¼¦é€€ç«è°ƒåº¦å™¨è¿˜æœ‰ç”¨å—ï¼Ÿ
æˆ‘è¿˜æ²¡æœ‰å®Œæˆå®éªŒï¼Œéƒ¨åˆ†åŸå› æ˜¯æˆ‘æ²¡æœ‰å¹²å‡€çš„ä½™å¼¦é€€ç«ä»£ç ç¤ºä¾‹ã€‚ç‰¹åˆ«æ„Ÿè°¢é‚£äº›å¯ä»¥æä¾›ä»£ç ç‰‡æ®µçš„äººã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77653513/should-i-apply-a-cosine-annealing-scheduler-on-the-top-of-the-adam-optimizer</guid>
      <pubDate>Wed, 13 Dec 2023 12:16:11 GMT</pubDate>
    </item>
    <item>
      <title>æ‰§è¡Œä¸è‡ªç„¶è¯­è¨€å¤„ç†ç›¸å…³çš„ä»£ç æ—¶å‡ºé”™</title>
      <link>https://stackoverflow.com/questions/77653463/error-in-execution-of-code-related-to-natural-language-processing</link>
      <description><![CDATA[æ­¤ä»£ç æ˜¾ç¤ºäº†å›¾åƒä¸­ç»™å‡ºçš„é”™è¯¯ã€‚æˆ‘æ— æ³•ç†è§£å…¶ä¸­çš„åŸå› ã€‚

æˆ‘ä¸çŸ¥é“å¦‚ä½•åœ¨Pythonä¸­ä½¿ç”¨å¯¼å…¥å‘½ä»¤ã€‚æˆ‘å°è¯•äº†æ‰€æœ‰å¯èƒ½çš„æ–¹æ³•è¿›è¡Œæ£€æŸ¥ï¼ŒåŒ…æ‹¬åˆ é™¤å¸¦æœ‰å…¶ä»–æ–°é—»é—¨æˆ·åç§°çš„â€œè·¯é€ç¤¾â€ï¼Œä½†æ²¡æœ‰ä»»ä½•æ•ˆæœã€‚ç°åœ¨ï¼Œå¦‚æœæœ‰äººå¸®åŠ©æˆ‘æ­£ç¡®ç¼–å†™ä»£ç çš„â€œå¯¼å…¥â€éƒ¨åˆ†ï¼Œé‚£å°±æ›´å¥½äº†ã€‚æˆ‘è®¤ä¸ºå…¶ä»–éƒ¨åˆ†æ²¡é—®é¢˜ï¼Œå› ä¸ºæ²¡æœ‰æ˜¾ç¤ºå…¶ä»–æ¶ˆæ¯ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77653463/error-in-execution-of-code-related-to-natural-language-processing</guid>
      <pubDate>Wed, 13 Dec 2023 12:07:23 GMT</pubDate>
    </item>
    <item>
      <title>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨éœ€è¦ä¼°è®¡å¤šå°‘ä¸ªå‚æ•°ï¼Ÿ [å…³é—­]</title>
      <link>https://stackoverflow.com/questions/77652867/how-many-parameters-need-to-be-estimated-for-na%c3%afve-bayes-classifier</link>
      <description><![CDATA[è¿™æ˜¯æ¥è‡ª GATE æ•°æ®ç§‘å­¦ä¸äººå·¥æ™ºèƒ½ (DA) æ ·æœ¬è®ºæ–‡çš„ MCQ é—®é¢˜ï¼š
Q.28
&lt;å—å¼•ç”¨&gt;
ç»™å®šä¸€ä¸ªåŒ…å«ğ‘ç‚¹çš„ğ¾ç±»æ•°æ®é›†ï¼Œå…¶ä¸­æè¿°äº†æ ·æœ¬ç‚¹
ä½¿ç”¨ ğ· ç¦»æ•£ç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾éƒ½èƒ½å¤Ÿå– ğ‘‰ å€¼ï¼Œå¦‚ä½•
æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨éœ€è¦ä¼°è®¡å¾ˆå¤šå‚æ•°ï¼Ÿ
(A) (ğ‘‰^D)ğ¾ 
(B) (ğ¾^V)^D 
(C) ğ‘‰ğ·ğ¾ + K 
(D) ğ¾(ğ‘‰ + ğ·)

æ ¹æ®chatgptæ­£ç¡®ç­”æ¡ˆæ˜¯(A)ï¼š
æ€»å‚æ•°=ç±»çš„æ•°é‡Ã—(æ¯ä¸ªç‰¹å¾çš„å€¼çš„æ•°é‡)^ç‰¹å¾çš„æ•°é‡+ç±»çš„æ•°é‡
è€Œ Bard é€šè¿‡å– Kã€V å’Œ D çš„ä¸€äº›å€¼ç»™å‡ºäº†æ­£ç¡®ç­”æ¡ˆ (C)ã€‚
æˆ‘æƒ³çŸ¥é“è¿™æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œè¿›ä¸€æ­¥é˜…è¯»æœ‰å…³è¯¥ä¸»é¢˜çš„å†…å®¹ä¼šå¾ˆå¥½ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77652867/how-many-parameters-need-to-be-estimated-for-na%c3%afve-bayes-classifier</guid>
      <pubDate>Wed, 13 Dec 2023 10:38:01 GMT</pubDate>
    </item>
    <item>
      <title>ç”¨è½¬æ¢å±‚æ›¿æ¢å¹³å‡æ± å±‚</title>
      <link>https://stackoverflow.com/questions/77652246/replacing-a-avg-pool-layer-with-a-conv-layer</link>
      <description><![CDATA[æˆ‘æœ‰ä¸€ä¸ªå†…æ ¸å¤§å°ä¸º (4,3) çš„å¹³å‡æ± å±‚ï¼Œå…¶æ­¥é•¿ä¸º (4,3) å’Œ 0 å¡«å……ã€‚æˆ‘æƒ³å°†å…¶è½¬æ¢ä¸ºç­‰æ•ˆçš„è½¬æ¢å±‚ï¼Œä»¥ä¾¿åœ¨æˆ‘çš„ç¥ç»ç½‘ç»œä¸­å®ç°ã€‚
æ‰€ä»¥ï¼Œåœ¨æˆ‘çš„æ¨¡å‹ä¸­ï¼Œæˆ‘æ›¿æ¢äº†è¿™ä¸ªï¼š
self.pool = nn.AvgPool2d((4, 3))

ä½¿ç”¨è¿™ä¸€è¡Œï¼ˆ32 æ˜¯è¾“å…¥é€šé“æ•°ï¼‰ï¼š
self.pool = nn.Conv2d(32, 32, (4, 3), stride=(4, 3), åå·®=False)

å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªå±‚ä¼¼ä¹åº”è¯¥æ˜¯ç­‰æ•ˆçš„ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªå±‚çš„è¾“å‡ºå¤§å°éƒ½æ˜¯ (1, 32, 32, 13) ï¼ˆå®ƒæœ‰ 32 ä¸ªé€šé“ï¼‰ï¼›å¯¹äºå¤§å°ä¸º (1, 32, 129, 40) çš„è¾“å…¥ï¼ˆ32 ä¸ªé€šé“ï¼ŒX ç»´åº¦ 129ï¼ŒY ç»´åº¦ 40ï¼‰ã€‚
æˆ‘ä¸ç¡®å®šæˆ‘å¯¹æ± åŒ–å±‚å’Œè½¬æ¢å±‚çš„åŸºç¡€çŸ¥è¯†æ˜¯å¦æœ‰é”™è¯¯çš„ç†è§£ã€‚æœ‰äººå¯ä»¥å¸®æˆ‘å—ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77652246/replacing-a-avg-pool-layer-with-a-conv-layer</guid>
      <pubDate>Wed, 13 Dec 2023 09:06:48 GMT</pubDate>
    </item>
    <item>
      <title>SEEM æ¨¡å‹åœ¨å‘å…¶ä¼ é€’å›¾åƒåŠå…¶æ¨ç†æ—¶é¢ä¸´çš„é—®é¢˜</title>
      <link>https://stackoverflow.com/questions/77651185/facing-issues-with-seem-model-in-passing-images-to-it-and-its-inferencing</link>
      <description><![CDATA[æˆ‘æ­£åœ¨ç ”ç©¶ SEEM æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ç§å¯æ¨å¹¿çš„äº¤äº’å¼æ¨¡å‹ï¼Œç”¨äºä¸€æ¬¡æ€§åˆ†å‰²å›¾åƒä¸­ä»»ä½•åœ°æ–¹çš„æ‰€æœ‰å†…å®¹ã€‚ç”±äºèµ„æºæœ‰é™ï¼Œæˆ‘åœ¨å°†å›¾åƒä¼ é€’ç»™å®ƒåŠå…¶æ¨ç†æ—¶é¢ä¸´é—®é¢˜ã€‚æˆ‘å·²ç»å®‰è£…äº†æ‰€æœ‰ä¾èµ–é¡¹å¹¶å•ç‹¬åŠ è½½äº† SEEM æ¨¡å‹ã€‚æœ‰è°å¯¹æ­¤æœ‰ä»»ä½•æƒ³æ³•å¹¶ç›¸åº”åœ°æŒ‡å¯¼æˆ‘ã€‚
æˆ‘æœŸå¾…æœ‰äººèƒ½å¤Ÿæ ¹æ®ä»–ä»¬çš„çŸ¥è¯†æŒ‡å¯¼æˆ‘ï¼Œæˆ‘å¯ä»¥å°½å¿«è§£å†³è¿™ä¸ªé—®é¢˜]]></description>
      <guid>https://stackoverflow.com/questions/77651185/facing-issues-with-seem-model-in-passing-images-to-it-and-its-inferencing</guid>
      <pubDate>Wed, 13 Dec 2023 04:53:29 GMT</pubDate>
    </item>
    <item>
      <title>å°è¯•å°†è‡ªå®šä¹‰æ¨¡å‹éƒ¨ç½²åˆ°ç»ˆç«¯èŠ‚ç‚¹æ—¶ä» AWS Sagemaker è·å–ï¼ˆè¶…æ—¶ï¼‰ModelError</title>
      <link>https://stackoverflow.com/questions/77649384/getting-timed-out-modelerror-from-aws-sagemaker-when-trying-to-deploy-a-custom</link>
      <description><![CDATA[æˆ‘ç›®å‰åœ¨ä½¿ç”¨ PyTorchModel å’Œæˆ‘çš„è‡ªå®šä¹‰æ¨¡å‹åœ¨ AWS SageMaker ä¸Šéƒ¨ç½²ç»ˆç«¯èŠ‚ç‚¹æ—¶é‡åˆ°é—®é¢˜ã€‚å°½ç®¡éµå¾ª Amazon å®˜æ–¹ç½‘ç«™ï¼ˆæ‰€æœ‰ä»£ç å‡å¯åœ¨ä¸€ä¸ª Github ä¸Šæ‰¾åˆ°ï¼‰ï¼Œæˆ‘é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š
&lt;å—å¼•ç”¨&gt;
sagemaker è°ƒç”¨ InvokeEndpoint æ“ä½œæ—¶å‘ç”Ÿé”™è¯¯ (ModelError)ï¼šä»ä¸»å®¹å™¨æ”¶åˆ°æœåŠ¡å™¨é”™è¯¯ (0)ï¼Œå¹¶æ˜¾ç¤ºæ¶ˆæ¯æ‚¨çš„è°ƒç”¨åœ¨ç­‰å¾…å®¹å™¨ä¸»å®¹å™¨çš„å“åº”æ—¶è¶…æ—¶ã€‚æ£€æŸ¥ Amazon CloudWatch ä¸­æ¯ä¸ªå®¹å™¨çš„å»¶è¿ŸæŒ‡æ ‡ï¼Œè§£å†³é—®é¢˜ï¼Œç„¶åé‡è¯•ã€‚

æˆ‘å°è¯•é€šè¿‡æŸ¥çœ‹ Amazon CloudWatch ä¸­çš„æ—¥å¿—æ¥è§£å†³è¯¥é—®é¢˜ï¼Œä½†æ— æ³•æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚æˆ‘è¿˜å°† SAGEMAKER_MODEL_SERVER_TIMEOUT æ›´æ”¹ä¸º 180ï¼Œä½†å®ƒä¸èµ·ä½œç”¨ã€‚è¯·è®©æˆ‘çŸ¥é“å¦‚ä½•ä¿®å¤å®ƒã€‚æˆ‘å·²ç»å°è¯•è¿‡ AWS ç½‘ç«™ä¸Šçš„å…¶ä»–ç¤ºä¾‹å’Œæ–‡æ¡£ï¼Œä½†æ²¡æœ‰ä¸€ä¸ªå¯¹æˆ‘æœ‰ç”¨ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77649384/getting-timed-out-modelerror-from-aws-sagemaker-when-trying-to-deploy-a-custom</guid>
      <pubDate>Tue, 12 Dec 2023 22:37:01 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•å®‰è£…é›†ç¾¤ï¼› AssertionErrorï¼šé”™è¯¯ï¼šæ— æ³•æ‰“å¼€â€œoptimum/version.pyâ€ï¼Œå› ä¸º[Errno 2]æ²¡æœ‰è¿™æ ·çš„æ–‡ä»¶æˆ–ç›®å½•ï¼šâ€œoptimum/version.pyâ€</title>
      <link>https://stackoverflow.com/questions/77649233/how-to-install-swarms-assertionerror-error-could-not-open-optimum-version-py</link>
      <description><![CDATA[æˆ‘æ­£åœ¨å°è¯•å®‰è£… swarmsï¼Œä½†æ— æ³•å®‰è£…å¹¶æ”¶åˆ°æ­¤é”™è¯¯ï¼š
pip install swarms

æ”¶é›†èœ‚ç¾¤
  ä½¿ç”¨ç¼“å­˜çš„ swarms-2.7.7-py3-none-any.whl.metadata (15 kB)
æ”¶é›†æ•å¤´ï¼ˆä»èœ‚ç¾¤ä¸­ï¼‰
  ä½¿ç”¨ç¼“å­˜çš„ Pillow-10.1.0-cp310-cp310-manylinux_2_28_x86_64.whl.metadata (9.5 kB)
æ”¶é›† PyPDF2ï¼ˆä»ç¾¤ä¸­ï¼‰
  ä½¿ç”¨ç¼“å­˜çš„ pypdf2-3.0.1-py3-none-any.whl (232 kB)
æ”¶é›†åŠ é€Ÿï¼ˆæ¥è‡ªèœ‚ç¾¤ï¼‰
  ä½¿ç”¨ç¼“å­˜çš„ Accelerate-0.25.0-py3-none-any.whl.metadata (18 kB)
æ”¶é›† asyncioï¼ˆä»ç¾¤ä¸­ï¼‰
...
ä½¿ç”¨ç¼“å­˜çš„optimum-0.1.1.tar.gz (17 kB)
  å®‰è£…æ„å»ºä¾èµ–é¡¹...å®Œæˆ
  è·å–åˆ¶é€ è½®å­çš„è¦æ±‚...å®Œæˆ
  å‡†å¤‡å…ƒæ•°æ® (pyproject.toml) ...å®Œæˆ
  ä½¿ç”¨ç¼“å­˜çš„optimum-0.1.0.tar.gz (16 kB)
  å®‰è£…æ„å»ºä¾èµ–é¡¹...å®Œæˆ
  è·å–æ„å»ºè½®å­çš„è¦æ±‚...é”™è¯¯
  é”™è¯¯ï¼šå­è¿›ç¨‹é€€å‡ºå¹¶å‡ºç°é”™è¯¯
  
  Ã— è·å–æ„å»º Wheel çš„éœ€æ±‚æœªæˆåŠŸè¿è¡Œã€‚
  â”‚ é€€å‡ºä»£ç ï¼š1
  â•°â”€&gt; [24è¡Œè¾“å‡º]
      å›æº¯ï¼ˆæœ€è¿‘ä¸€æ¬¡è°ƒç”¨æœ€åä¸€æ¬¡ï¼‰ï¼š
        æ–‡ä»¶â€œâ€ï¼Œç¬¬ 7 è¡Œï¼Œä½äº  ä¸­ã€‚
      FileNotFoundErrorï¼š[Errno 2]æ²¡æœ‰è¿™æ ·çš„æ–‡ä»¶æˆ–ç›®å½•ï¼š&#39;optimum/version.py&#39;
      
      åœ¨å¤„ç†ä¸Šè¿°å¼‚å¸¸çš„è¿‡ç¨‹ä¸­ï¼Œåˆå‡ºç°äº†ä¸€ä¸ªå¼‚å¸¸ï¼š
      
      å›æº¯ï¼ˆæœ€è¿‘ä¸€æ¬¡è°ƒç”¨æœ€åä¸€æ¬¡ï¼‰ï¼š
        æ–‡ä»¶â€œ/home/ubuntu/miniconda/envs/tree_of_thoughts/lib/python3.10/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.pyâ€ï¼Œç¬¬ 353 è¡Œï¼Œåœ¨  ä¸­
          ä¸»è¦çš„ï¼ˆï¼‰
        æ–‡ä»¶â€œ/home/ubuntu/miniconda/envs/tree_of_thoughts/lib/python3.10/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.pyâ€ï¼Œç¬¬ 335 è¡Œï¼Œåœ¨ main ä¸­
          json_out[&#39;return_val&#39;] = hook(**hook_input[&#39;kwargs&#39;])
        æ–‡ä»¶â€œ/home/ubuntu/miniconda/envs/tree_of_thoughts/lib/python3.10/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.pyâ€ï¼Œç¬¬ 118 è¡Œï¼Œåœ¨ get_requires_for_build_wheel ä¸­
          è¿”å›é’©å­ï¼ˆconfig_settingsï¼‰
        æ–‡ä»¶â€œ/tmp/pip-build-env-rn01vqif/overlay/lib/python3.10/site-packages/setuptools/build_meta.pyâ€ï¼Œç¬¬ 325 è¡Œï¼Œåœ¨ get_requires_for_build_wheel ä¸­
          è¿”å› self._get_build_requires(config_settings, requests=[&#39;wheel&#39;])
        æ–‡ä»¶â€œ/tmp/pip-build-env-rn01vqif/overlay/lib/python3.10/site-packages/setuptools/build_meta.pyâ€ï¼Œç¬¬ 295 è¡Œï¼Œä½äº _get_build_requires ä¸­
          self.run_setup()
        æ–‡ä»¶â€œ/tmp/pip-build-env-rn01vqif/overlay/lib/python3.10/site-packages/setuptools/build_meta.pyâ€ï¼Œç¬¬ 480 è¡Œï¼Œåœ¨ run_setup ä¸­
          è¶…çº§ï¼ˆ_BuildMetaLegacyBackendï¼Œè‡ªæˆ‘ï¼‰.run_setupï¼ˆsetup_script = setup_scriptï¼‰
        æ–‡ä»¶â€œ/tmp/pip-build-env-rn01vqif/overlay/lib/python3.10/site-packages/setuptools/build_meta.pyâ€ï¼Œç¬¬ 311 è¡Œï¼Œåœ¨ run_setup ä¸­
          æ‰§è¡Œï¼ˆä»£ç ï¼Œå±€éƒ¨å˜é‡ï¼ˆï¼‰ï¼‰
        æ–‡ä»¶â€œâ€ï¼Œç¬¬ 10 è¡Œï¼Œä½äº  ä¸­ã€‚
      AssertionErrorï¼šé”™è¯¯ï¼šæ— æ³•æ‰“å¼€â€œoptimum/version.pyâ€ï¼Œå› ä¸º[Errno 2]æ²¡æœ‰è¿™æ ·çš„æ–‡ä»¶æˆ–ç›®å½•ï¼šâ€œoptimum/version.pyâ€
      
      [è¾“å‡ºç»“æŸ]
  
  æ³¨æ„ï¼šæ­¤é”™è¯¯æºè‡ªå­è¿›ç¨‹ï¼Œå¹¶ä¸”å¯èƒ½ä¸æ˜¯ pip çš„é—®é¢˜ã€‚
é”™è¯¯ï¼šå­è¿›ç¨‹é€€å‡ºå¹¶å‡ºç°é”™è¯¯

Ã— è·å–æ„å»º Wheel çš„éœ€æ±‚æœªæˆåŠŸè¿è¡Œã€‚
â”‚ é€€å‡ºä»£ç ï¼š1
â•°â”€&gt;è¯·å‚é˜…ä¸Šé¢çš„è¾“å‡ºã€‚

æ³¨æ„ï¼šæ­¤é”™è¯¯æºè‡ªå­è¿›ç¨‹ï¼Œå¹¶ä¸”å¯èƒ½ä¸æ˜¯ pip çš„é—®é¢˜ã€‚

å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ
äº¤å‰ï¼šhttps://discord.com/channels/999382051935506503/1184252377356836954]]></description>
      <guid>https://stackoverflow.com/questions/77649233/how-to-install-swarms-assertionerror-error-could-not-open-optimum-version-py</guid>
      <pubDate>Tue, 12 Dec 2023 21:58:14 GMT</pubDate>
    </item>
    <item>
      <title>æ•°å­¦å›¾æ•°æ®é›†[å…³é—­]</title>
      <link>https://stackoverflow.com/questions/77648552/math-graph-dataset</link>
      <description><![CDATA[æˆ‘æ­£åœ¨å¯»æ‰¾åŒ…å«é€šè¿‡æŸäº›æ–¹ç¨‹è·å¾—çš„å¯èƒ½å›¾å½¢çš„ä»»ä½•æ•°æ®é›†ï¼Œå› ä¸ºæˆ‘æƒ³åˆ¶ä½œå’Œè®­ç»ƒä¸€ä¸ªäººå·¥æ™ºèƒ½æ¨¡å‹ï¼Œå½“ç»™å®šå›¾åƒæ—¶ï¼Œå®ƒå°†è·å–å›¾åƒçš„è½®å»“ï¼Œå¹¶è¿”å›ä¸€ç³»åˆ—æ•°å­¦æ–¹ç¨‹ï¼Œå½“ä¾‹å¦‚åœ¨ Desmos å›¾å½¢è®¡ç®—å™¨ ä¸­ç»˜åˆ¶çš„ï¼Œç»™å‡ºå›¾åƒçš„è½®å»“ã€‚
æˆ‘å°è¯•æ‹æ‘„ç…§ç‰‡å¹¶å•ç‹¬æ ‡è®°æ¯å¼ ç…§ç‰‡ï¼Œä½†è¿™éœ€è¦å¾ˆé•¿æ—¶é—´ï¼æˆ‘å¸Œæœ›æˆ‘èƒ½æ‰¾åˆ°ä¸€ä¸ªè‡³å°‘åŒ…å«ä¸€äº›åŸºæœ¬å›¾è¡¨çš„æ•°æ®é›†ï¼Œæˆ‘å¯ä»¥ä»é‚£é‡Œç»§ç»­ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77648552/math-graph-dataset</guid>
      <pubDate>Tue, 12 Dec 2023 19:20:44 GMT</pubDate>
    </item>
    <item>
      <title>å¦‚ä½•ä½¿ç”¨ openai å’Œ langchain å°†å·²åˆ›å»ºçš„ chromadb é›†åˆä¸æ³•å­¦ç¡•å£«ä¸€èµ·ä½¿ç”¨ï¼Ÿ</title>
      <link>https://stackoverflow.com/questions/77642444/how-can-you-use-an-already-created-chromadb-collection-with-a-llm-using-openai-a</link>
      <description><![CDATA[æˆ‘å·²ç»ä½¿ç”¨å…¶æ–‡æ¡£å’Œå…ƒæ•°æ®åˆ›å»ºäº† chromadb é›†åˆã€‚
é—®é¢˜æ˜¯å½“æˆ‘æƒ³ä½¿ç”¨ langchain åˆ›å»º llm å¹¶ä¼ é€’æ­¤ chromadb é›†åˆä»¥ç”¨ä½œçŸ¥è¯†åº“æ—¶ã€‚
langchain_chroma = è‰²åº¦(
å®¢æˆ·ç«¯=æŒä¹…å®¢æˆ·ç«¯ï¼Œ
é›†åˆåç§°=é›†åˆ.åç§°,
embedding_function = openai_efï¼Œ
ï¼‰

llm_model =â€œgtp35turbo-æœ€æ–°â€

llm = AzureChatOpenAI(
   api_key=openai_api_key,
   api_version=openai_api_version,
   azure_endpoint=openai_api_base,
   æ¨¡å‹=llm_æ¨¡å‹ï¼‰

qa_chain = RetrievalQA.from_chain_type(
   å—¯ï¼Œ
   æ£€ç´¢å™¨=langchain_chroma.as_retriever(),
   chain_type=&quot;ç²¾ç‚¼&quot;
ï¼‰

å½“æˆ‘æƒ³è·‘æ­¥æ—¶ï¼š
qa_chain.run(â€œå¯¹è±¡æ£€æµ‹é—®é¢˜éœ€è¦å¤šå°‘æ•°æ®ç§‘å­¦å®¶â€)

æˆ‘æ”¶åˆ°æ­¤é”™è¯¯ï¼š
AttributeError Tracebackï¼ˆæœ€è¿‘ä¸€æ¬¡è°ƒç”¨æœ€åä¸€æ¬¡ï¼‰
&lt;ipython-input-81-3cdb65aeb43e&gt;åœ¨&lt;ç»†èƒç³»ï¼š1&gt;()
----&gt; 1 qa.run(â€œå¯¹è±¡æ£€æµ‹é—®é¢˜éœ€è¦å¤šå°‘æ•°æ®ç§‘å­¦å®¶â€)

9å¸§
/usr/local/lib/python3.10/dist-packages/langchain/vectorstores/chroma.py ä¸­ç›¸ä¼¼æ€§_search_with_score(self, query, k, filter, where_document, **kwargs)
    ç¬¬430ç« ï¼‰
    ç¬¬431ç« ï¼š
--&gt;ç¬¬432ç« 
    ç¬¬433ç« 
    ç¬¬434ç« 

AttributeErrorï¼šâ€œOpenAIEmbeddingFunctionâ€å¯¹è±¡æ²¡æœ‰å±æ€§â€œembed_queryâ€

å¦‚ä½•è§£å†³ï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/77642444/how-can-you-use-an-already-created-chromadb-collection-with-a-llm-using-openai-a</guid>
      <pubDate>Mon, 11 Dec 2023 21:17:23 GMT</pubDate>
    </item>
    <item>
      <title>å¯¹åŒ…å« nan å…ƒç´ çš„ xarray æ•°æ®æ‰§è¡Œ sklearn.linearmodel å²­å›å½’</title>
      <link>https://stackoverflow.com/questions/77640756/performing-sklearn-linearmodel-ridge-regression-on-xarray-data-which-contains-na</link>
      <description><![CDATA[æˆ‘æ­£åœ¨å°è¯•æ‰§è¡Œå¸¦æœ‰å²­æ ¡æ­£çš„å¤šå…ƒçº¿æ€§å›å½’ï¼Œä»¥ç¡®å®š xarray æ•°æ®æ¡†ä¸­æŸäº›ç©ºé—´å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚å› ä¸ºè¿™äº›æ˜¯è§‚å¯Ÿåˆ°çš„æ•°æ®ï¼Œæ‰€ä»¥æ•°æ®ä¸­å¶å°”ä¼šæœ‰ NaN å€¼ï¼Œè¿™æ˜¯ sklearn æœ¬èº«æ— æ³•å¤„ç†çš„ã€‚æˆ‘å°è¯•ä½¿ç”¨ data.interpolate_na(fill_value=&#39;extrapolate&#39;)ï¼Œä½†è¿™æ— æ³•æ›¿æ¢æ‰€æœ‰ NaN å€¼ã€‚ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ data.fillna(0) ï¼Œä½†è¿™å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºå½“æ’å€¼æˆ–å±è”½ä¹‹ç±»çš„æ–¹æ³•ä¼šæ›´å¥½æ—¶ï¼Œæˆ‘ä¸å¸Œæœ›ä»æ•´ä¸ªå¸ƒæ–™ä¸­â€œå‘æ˜â€æ•°æ®ã€‚æˆ‘çš„ä»£ç å¦‚ä¸‹ï¼š
ä» sklearn.linear_model å¯¼å…¥ Ridge
å°† xarray å¯¼å…¥ä¸º xr
å°† pandas å¯¼å…¥ä¸º pd
å°† numpy å¯¼å…¥ä¸º np
å°† matplotlib.pyplot å¯¼å…¥ä¸º plt
å°† cartopy.crs å¯¼å…¥ä¸º ccrs

def detrend_dim(da, dim, deg=1): # ä»æ•°æ®ä¸­åˆ é™¤ï¼ˆæ—¶é—´ï¼‰è¶‹åŠ¿
    # æ²¿å•ä¸€ç»´åº¦å»è¶‹åŠ¿
    p = da.polyfit(dim=dim, deg=deg)
    fit = xr.polyval(da[dim], p.polyfit_coefficients)
    è¿”å› da - é€‚åˆ

#åŠ è½½å’Œé¢„å¤„ç†æ•°æ®
data = xr.open_dataset(&#39;reanalysisdata.nc&#39;)
data2 = xr.open_dataset(&#39;satellitedata.nc&#39;)
åœŸåœ° = xr.open_dataset(&#39;twopt Fivedeglandmask.nc&#39;)
data2.coords[&#39;mask&#39;] = ((&#39;lat&#39;, &#39;lon&#39;), land.FRLAND.mean(dim=&#39;time&#39;).data)
æ•°æ®2 = æ•°æ®2.where(æ•°æ®2.æ©ç == 0)
data.coords[&#39;mask&#39;] = ((&#39;lat&#39;, &#39;lon&#39;), land.FRLAND.mean(dim=&#39;time&#39;).data)
æ•°æ® = æ•°æ®.where(æ•°æ®.æ©ç  == 0)

#å°è¯•å¤„ç† NaN å€¼
æ•°æ® = data.fillna(0)
æ•°æ®2 = æ•°æ®2.fillna(0)

#åˆ é™¤æ—¶é—´è¶‹åŠ¿
æ•°æ®[&#39;x1&#39;] = detrend_dim(data.x1, &#39;æ—¶é—´&#39;)
æ•°æ®[&#39;x2&#39;] = detrend_dim(data.x2, &#39;æ—¶é—´&#39;)
æ•°æ®[&#39;x3&#39;] = detrend_dim(data.x3, &#39;æ—¶é—´&#39;)
data2[&#39;y&#39;] = detrend_dim(data2.y, &#39;æ—¶é—´&#39;)

#å»é™¤å­£èŠ‚å‘¨æœŸ
dataM = data.groupby(&#39;æ—¶é—´.æœˆä»½&#39;)
æ•°æ®U = æ•°æ®M - æ•°æ®M.mean()
data2M = data2.groupby(&#39;æ—¶é—´.æœˆä»½&#39;)
data2U = data2M - data2M.mean()

#æ‰§è¡Œå›å½’
a = np.zeros((72,144,3))
å¯¹äºèŒƒå›´å†…çš„ i(len(data.lat))ï¼š
    å¯¹äºèŒƒå›´å†…çš„ j(len(data.lon))ï¼š
        a[i,j,:] = (Ridge().fit(np.array((dataU.isel(lev=2).x1.values[:,i,j].reshape(-1,1),
                    dataU.isel(lev=2).x2.values[:,i,j].reshape(-1,1),
                    dataU.isel(lev=2).x3.values[:,i,j].reshape(-1,1))).reshape(108,3),
                    data2U.y.values[:,i,j].reshape(108)).coef_)
dataU = data.assign_coords(varname=[&#39;x1&#39;,&#39;x2&#39;,&#39;x3&#39;])
dataU[&#39;multiple_reg_coeff&#39;] = ((&#39;lat&#39;,&#39;lon&#39;,&#39;varname&#39;), a)

æˆ‘éœ€è¦è¿­ä»£æ£€æŸ¥æ¯ä¸ªå˜é‡çš„ NaN å—ï¼Ÿ sklearn.linear_model ä¸­æœ‰ä¸€äº›å›å½’æœ¬èº«å¯ä»¥å¤„ç† NaNï¼Œä½†æˆ‘å¯¹å®ƒä»¬èƒŒåçš„æ•°å­¦çš„ç†è§£ä¸å¦‚å²­å›å½’ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/77640756/performing-sklearn-linearmodel-ridge-regression-on-xarray-data-which-contains-na</guid>
      <pubDate>Mon, 11 Dec 2023 15:48:54 GMT</pubDate>
    </item>
    <item>
      <title>è°ƒæ•´å›¾åƒåˆ†å‰²æ¨¡å‹ï¼ˆæ¥è‡ª TF æ•™ç¨‹ï¼‰ä»¥è¿›è¡ŒäºŒå…ƒæ©è”½</title>
      <link>https://stackoverflow.com/questions/77635064/adjust-image-segmentaion-model-from-tf-tutorial-for-binary-masking</link>
      <description><![CDATA[æˆ‘éœ€è¦ Tensorflow çš„å›¾åƒåˆ†å‰²æ¨¡å‹ã€‚è¾“å…¥ä¸ºå›¾åƒå’Œæ©ç ï¼ˆäºŒè¿›åˆ¶ã€æ©ç æˆ–éæ©ç ï¼‰ï¼Œè¾“å‡ºä¸ºå¸¦æœ‰ 0 å’Œ 1 çš„å›¾åƒæ©ç ã€‚
æˆ‘éµå¾ªäº† https://www.tensorflow.org/tutorials/ ä¸­çš„å›¾åƒåˆ†å‰²æ•™ç¨‹å›¾åƒ/åˆ†å‰²
ä½†ç°åœ¨æˆ‘æƒ³åœ¨æˆ‘çš„æ•°æ®é›†ä¸Šè¿è¡Œå®ƒçš„äºŒè¿›åˆ¶æ©ç ï¼ˆæ²¡æœ‰è¾¹æ¡†ç±»ï¼‰
æ–°æ•°æ®é›†å·²å‡†å¤‡å¥½å¹¶è¾“å…¥åˆ° model.fit ä¸­ã€‚åº”è¯¥æ²¡é—®é¢˜å§ã€‚
å¦‚ä½•å°†æ­¤æ¨¡å‹æ›´æ”¹ä¸ºåªæœ‰ 2 ä¸ªç±»ï¼ˆéå±è”½å’Œå±è”½ï¼‰ï¼Ÿ
base_model: keras.Model = tf.keras.applications.MobileNetV2(input_shape=[128, 128, 3], include_top=False)

# ä½¿ç”¨è¿™äº›å±‚çš„æ¿€æ´»
å›¾å±‚åç§° = [
    &#39;block_1_expand_relu&#39;, # 64x64
    &#39;block_3_expand_relu&#39;, # 32x32
    &#39;block_6_expand_relu&#39;, # 16x16
    &#39;block_13_expand_relu&#39;, # 8x8
    &#39;block_16_project&#39;, # 4x4
]
base_model_outputs = [base_model.get_layer(name).layer_names ä¸­åç§°çš„è¾“å‡º]

# åˆ›å»ºç‰¹å¾æå–æ¨¡å‹
down_stack = æ¨¡å‹ï¼ˆè¾“å…¥=base_model.è¾“å…¥ï¼Œè¾“å‡º=base_model_outputsï¼‰

down_stack.trainable = False

ä¸Šå±‚å †æ ˆ = [
    pix2pix.upsample(512, 3), # 4x4 -&gt; 8x8
    pix2pix.upsample(256, 3), # 8x8 -&gt; 16x16
    pix2pix.upsample(128, 3), # 16x16 -&gt; 32x32
    pix2pix.upsample(64, 3), # 32x32 -&gt; 64x64
]

def unet_model(output_channels:int):
  è¾“å…¥ = å±‚.Input(å½¢çŠ¶=[128, 128, 3])

  # é€šè¿‡æ¨¡å‹è¿›è¡Œä¸‹é‡‡æ ·
  è·³è¿‡= down_stackï¼ˆè¾“å…¥ï¼‰
  x = è·³è¿‡[-1]
  è·³è¿‡ = åè½¬(è·³è¿‡[:-1])

  # ä¸Šé‡‡æ ·å¹¶å»ºç«‹è·³è·ƒè¿æ¥
  å¯¹äº upï¼Œåœ¨ zip ä¸­è·³è¿‡ï¼ˆup_stackï¼Œskipsï¼‰ï¼š
    x = ä¸Š(x)
    concat = å±‚.Concatenate()
    x = concat([x, è·³è¿‡])

  # è¿™æ˜¯æ¨¡å‹çš„æœ€åä¸€å±‚
  æœ€å=å±‚.Conv2DTranspose(
      è¿‡æ»¤å™¨=output_channelsï¼Œkernel_size=3ï¼Œæ­¥é•¿=2ï¼Œ
      padding=&#39;ç›¸åŒ&#39;) #64x64 -&gt; 128x128

  x = æœ€åä¸€ä¸ª(x)

  è¿”å›æ¨¡å‹ï¼ˆè¾“å…¥=è¾“å…¥ï¼Œè¾“å‡º=xâ€‹â€‹ï¼‰

è¾“å‡ºç±» = 3

æ¨¡å‹ = unet_model(output_channels=OUTPUT_CLASSES)

model.compile(ä¼˜åŒ–å™¨=&#39;äºšå½“&#39;,
              æŸå¤±=&#39;binary_crossentropy&#39;,
              æŒ‡æ ‡=[&#39;å‡†ç¡®æ€§&#39;])

å½“æˆ‘å°† OUTPUT_CLASSES æ›´æ”¹ä¸º 2 æ—¶ï¼Œå‡ºç°é”™è¯¯ï¼š
W tensorflow/core/kernels/data/generator_dataset_op.cc:108] å®Œæˆ GeneratorDataset è¿­ä»£å™¨æ—¶å‘ç”Ÿé”™è¯¯ï¼šFAILED_PRECONDITIONï¼šPython è§£é‡Šå™¨çŠ¶æ€æœªåˆå§‹åŒ–ã€‚è¯¥è¿‡ç¨‹å¯ä»¥è¢«ç»ˆæ­¢ã€‚

å½“OUTPUT_CLASSESä¸º1æ—¶ï¼Œé¢„æµ‹æ©ç ä¸ºç©ºã€‚
ä¹Ÿè®¸è¿˜å¿…é¡»æ”¹å˜å…¶ä»–ä¸œè¥¿ï¼Ÿæˆ‘è¿˜ä¸ç†Ÿæ‚‰ç¥ç»ç½‘ç»œæ¶æ„ï¼Œæ‰€ä»¥æˆ‘å¯èƒ½çœ‹ä¸åˆ°æ˜æ˜¾çš„ä¸œè¥¿ã€‚
ç¼–è¾‘ï¼š
æˆ‘å·²å°†activation=&#39;sigmoid&#39;æ·»åŠ åˆ°è¾“å‡ºå±‚
 æœ€å = tf.keras.layers.Conv2DTranspose(
      è¿‡æ»¤å™¨=output_channelsï¼Œkernel_size=3ï¼Œæ­¥é•¿=2ï¼Œ
      å¡«å…… = &#39;ç›¸åŒ&#39;, æ¿€æ´» = &#39;sigmoid&#39;) #64x64 -&gt; 128x128

  x = æœ€åä¸€ä¸ª(x)

å’ŒOUTPUT_CLASSES = 1
å¥‡æ€ªçš„è¡Œä¸ºæ˜¯ä¸‹ä¸€ä¸ªï¼š
é¢„æœŸçš„æ©æ¨¡æ˜¯å½“æˆ‘åœ¨ä¸€ä¸ªéå¸¸å°çš„æ•°æ®é›†ä¸Šè®­ç»ƒå®ƒæ—¶ï¼ˆè¯¥æ•°æ®é›†ä¸­åŒ…å«çš„æµ‹è¯•çš„å›¾ç‰‡å’Œæ©æ¨¡ï¼Œåªæ˜¯ä¸ºäº†æµ‹è¯•å®ƒå¦‚ä½•æ£€æµ‹æ‰€çœ‹åˆ°çš„å›¾åƒï¼‰ï¼Œæˆ‘åœ¨ç¬¬ä¸€ä¸ªæ—¶æœŸå¾—åˆ°äº†ä¸€äº›ä¸œè¥¿ã€‚ä½†çºªå…ƒè¶Šå¤šï¼Œç»“æœè¶Šå·®ã€‚ç„¶è€Œï¼Œå‡†ç¡®åº¦çº¦ä¸º 0.99ã€‚
é¢„æœŸæ©ç ï¼š

é¢„æµ‹æ©ç çºªå…ƒ 0ï¼š

å¦‚æœæ‰“å¼€å›¾åƒï¼Œæ‚¨å¯èƒ½ä¼šåœ¨é¢„æœŸçš„é®ç½©éƒ¨åˆ†çœ‹åˆ°è½»å¾®çš„é˜´å½±ã€‚
é¢„æµ‹æ©ç çºªå…ƒ1ï¼š

...
çºªå…ƒ 4ï¼š

æ‰€ä»¥æ¯æ¬¡è¿­ä»£éƒ½ä¼šå˜å¾—æ›´ç³Ÿã€‚
æ•°æ®é›†åŒ…å«ä¸åº”æ˜¾ç¤ºä»»ä½•è’™ç‰ˆçš„å›¾åƒã€‚ä¹Ÿè®¸è¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨ï¼Ÿ ï¼ˆç¼–è¾‘ï¼šä»æ•°æ®é›†ä¸­æ’é™¤æ²¡æœ‰æ©ç çš„æ•°æ® - æ²¡æœ‰å¸®åŠ©ï¼‰
ç¼–è¾‘2ï¼š
x = tf.keras.layers.BatchNormalization()(x)

æœ‰å¸®åŠ©ï¼Œè™½ç„¶ä¸å®Œç¾ï¼Œä½†æ˜¯æœ‰æ‰€å¸®åŠ©]]></description>
      <guid>https://stackoverflow.com/questions/77635064/adjust-image-segmentaion-model-from-tf-tutorial-for-binary-masking</guid>
      <pubDate>Sun, 10 Dec 2023 13:55:04 GMT</pubDate>
    </item>
    <item>
      <title>å½“æˆ‘å°è¯•ä» Transformer å¯¼å…¥ Trainer æ—¶ï¼ŒDLL å¤±è´¥</title>
      <link>https://stackoverflow.com/questions/77633777/dll-failed-when-i-tried-to-import-trainer-from-transformers</link>
      <description><![CDATA[æˆ‘æƒ³åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå¾®è°ƒåŸºäº Transformer çš„æ¨¡å‹ï¼Œå› æ­¤å½“æˆ‘å°è¯•å¯¼å…¥è®­ç»ƒå™¨æ—¶
ä» Transformers å¯¼å…¥ Trainer

å‡ºç°æ­¤é”™è¯¯
å¯¼å…¥é”™è¯¯ï¼šå¯¼å…¥ lib æ—¶ DLL åŠ è½½å¤±è´¥ï¼šæ‰¾ä¸åˆ°æŒ‡å®šçš„è¿‡ç¨‹ã€‚
è¿è¡Œæ—¶é”™è¯¯ï¼šç”±äºä»¥ä¸‹é”™è¯¯ï¼Œæ— æ³•å¯¼å…¥transformers.trainerï¼ˆæŸ¥æ‰¾å…¶å›æº¯ï¼‰ï¼š
å¯¼å…¥ lib æ—¶ DLL åŠ è½½å¤±è´¥ï¼šæ‰¾ä¸åˆ°æŒ‡å®šçš„è¿‡ç¨‹ã€‚
å¦‚ä½•è§£å†³æ­¤é”™è¯¯ï¼Ÿ
ç¯å¢ƒ
èŸ’è›‡
åº“è¾¾12.3
Python 3.9.18
ç«ç‚¬2.1.0+cu118
ç«ç‚¬éŸ³é¢‘2.1.0+cu118
ç«ç‚¬è§†è§‰ 0.16.0+cu118
å˜å½¢é‡‘åˆš4.35.2

æˆ‘å°è¯•å‡çº§CUDAï¼Œå‡çº§å’Œé™çº§transformersåº“ï¼ŒtorchåŠå…¶å­åº“ï¼Œä½†æ²¡æœ‰å¸®åŠ©]]></description>
      <guid>https://stackoverflow.com/questions/77633777/dll-failed-when-i-tried-to-import-trainer-from-transformers</guid>
      <pubDate>Sun, 10 Dec 2023 05:33:49 GMT</pubDate>
    </item>
    <item>
      <title>ValidationErrorï¼šStuffDocumentsChain __root__ å‡ºç° 1 ä¸ªéªŒè¯é”™è¯¯</title>
      <link>https://stackoverflow.com/questions/76776695/validationerror-1-validation-error-for-stuffdocumentschain-root</link>
      <description><![CDATA[æˆ‘æ”¶åˆ°æ­¤é”™è¯¯ValidationErrorï¼šåœ¨ llm_chain input_variables ä¸­æ‰¾ä¸åˆ° StuffDocumentsChain __root__ document_variable_name ä¸Šä¸‹æ–‡çš„ 1 ä¸ªéªŒè¯é”™è¯¯ï¼š[&#39;chat_history&#39;ã€&#39;user_query&#39;ã€&#39;relevant_context&#39;] (type=value_error)
åœ¨ä½¿ç”¨ load_qa_chain æ—¶ï¼Œæˆ‘æœç´¢äº†æ­¤é”™è¯¯ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°ä¸æ­¤ç›¸å…³çš„ä»»ä½•å†…å®¹ã€‚è°èƒ½å‘Šè¯‰æˆ‘è¿™é‡Œç¼ºå°‘ä»€ä¹ˆã€‚
ä»£ç ï¼š
template = &quot;&quot;&quot;æ‚¨æ˜¯ä¸€ä¸ªæ­£åœ¨ä¸äººç±»å¯¹è¯çš„èŠå¤©æœºå™¨äººã€‚

ç»™å®šé•¿æ–‡æ¡£å’Œé—®é¢˜çš„ä»¥ä¸‹æå–éƒ¨åˆ†ï¼Œåˆ›å»ºæœ€ç»ˆç­”æ¡ˆã€‚

{ç›¸å…³ä¸Šä¸‹æ–‡}

{èŠå¤©è®°å½•}
äººç±»ï¼š{user_query}
èŠå¤©æœºå™¨äººï¼šâ€œâ€â€œâ€

æç¤º=æç¤ºæ¨¡æ¿(
input_variables=[â€œchat_historyâ€, â€œuser_queryâ€, â€œrelevant_contextâ€],
æ¨¡æ¿=æ¨¡æ¿
ï¼‰

å†…å­˜ = ConversationBufferMemory(memory_key=â€œchat_historyâ€, input_key=â€œuser_queryâ€)

llm = OpenAI()
llm_chain = LLMChain(
    llm=llm,
    æç¤º=æç¤ºï¼Œ
    å†…å­˜=å†…å­˜ï¼Œ
ï¼‰

é“¾ = load_qa_chain(
    llm, chain_type=â€œä¸œè¥¿â€, å†…å­˜=å†…å­˜, æç¤º=æç¤º
ï¼‰
]]></description>
      <guid>https://stackoverflow.com/questions/76776695/validationerror-1-validation-error-for-stuffdocumentschain-root</guid>
      <pubDate>Thu, 27 Jul 2023 05:20:25 GMT</pubDate>
    </item>
    <item>
      <title>Google Colab å…è´¹å¥—é¤ï¼šä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†å¾®è°ƒ LLAMA 2 æ—¶ï¼Œä»£ç åœæ­¢åœ¨ 51,000 ä¸ªç¤ºä¾‹</title>
      <link>https://stackoverflow.com/questions/76765564/google-colab-free-tier-code-stops-at-51-000-examples-while-fine-tuning-llama-2</link>
      <description><![CDATA[æˆ‘åœ¨ä½¿ç”¨è‡ªå®šä¹‰æ•°æ®é›†åœ¨ Google Colab ä¸Šå¾®è°ƒ Llama 2 æ—¶é‡åˆ°é—®é¢˜ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä»£ç æ°å¥½åœ¨ 51,000 ä¸ªç¤ºä¾‹å¤„åœæ­¢ï¼Œå°½ç®¡æˆ‘çš„æ•°æ®é›†åŒ…å« 61,609 ä¸ªç¤ºä¾‹ã€‚å¥‡æ€ªçš„æ˜¯ï¼Œå½“æˆ‘ä½¿ç”¨æ›´å¤§çš„æ•°æ®é›†æµ‹è¯•ä»£ç æ—¶ï¼Œå®ƒè¿è¡Œå¾—éå¸¸å¥½ã€‚æˆ‘æŒ‰ç…§ YouTube ä¸Šçš„æ•™ç¨‹å¯¹ Llama 2 è¿›è¡Œäº†å¾®è°ƒï¼Œæ‚¨å¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°åŸå§‹ Colab å’Œæ•™ç¨‹é“¾æ¥ï¼š
æ•™ç¨‹é“¾æ¥ï¼šYouTube æ•™ç¨‹
åŸå§‹ Colabï¼šGoogle Colab
æ•°æ®é›†é“¾æ¥ï¼šæˆ‘çš„è‡ªå®šä¹‰æ•°æ®é›†
ä»£ç ï¼š
!pip install -q -U trl å˜å‹å™¨åŠ é€Ÿ git+https://github.com/huggingface/peft.git
!pip install -q æ•°æ®é›† BitsandBytes einops wandb

ä»æ•°æ®é›†å¯¼å…¥load_dataset
ä» Transformer å¯¼å…¥ AutoTokenizerã€TrainingArguments
ä» peft å¯¼å…¥ LoraConfigï¼Œget_peft_model
ä» trl å¯¼å…¥ SFTTrainer

# åŠ è½½æ•°æ®é›†
dataset_name = &#39;harpyerr/merged-pf&#39;
æ•°æ®é›† = load_dataset(dataset_name, split=&quot;train&quot;)

# å®šä¹‰model_nameã€lora_alphaã€lora_dropoutã€lora_rç­‰é…ç½®
model_name = â€œyour_pretrained_model_nameâ€ # æ›¿æ¢ä¸ºä½ çš„é¢„è®­ç»ƒæ¨¡å‹çš„åç§°
åŠ³æ‹‰é˜¿å°”æ³• = 16
åŠ³æ‹‰_dropout = 0.1
åŠ³æ‹‰_r = 64

# åˆå§‹åŒ–åˆ†è¯å™¨
tokenizer = AutoTokenizer.from_pretrained(model_name, trust_remote_code=True)
tokenizer.pad_token = tokenizer.eos_token

# å®šä¹‰ LoraConfig
peft_config = LoraConfigï¼ˆ
    åŠ³æ‹‰_é˜¿å°”æ³•=åŠ³æ‹‰_é˜¿å°”æ³•,
    lora_dropout=lora_dropout,
    r=åŠ³æ‹‰_r,
    åå·®=â€œæ— â€ï¼Œ
    task_type=â€œCAUSAL_LMâ€
ï¼‰

# å®šä¹‰è®­ç»ƒå‚æ•°
è¾“å‡ºç›®å½•=â€œ./ç»“æœâ€
æ¯ä¸ªè®¾å¤‡è®­ç»ƒæ‰¹æ¬¡å¤§å° = 4
æ¢¯åº¦ç´¯ç§¯æ­¥æ•° = 4
optim = â€œpaged_adamw_32bitâ€
ä¿å­˜æ­¥æ•° = 100
è®°å½•æ­¥éª¤ = 10
å­¦ä¹ ç‡ = 2e-4
æœ€å¤§æ¢¯åº¦èŒƒæ•° = 0.3
æœ€å¤§æ­¥æ•° = 100
é¢„çƒ­æ¯”ç‡ = 0.03
lr_scheduler_type = â€œå¸¸é‡â€

è®­ç»ƒå‚æ•° = è®­ç»ƒå‚æ•°ï¼ˆ
    è¾“å‡ºç›®å½•=è¾“å‡ºç›®å½•ï¼Œ
    per_device_train_batch_size = per_device_train_batch_sizeï¼Œ
    æ¢¯åº¦ç´¯ç§¯æ­¥æ•°=æ¢¯åº¦ç´¯ç§¯æ­¥æ•°ï¼Œ
    ä¼˜åŒ–=ä¼˜åŒ–ï¼Œ
    ä¿å­˜æ­¥éª¤=ä¿å­˜æ­¥éª¤ï¼Œ
    æ—¥å¿—è®°å½•æ­¥éª¤=æ—¥å¿—è®°å½•æ­¥éª¤ï¼Œ
    å­¦ä¹ ç‡=å­¦ä¹ ç‡ï¼Œ
    fp16=æ­£ç¡®ï¼Œ
    max_grad_norm=max_grad_norm,
    æœ€å¤§æ­¥æ•°=æœ€å¤§æ­¥æ•°ï¼Œ
    Warmup_ratio=warmup_ratio,
    group_by_length=çœŸï¼Œ
    lr_scheduler_type = lr_scheduler_typeï¼Œ
ï¼‰

# åˆå§‹åŒ– SFTTrainer
æœ€å¤§åºåˆ—é•¿åº¦ = 512
è®­ç»ƒå¸ˆ = SFTTrainer(
    å‹å·=å‹å·ï¼Œ
    train_dataset=æ•°æ®é›†ï¼Œ
    pft_config=peft_config,
    dataset_text_field=&quot;æ–‡æœ¬&quot;,
    max_seq_length = max_seq_lengthï¼Œ
    åˆ†è¯å™¨=åˆ†è¯å™¨ï¼Œ
    args=è®­ç»ƒå‚æ•°ï¼Œ
ï¼‰

# å°†æ‰€æœ‰æ ‡å‡†åŒ–å±‚è½¬æ¢ä¸º float32
è¿›å£ç«ç‚¬
å¯¹äºåç§°ï¼Œtrainer.model.named_modules() ä¸­çš„æ¨¡å—ï¼š
    å¦‚æœâ€œæ­£å¸¸â€åç§°ï¼š
        æ¨¡å— = module.to(torch.float32)

# å¼€å§‹è®­ç»ƒ
è®­ç»ƒå¸ˆ.train()

æˆ‘å°è¯•ä½¿ç”¨è¾ƒå¤§å°ºå¯¸çš„ä¸åŒæ•°æ®é›†æ¥æ£€æŸ¥é—®é¢˜æ˜¯å¦ç‰¹å®šäºæˆ‘çš„è‡ªå®šä¹‰æ•°æ®é›†ã€‚ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œå½“æˆ‘ä½¿ç”¨å…¶ä»–æ›´å¤§çš„æ•°æ®é›†æ—¶ï¼Œä»£ç è¿è¡Œå¾—éå¸¸å¥½ï¼Œæ²¡æœ‰ä»»ä½•åœæ­¢é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘æ¨æ–­é—®é¢˜ä¸åœ¨äºä»£ç æˆ–è®­ç»ƒå™¨ï¼Œè€Œå¯èƒ½ä¸æˆ‘çš„è‡ªå®šä¹‰æ•°æ®é›†çš„å…·ä½“ç‰¹å¾æœ‰å…³ã€‚]]></description>
      <guid>https://stackoverflow.com/questions/76765564/google-colab-free-tier-code-stops-at-51-000-examples-while-fine-tuning-llama-2</guid>
      <pubDate>Tue, 25 Jul 2023 18:25:00 GMT</pubDate>
    </item>
    <item>
      <title>HuggingFace AutoModelForCasualLM â€œä»…è§£ç å™¨æ¶æ„â€è­¦å‘Šï¼Œå³ä½¿åœ¨è®¾ç½® padding_side='left' åä¹Ÿæ˜¯å¦‚æ­¤</title>
      <link>https://stackoverflow.com/questions/74748116/huggingface-automodelforcasuallm-decoder-only-architecture-warning-even-after</link>
      <description><![CDATA[æˆ‘æ­£åœ¨ä½¿ç”¨
AutoModelForCausalLM å’Œ AutoTokenizer ä½¿ç”¨ DialoGPT ç”Ÿæˆæ–‡æœ¬è¾“å‡ºã€‚
æ— è®ºå‡ºäºä½•ç§åŸå› ï¼Œå³ä½¿ä½¿ç”¨ Huggingface æä¾›çš„ç¤ºä¾‹ï¼Œæˆ‘ä¹Ÿä¼šæ”¶åˆ°æ­¤è­¦å‘Šï¼š
&lt;å—å¼•ç”¨&gt;
æ­£åœ¨ä½¿ç”¨ä»…è§£ç å™¨æ¶æ„ï¼Œä½†æ£€æµ‹åˆ°å³å¡«å……ï¼ä¸ºäº†æ­£ç¡®çš„ç”Ÿæˆç»“æœï¼Œè¯·åœ¨åˆå§‹åŒ–åˆ†è¯å™¨æ—¶è®¾ç½® padding_side=&#39;left&#39;ã€‚

ä»å˜å‹å™¨å¯¼å…¥ AutoModelForCausalLM, AutoTokenizer
è¿›å£ç«ç‚¬


tokenizer = AutoTokenizer.from_pretrained(â€œmicrosoft/DialoGPT-mediumâ€)
æ¨¡å‹ = AutoModelForCausalLM.from_pretrained(â€œmicrosoft/DialoGPT-mediumâ€)

# æˆ‘ä»¬èŠ5è¡Œå§
å¯¹äºèŒƒå›´ï¼ˆ5ï¼‰ä¸­çš„æ­¥éª¤ï¼š
    # å¯¹æ–°çš„ç”¨æˆ·è¾“å…¥è¿›è¡Œç¼–ç ï¼Œæ·»åŠ  eos_token å¹¶åœ¨ Pytorch ä¸­è¿”å›ä¸€ä¸ªå¼ é‡
    new_user_input_ids = tokenizer.encode(input(â€œ&gt;&gt;ç”¨æˆ·:â€) + tokenizer.eos_token, return_tensors=&#39;pt&#39;)

    # å°†æ–°çš„ç”¨æˆ·è¾“å…¥æ ‡è®°é™„åŠ åˆ°èŠå¤©å†å²è®°å½•ä¸­
    bot_input_ids = torch.cat([chat_history_ids, new_user_input_ids], dim=-1) å¦‚æœæ­¥éª¤ &gt; 0 å…¶ä»– new_user_input_ids

    # ç”Ÿæˆå“åº”ï¼ŒåŒæ—¶å°†æ€»èŠå¤©å†å²è®°å½•é™åˆ¶ä¸º 1000 ä¸ªä»¤ç‰Œï¼Œ
    chat_history_ids = model.generate(bot_input_ids, max_length=1000, pad_token_id=tokenizer.eos_token_id)

    # æ¼‚äº®åœ°æ‰“å°æœºå™¨äººæœ€åçš„è¾“å‡ºä»¤ç‰Œ
    print(â€œDialoGPT: {}â€.format(tokenizer.decode(chat_history_ids[:, bot_input_ids.shape[-1]:][0],skip_special_tokens=True)))

ä»£ç ç”± å¾®è½¯åœ¨ Huggingface çš„æ¨¡å‹å¡ä¸Š
æˆ‘å°è¯•å°† padding_side=&#39;left&#39; æ·»åŠ åˆ°æ ‡è®°ç”Ÿæˆå™¨ä¸­ï¼Œä½†è¿™ä¸ä¼šæ”¹å˜ä»»ä½•å†…å®¹ã€‚
æ˜¾ç„¶ï¼ˆä»ä¸€äº›é˜…è¯»æ¥çœ‹ï¼‰DialoGPT æƒ³è¦åœ¨å³ä¾§å¡«å……ï¼Ÿ
æˆ‘æ— æ³•å¼„æ¸…æ¥šè¿™ä¸€ç‚¹ï¼Œå½“æˆ‘å°è¯•è°·æ­Œæœç´¢æ—¶å‡ ä¹æ²¡æœ‰ç»“æœã€‚
æˆ‘èƒ½å¤Ÿåƒè¿™æ ·æŠ‘åˆ¶è­¦å‘Šï¼š
from Transformers.utils å¯¼å…¥æ—¥å¿—è®°å½•

è®°å½•.set_verbosity_info()

ä½†è¿™ä¼¼ä¹ä¸æ˜¯æœ€å¥½çš„ç­”æ¡ˆï¼Ÿ]]></description>
      <guid>https://stackoverflow.com/questions/74748116/huggingface-automodelforcasuallm-decoder-only-architecture-warning-even-after</guid>
      <pubDate>Fri, 09 Dec 2022 20:39:39 GMT</pubDate>
    </item>
    </channel>
</rss>